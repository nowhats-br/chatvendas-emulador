import{i as ya,c as Ss,k as Ps,l as Ea,R as y,r as $,n as T,j as a,a as ce,o as _a,u as Da,g as Va}from"./index-CzIT3y9u.js";import{P as ja}from"./ProductService-DJdeptBB.js";import{T as it}from"./TemplateService-C5x210Bu.js";import{A as Wt}from"./AIConfigService-2_9wLCgs.js";import{C as Co}from"./ChatbotService-BhYm9qNA.js";import{P as Sa}from"./play-DdwLrWWN.js";import{S as Pa}from"./save-DzOm7sR2.js";import"./LogService-D1NsVqvs.js";import"./MetricsService-D-XrjjcY.js";ya();/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ma=Ss("arrow-left",ka);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],La=Ss("loader-circle",Aa);function le(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=le(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Ia={value:()=>{}};function nn(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Rt(n)}function Rt(e){this._=e}function Ta(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",s=n.indexOf(".");if(s>=0&&(o=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Rt.prototype=nn.prototype={constructor:Rt,on:function(e,t){var n=this._,o=Ta(e+"",n),s,r=-1,i=o.length;if(arguments.length<2){for(;++r<i;)if((s=(e=o[r]).type)&&(s=$a(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<i;)if(s=(e=o[r]).type)n[s]=wo(n[s],e.name,t);else if(t==null)for(s in n)n[s]=wo(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Rt(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),o=0,s,r;o<s;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,r=o.length;s<r;++s)o[s].value.apply(t,n)}};function $a(e,t){for(var n=0,o=e.length,s;n<o;++n)if((s=e[n]).name===t)return s.value}function wo(e,t,n){for(var o=0,s=e.length;o<s;++o)if(e[o].name===t){e[o]=Ia,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ln="http://www.w3.org/1999/xhtml";const yo={svg:"http://www.w3.org/2000/svg",xhtml:Ln,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function on(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),yo.hasOwnProperty(t)?{space:yo[t],local:e}:e}function Ba(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ln&&t.documentElement.namespaceURI===Ln?t.createElement(e):t.createElementNS(n,e)}}function Ra(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ks(e){var t=on(e);return(t.local?Ra:Ba)(t)}function za(){}function qn(e){return e==null?za:function(){return this.querySelector(e)}}function Ha(e){typeof e!="function"&&(e=qn(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=new Array(i),d,c,h=0;h<i;++h)(d=r[h])&&(c=e.call(d,d.__data__,h,r))&&("__data__"in d&&(c.__data__=d.__data__),l[h]=c);return new fe(o,this._parents)}function Oa(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Fa(){return[]}function Ms(e){return e==null?Fa:function(){return this.querySelectorAll(e)}}function Wa(e){return function(){return Oa(e.apply(this,arguments))}}function Xa(e){typeof e=="function"?e=Wa(e):e=Ms(e);for(var t=this._groups,n=t.length,o=[],s=[],r=0;r<n;++r)for(var i=t[r],l=i.length,d,c=0;c<l;++c)(d=i[c])&&(o.push(e.call(d,d.__data__,c,i)),s.push(d));return new fe(o,s)}function As(e){return function(){return this.matches(e)}}function Ls(e){return function(t){return t.matches(e)}}var Ya=Array.prototype.find;function Ga(e){return function(){return Ya.call(this.children,e)}}function qa(){return this.firstElementChild}function Ua(e){return this.select(e==null?qa:Ga(typeof e=="function"?e:Ls(e)))}var Ka=Array.prototype.filter;function Za(){return Array.from(this.children)}function Qa(e){return function(){return Ka.call(this.children,e)}}function Ja(e){return this.selectAll(e==null?Za:Qa(typeof e=="function"?e:Ls(e)))}function el(e){typeof e!="function"&&(e=As(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=[],d,c=0;c<i;++c)(d=r[c])&&e.call(d,d.__data__,c,r)&&l.push(d);return new fe(o,this._parents)}function Is(e){return new Array(e.length)}function tl(){return new fe(this._enter||this._groups.map(Is),this._parents)}function Xt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xt.prototype={constructor:Xt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function nl(e){return function(){return e}}function ol(e,t,n,o,s,r){for(var i=0,l,d=t.length,c=r.length;i<c;++i)(l=t[i])?(l.__data__=r[i],o[i]=l):n[i]=new Xt(e,r[i]);for(;i<d;++i)(l=t[i])&&(s[i]=l)}function sl(e,t,n,o,s,r,i){var l,d,c=new Map,h=t.length,m=r.length,f=new Array(h),x;for(l=0;l<h;++l)(d=t[l])&&(f[l]=x=i.call(d,d.__data__,l,t)+"",c.has(x)?s[l]=d:c.set(x,d));for(l=0;l<m;++l)x=i.call(e,r[l],l,r)+"",(d=c.get(x))?(o[l]=d,d.__data__=r[l],c.delete(x)):n[l]=new Xt(e,r[l]);for(l=0;l<h;++l)(d=t[l])&&c.get(f[l])===d&&(s[l]=d)}function rl(e){return e.__data__}function il(e,t){if(!arguments.length)return Array.from(this,rl);var n=t?sl:ol,o=this._parents,s=this._groups;typeof e!="function"&&(e=nl(e));for(var r=s.length,i=new Array(r),l=new Array(r),d=new Array(r),c=0;c<r;++c){var h=o[c],m=s[c],f=m.length,x=al(e.call(h,h&&h.__data__,c,o)),u=x.length,g=l[c]=new Array(u),N=i[c]=new Array(u),b=d[c]=new Array(f);n(h,m,g,N,b,x,t);for(var w=0,p=0,v,_;w<u;++w)if(v=g[w]){for(w>=p&&(p=w+1);!(_=N[p])&&++p<u;);v._next=_||null}}return i=new fe(i,o),i._enter=l,i._exit=d,i}function al(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ll(){return new fe(this._exit||this._groups.map(Is),this._parents)}function cl(e,t,n){var o=this.enter(),s=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?r.remove():n(r),o&&s?o.merge(s).order():s}function ul(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,s=n.length,r=o.length,i=Math.min(s,r),l=new Array(s),d=0;d<i;++d)for(var c=n[d],h=o[d],m=c.length,f=l[d]=new Array(m),x,u=0;u<m;++u)(x=c[u]||h[u])&&(f[u]=x);for(;d<s;++d)l[d]=n[d];return new fe(l,this._parents)}function dl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],s=o.length-1,r=o[s],i;--s>=0;)(i=o[s])&&(r&&i.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(i,r),r=i);return this}function ml(e){e||(e=fl);function t(m,f){return m&&f?e(m.__data__,f.__data__):!m-!f}for(var n=this._groups,o=n.length,s=new Array(o),r=0;r<o;++r){for(var i=n[r],l=i.length,d=s[r]=new Array(l),c,h=0;h<l;++h)(c=i[h])&&(d[h]=c);d.sort(t)}return new fe(s,this._parents).order()}function fl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function pl(){return Array.from(this)}function xl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,r=o.length;s<r;++s){var i=o[s];if(i)return i}return null}function bl(){let e=0;for(const t of this)++e;return e}function gl(){return!this.node()}function Nl(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var s=t[n],r=0,i=s.length,l;r<i;++r)(l=s[r])&&e.call(l,l.__data__,r,s);return this}function vl(e){return function(){this.removeAttribute(e)}}function Cl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wl(e,t){return function(){this.setAttribute(e,t)}}function yl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function El(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _l(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dl(e,t){var n=on(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Cl:vl:typeof t=="function"?n.local?_l:El:n.local?yl:wl)(n,t))}function Ts(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Vl(e){return function(){this.style.removeProperty(e)}}function jl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Sl(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Pl(e,t,n){return arguments.length>1?this.each((t==null?Vl:typeof t=="function"?Sl:jl)(e,t,n??"")):Ue(this.node(),e)}function Ue(e,t){return e.style.getPropertyValue(t)||Ts(e).getComputedStyle(e,null).getPropertyValue(t)}function kl(e){return function(){delete this[e]}}function Ml(e,t){return function(){this[e]=t}}function Al(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ll(e,t){return arguments.length>1?this.each((t==null?kl:typeof t=="function"?Al:Ml)(e,t)):this.node()[e]}function $s(e){return e.trim().split(/^|\s+/)}function Un(e){return e.classList||new Bs(e)}function Bs(e){this._node=e,this._names=$s(e.getAttribute("class")||"")}Bs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Rs(e,t){for(var n=Un(e),o=-1,s=t.length;++o<s;)n.add(t[o])}function zs(e,t){for(var n=Un(e),o=-1,s=t.length;++o<s;)n.remove(t[o])}function Il(e){return function(){Rs(this,e)}}function Tl(e){return function(){zs(this,e)}}function $l(e,t){return function(){(t.apply(this,arguments)?Rs:zs)(this,e)}}function Bl(e,t){var n=$s(e+"");if(arguments.length<2){for(var o=Un(this.node()),s=-1,r=n.length;++s<r;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?$l:t?Il:Tl)(n,t))}function Rl(){this.textContent=""}function zl(e){return function(){this.textContent=e}}function Hl(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ol(e){return arguments.length?this.each(e==null?Rl:(typeof e=="function"?Hl:zl)(e)):this.node().textContent}function Fl(){this.innerHTML=""}function Wl(e){return function(){this.innerHTML=e}}function Xl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Yl(e){return arguments.length?this.each(e==null?Fl:(typeof e=="function"?Xl:Wl)(e)):this.node().innerHTML}function Gl(){this.nextSibling&&this.parentNode.appendChild(this)}function ql(){return this.each(Gl)}function Ul(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kl(){return this.each(Ul)}function Zl(e){var t=typeof e=="function"?e:ks(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ql(){return null}function Jl(e,t){var n=typeof e=="function"?e:ks(e),o=t==null?Ql:typeof t=="function"?t:qn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function ec(){var e=this.parentNode;e&&e.removeChild(this)}function tc(){return this.each(ec)}function nc(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oc(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sc(e){return this.select(e?oc:nc)}function rc(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ic(e){return function(t){e.call(this,t,this.__data__)}}function ac(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function lc(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,s=t.length,r;n<s;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function cc(e,t,n){return function(){var o=this.__on,s,r=ic(t);if(o){for(var i=0,l=o.length;i<l;++i)if((s=o[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=n),s.value=t;return}}this.addEventListener(e.type,r,n),s={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(s):this.__on=[s]}}function uc(e,t,n){var o=ac(e+""),s,r=o.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,c=l.length,h;d<c;++d)for(s=0,h=l[d];s<r;++s)if((i=o[s]).type===h.type&&i.name===h.name)return h.value}return}for(l=t?cc:lc,s=0;s<r;++s)this.each(l(o[s],t,n));return this}function Hs(e,t,n){var o=Ts(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function dc(e,t){return function(){return Hs(this,e,t)}}function mc(e,t){return function(){return Hs(this,e,t.apply(this,arguments))}}function fc(e,t){return this.each((typeof t=="function"?mc:dc)(e,t))}function*hc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,r=o.length,i;s<r;++s)(i=o[s])&&(yield i)}var Os=[null];function fe(e,t){this._groups=e,this._parents=t}function wt(){return new fe([[document.documentElement]],Os)}function pc(){return this}fe.prototype=wt.prototype={constructor:fe,select:Ha,selectAll:Xa,selectChild:Ua,selectChildren:Ja,filter:el,data:il,enter:tl,exit:ll,join:cl,merge:ul,selection:pc,order:dl,sort:ml,call:hl,nodes:pl,node:xl,size:bl,empty:gl,each:Nl,attr:Dl,style:Pl,property:Ll,classed:Bl,text:Ol,html:Yl,raise:ql,lower:Kl,append:Zl,insert:Jl,remove:tc,clone:sc,datum:rc,on:uc,dispatch:fc,[Symbol.iterator]:hc};function me(e){return typeof e=="string"?new fe([[document.querySelector(e)]],[document.documentElement]):new fe([[e]],Os)}function xc(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pe(e,t){if(e=xc(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const bc={passive:!1},ft={capture:!0,passive:!1};function vn(e){e.stopImmediatePropagation()}function Ge(e){e.preventDefault(),e.stopImmediatePropagation()}function Fs(e){var t=e.document.documentElement,n=me(e).on("dragstart.drag",Ge,ft);"onselectstart"in t?n.on("selectstart.drag",Ge,ft):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ws(e,t){var n=e.document.documentElement,o=me(e).on("dragstart.drag",null);t&&(o.on("click.drag",Ge,ft),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Pt=e=>()=>e;function In(e,{sourceEvent:t,subject:n,target:o,identifier:s,active:r,x:i,y:l,dx:d,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}In.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function gc(e){return!e.ctrlKey&&!e.button}function Nc(){return this.parentNode}function vc(e,t){return t??{x:e.x,y:e.y}}function Cc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xs(){var e=gc,t=Nc,n=vc,o=Cc,s={},r=nn("start","drag","end"),i=0,l,d,c,h,m=0;function f(v){v.on("mousedown.drag",x).filter(o).on("touchstart.drag",N).on("touchmove.drag",b,bc).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(v,_){if(!(h||!e.call(this,v,_))){var E=p(this,t.call(this,v,_),v,_,"mouse");E&&(me(v.view).on("mousemove.drag",u,ft).on("mouseup.drag",g,ft),Fs(v.view),vn(v),c=!1,l=v.clientX,d=v.clientY,E("start",v))}}function u(v){if(Ge(v),!c){var _=v.clientX-l,E=v.clientY-d;c=_*_+E*E>m}s.mouse("drag",v)}function g(v){me(v.view).on("mousemove.drag mouseup.drag",null),Ws(v.view,c),Ge(v),s.mouse("end",v)}function N(v,_){if(e.call(this,v,_)){var E=v.changedTouches,D=t.call(this,v,_),L=E.length,I,O;for(I=0;I<L;++I)(O=p(this,D,v,_,E[I].identifier,E[I]))&&(vn(v),O("start",v,E[I]))}}function b(v){var _=v.changedTouches,E=_.length,D,L;for(D=0;D<E;++D)(L=s[_[D].identifier])&&(Ge(v),L("drag",v,_[D]))}function w(v){var _=v.changedTouches,E=_.length,D,L;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),D=0;D<E;++D)(L=s[_[D].identifier])&&(vn(v),L("end",v,_[D]))}function p(v,_,E,D,L,I){var O=r.copy(),M=pe(I||E,_),S,B,C;if((C=n.call(v,new In("beforestart",{sourceEvent:E,target:f,identifier:L,active:i,x:M[0],y:M[1],dx:0,dy:0,dispatch:O}),D))!=null)return S=C.x-M[0]||0,B=C.y-M[1]||0,function k(j,A,P){var V=M,R;switch(j){case"start":s[L]=k,R=i++;break;case"end":delete s[L],--i;case"drag":M=pe(P||A,_),R=i;break}O.call(j,v,new In(j,{sourceEvent:A,subject:C,target:f,identifier:L,active:R,x:M[0]+S,y:M[1]+B,dx:M[0]-V[0],dy:M[1]-V[1],dispatch:O}),D)}}return f.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Pt(!!v),f):e},f.container=function(v){return arguments.length?(t=typeof v=="function"?v:Pt(v),f):t},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Pt(v),f):n},f.touchable=function(v){return arguments.length?(o=typeof v=="function"?v:Pt(!!v),f):o},f.on=function(){var v=r.on.apply(r,arguments);return v===r?f:v},f.clickDistance=function(v){return arguments.length?(m=(v=+v)*v,f):Math.sqrt(m)},f}function Kn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ys(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function yt(){}var ht=.7,Yt=1/ht,qe="\\s*([+-]?\\d+)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wc=/^#([0-9a-f]{3,8})$/,yc=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),Ec=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),_c=new RegExp(`^rgba\\(${qe},${qe},${qe},${pt}\\)$`),Dc=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${pt}\\)$`),Vc=new RegExp(`^hsl\\(${pt},${Ce},${Ce}\\)$`),jc=new RegExp(`^hsla\\(${pt},${Ce},${Ce},${pt}\\)$`),Eo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kn(yt,Be,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_o,formatHex:_o,formatHex8:Sc,formatHsl:Pc,formatRgb:Do,toString:Do});function _o(){return this.rgb().formatHex()}function Sc(){return this.rgb().formatHex8()}function Pc(){return Gs(this).formatHsl()}function Do(){return this.rgb().formatRgb()}function Be(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vo(t):n===3?new de(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yc.exec(e))?new de(t[1],t[2],t[3],1):(t=Ec.exec(e))?new de(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_c.exec(e))?kt(t[1],t[2],t[3],t[4]):(t=Dc.exec(e))?kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Vc.exec(e))?Po(t[1],t[2]/100,t[3]/100,1):(t=jc.exec(e))?Po(t[1],t[2]/100,t[3]/100,t[4]):Eo.hasOwnProperty(e)?Vo(Eo[e]):e==="transparent"?new de(NaN,NaN,NaN,0):null}function Vo(e){return new de(e>>16&255,e>>8&255,e&255,1)}function kt(e,t,n,o){return o<=0&&(e=t=n=NaN),new de(e,t,n,o)}function kc(e){return e instanceof yt||(e=Be(e)),e?(e=e.rgb(),new de(e.r,e.g,e.b,e.opacity)):new de}function Tn(e,t,n,o){return arguments.length===1?kc(e):new de(e,t,n,o??1)}function de(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Kn(de,Tn,Ys(yt,{brighter(e){return e=e==null?Yt:Math.pow(Yt,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ht:Math.pow(ht,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new de(Te(this.r),Te(this.g),Te(this.b),Gt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jo,formatHex:jo,formatHex8:Mc,formatRgb:So,toString:So}));function jo(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}`}function Mc(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}${Ie((isNaN(this.opacity)?1:this.opacity)*255)}`}function So(){const e=Gt(this.opacity);return`${e===1?"rgb(":"rgba("}${Te(this.r)}, ${Te(this.g)}, ${Te(this.b)}${e===1?")":`, ${e})`}`}function Gt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Te(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ie(e){return e=Te(e),(e<16?"0":"")+e.toString(16)}function Po(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,n,o)}function Gs(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof yt||(e=Be(e)),!e)return new xe;if(e instanceof xe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,s=Math.min(t,n,o),r=Math.max(t,n,o),i=NaN,l=r-s,d=(r+s)/2;return l?(t===r?i=(n-o)/l+(n<o)*6:n===r?i=(o-t)/l+2:i=(t-n)/l+4,l/=d<.5?r+s:2-r-s,i*=60):l=d>0&&d<1?0:i,new xe(i,l,d,e.opacity)}function Ac(e,t,n,o){return arguments.length===1?Gs(e):new xe(e,t,n,o??1)}function xe(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Kn(xe,Ac,Ys(yt,{brighter(e){return e=e==null?Yt:Math.pow(Yt,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ht:Math.pow(ht,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,s=2*n-o;return new de(Cn(e>=240?e-240:e+120,s,o),Cn(e,s,o),Cn(e<120?e+240:e-120,s,o),this.opacity)},clamp(){return new xe(ko(this.h),Mt(this.s),Mt(this.l),Gt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gt(this.opacity);return`${e===1?"hsl(":"hsla("}${ko(this.h)}, ${Mt(this.s)*100}%, ${Mt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ko(e){return e=(e||0)%360,e<0?e+360:e}function Mt(e){return Math.max(0,Math.min(1,e||0))}function Cn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Zn=e=>()=>e;function Lc(e,t){return function(n){return e+n*t}}function Ic(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Tc(e){return(e=+e)==1?qs:function(t,n){return n-t?Ic(t,n,e):Zn(isNaN(t)?n:t)}}function qs(e,t){var n=t-e;return n?Lc(e,n):Zn(isNaN(e)?t:e)}const qt=(function e(t){var n=Tc(t);function o(s,r){var i=n((s=Tn(s)).r,(r=Tn(r)).r),l=n(s.g,r.g),d=n(s.b,r.b),c=qs(s.opacity,r.opacity);return function(h){return s.r=i(h),s.g=l(h),s.b=d(h),s.opacity=c(h),s+""}}return o.gamma=e,o})(1);function $c(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),s;return function(r){for(s=0;s<n;++s)o[s]=e[s]*(1-r)+t[s]*r;return o}}function Bc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rc(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,s=new Array(o),r=new Array(n),i;for(i=0;i<o;++i)s[i]=dt(e[i],t[i]);for(;i<n;++i)r[i]=t[i];return function(l){for(i=0;i<o;++i)r[i]=s[i](l);return r}}function zc(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function ve(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Hc(e,t){var n={},o={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=dt(e[s],t[s]):o[s]=t[s];return function(r){for(s in n)o[s]=n[s](r);return o}}var $n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wn=new RegExp($n.source,"g");function Oc(e){return function(){return e}}function Fc(e){return function(t){return e(t)+""}}function Us(e,t){var n=$n.lastIndex=wn.lastIndex=0,o,s,r,i=-1,l=[],d=[];for(e=e+"",t=t+"";(o=$n.exec(e))&&(s=wn.exec(t));)(r=s.index)>n&&(r=t.slice(n,r),l[i]?l[i]+=r:l[++i]=r),(o=o[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,d.push({i,x:ve(o,s)})),n=wn.lastIndex;return n<t.length&&(r=t.slice(n),l[i]?l[i]+=r:l[++i]=r),l.length<2?d[0]?Fc(d[0].x):Oc(t):(t=d.length,function(c){for(var h=0,m;h<t;++h)l[(m=d[h]).i]=m.x(c);return l.join("")})}function dt(e,t){var n=typeof t,o;return t==null||n==="boolean"?Zn(t):(n==="number"?ve:n==="string"?(o=Be(t))?(t=o,qt):Us:t instanceof Be?qt:t instanceof Date?zc:Bc(t)?$c:Array.isArray(t)?Rc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hc:ve)(e,t)}var Mo=180/Math.PI,Bn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ks(e,t,n,o,s,r){var i,l,d;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(d=e*n+t*o)&&(n-=e*d,o-=t*d),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,d/=l),e*o<t*n&&(e=-e,t=-t,d=-d,i=-i),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*Mo,skewX:Math.atan(d)*Mo,scaleX:i,scaleY:l}}var At;function Wc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bn:Ks(t.a,t.b,t.c,t.d,t.e,t.f)}function Xc(e){return e==null||(At||(At=document.createElementNS("http://www.w3.org/2000/svg","g")),At.setAttribute("transform",e),!(e=At.transform.baseVal.consolidate()))?Bn:(e=e.matrix,Ks(e.a,e.b,e.c,e.d,e.e,e.f))}function Zs(e,t,n,o){function s(c){return c.length?c.pop()+" ":""}function r(c,h,m,f,x,u){if(c!==m||h!==f){var g=x.push("translate(",null,t,null,n);u.push({i:g-4,x:ve(c,m)},{i:g-2,x:ve(h,f)})}else(m||f)&&x.push("translate("+m+t+f+n)}function i(c,h,m,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:m.push(s(m)+"rotate(",null,o)-2,x:ve(c,h)})):h&&m.push(s(m)+"rotate("+h+o)}function l(c,h,m,f){c!==h?f.push({i:m.push(s(m)+"skewX(",null,o)-2,x:ve(c,h)}):h&&m.push(s(m)+"skewX("+h+o)}function d(c,h,m,f,x,u){if(c!==m||h!==f){var g=x.push(s(x)+"scale(",null,",",null,")");u.push({i:g-4,x:ve(c,m)},{i:g-2,x:ve(h,f)})}else(m!==1||f!==1)&&x.push(s(x)+"scale("+m+","+f+")")}return function(c,h){var m=[],f=[];return c=e(c),h=e(h),r(c.translateX,c.translateY,h.translateX,h.translateY,m,f),i(c.rotate,h.rotate,m,f),l(c.skewX,h.skewX,m,f),d(c.scaleX,c.scaleY,h.scaleX,h.scaleY,m,f),c=h=null,function(x){for(var u=-1,g=f.length,N;++u<g;)m[(N=f[u]).i]=N.x(x);return m.join("")}}}var Yc=Zs(Wc,"px, ","px)","deg)"),Gc=Zs(Xc,", ",")",")"),qc=1e-12;function Ao(e){return((e=Math.exp(e))+1/e)/2}function Uc(e){return((e=Math.exp(e))-1/e)/2}function Kc(e){return((e=Math.exp(2*e))-1)/(e+1)}const zt=(function e(t,n,o){function s(r,i){var l=r[0],d=r[1],c=r[2],h=i[0],m=i[1],f=i[2],x=h-l,u=m-d,g=x*x+u*u,N,b;if(g<qc)b=Math.log(f/c)/t,N=function(D){return[l+D*x,d+D*u,c*Math.exp(t*D*b)]};else{var w=Math.sqrt(g),p=(f*f-c*c+o*g)/(2*c*n*w),v=(f*f-c*c-o*g)/(2*f*n*w),_=Math.log(Math.sqrt(p*p+1)-p),E=Math.log(Math.sqrt(v*v+1)-v);b=(E-_)/t,N=function(D){var L=D*b,I=Ao(_),O=c/(n*w)*(I*Kc(t*L+_)-Uc(_));return[l+O*x,d+O*u,c*I/Ao(t*L+_)]}}return N.duration=b*1e3*t/Math.SQRT2,N}return s.rho=function(r){var i=Math.max(.001,+r),l=i*i,d=l*l;return e(i,l,d)},s})(Math.SQRT2,2,4);var Ke=0,ct=0,at=0,Qs=1e3,Ut,ut,Kt=0,Re=0,sn=0,xt=typeof performance=="object"&&performance.now?performance:Date,Js=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qn(){return Re||(Js(Zc),Re=xt.now()+sn)}function Zc(){Re=0}function Zt(){this._call=this._time=this._next=null}Zt.prototype=er.prototype={constructor:Zt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Qn():+n)+(t==null?0:+t),!this._next&&ut!==this&&(ut?ut._next=this:Ut=this,ut=this),this._call=e,this._time=n,Rn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rn())}};function er(e,t,n){var o=new Zt;return o.restart(e,t,n),o}function Qc(){Qn(),++Ke;for(var e=Ut,t;e;)(t=Re-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ke}function Lo(){Re=(Kt=xt.now())+sn,Ke=ct=0;try{Qc()}finally{Ke=0,eu(),Re=0}}function Jc(){var e=xt.now(),t=e-Kt;t>Qs&&(sn-=t,Kt=e)}function eu(){for(var e,t=Ut,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ut=n);ut=e,Rn(o)}function Rn(e){if(!Ke){ct&&(ct=clearTimeout(ct));var t=e-Re;t>24?(e<1/0&&(ct=setTimeout(Lo,e-xt.now()-sn)),at&&(at=clearInterval(at))):(at||(Kt=xt.now(),at=setInterval(Jc,Qs)),Ke=1,Js(Lo))}}function Io(e,t,n){var o=new Zt;return t=t==null?0:+t,o.restart(s=>{o.stop(),e(s+t)},t,n),o}var tu=nn("start","end","cancel","interrupt"),nu=[],tr=0,To=1,zn=2,Ht=3,$o=4,Hn=5,Ot=6;function rn(e,t,n,o,s,r){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;ou(e,n,{name:t,index:o,group:s,on:tu,tween:nu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:tr})}function Jn(e,t){var n=Ne(e,t);if(n.state>tr)throw new Error("too late; already scheduled");return n}function we(e,t){var n=Ne(e,t);if(n.state>Ht)throw new Error("too late; already running");return n}function Ne(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ou(e,t,n){var o=e.__transition,s;o[t]=n,n.timer=er(r,0,n.time);function r(c){n.state=To,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var h,m,f,x;if(n.state!==To)return d();for(h in o)if(x=o[h],x.name===n.name){if(x.state===Ht)return Io(i);x.state===$o?(x.state=Ot,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete o[h]):+h<t&&(x.state=Ot,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete o[h])}if(Io(function(){n.state===Ht&&(n.state=$o,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=zn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zn){for(n.state=Ht,s=new Array(f=n.tween.length),h=0,m=-1;h<f;++h)(x=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(s[++m]=x);s.length=m+1}}function l(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(d),n.state=Hn,1),m=-1,f=s.length;++m<f;)s[m].call(e,h);n.state===Hn&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Ot,n.timer.stop(),delete o[t];for(var c in o)return;delete e.__transition}}function Ft(e,t){var n=e.__transition,o,s,r=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){r=!1;continue}s=o.state>zn&&o.state<Hn,o.state=Ot,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}r&&delete e.__transition}}function su(e){return this.each(function(){Ft(this,e)})}function ru(e,t){var n,o;return function(){var s=we(this,e),r=s.tween;if(r!==n){o=n=r;for(var i=0,l=o.length;i<l;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}s.tween=o}}function iu(e,t,n){var o,s;if(typeof n!="function")throw new Error;return function(){var r=we(this,e),i=r.tween;if(i!==o){s=(o=i).slice();for(var l={name:t,value:n},d=0,c=s.length;d<c;++d)if(s[d].name===t){s[d]=l;break}d===c&&s.push(l)}r.tween=s}}function au(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Ne(this.node(),n).tween,s=0,r=o.length,i;s<r;++s)if((i=o[s]).name===e)return i.value;return null}return this.each((t==null?ru:iu)(n,e,t))}function eo(e,t,n){var o=e._id;return e.each(function(){var s=we(this,o);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ne(s,o).value[t]}}function nr(e,t){var n;return(typeof t=="number"?ve:t instanceof Be?qt:(n=Be(t))?(t=n,qt):Us)(e,t)}function lu(e){return function(){this.removeAttribute(e)}}function cu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uu(e,t,n){var o,s=n+"",r;return function(){var i=this.getAttribute(e);return i===s?null:i===o?r:r=t(o=i,n)}}function du(e,t,n){var o,s=n+"",r;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===o?r:r=t(o=i,n)}}function mu(e,t,n){var o,s,r;return function(){var i,l=n(this),d;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),d=l+"",i===d?null:i===o&&d===s?r:(s=d,r=t(o=i,l)))}}function fu(e,t,n){var o,s,r;return function(){var i,l=n(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),d=l+"",i===d?null:i===o&&d===s?r:(s=d,r=t(o=i,l)))}}function hu(e,t){var n=on(e),o=n==="transform"?Gc:nr;return this.attrTween(e,typeof t=="function"?(n.local?fu:mu)(n,o,eo(this,"attr."+e,t)):t==null?(n.local?cu:lu)(n):(n.local?du:uu)(n,o,t))}function pu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function bu(e,t){var n,o;function s(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&xu(e,r)),n}return s._value=t,s}function gu(e,t){var n,o;function s(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&pu(e,r)),n}return s._value=t,s}function Nu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=on(e);return this.tween(n,(o.local?bu:gu)(o,t))}function vu(e,t){return function(){Jn(this,e).delay=+t.apply(this,arguments)}}function Cu(e,t){return t=+t,function(){Jn(this,e).delay=t}}function wu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vu:Cu)(t,e)):Ne(this.node(),t).delay}function yu(e,t){return function(){we(this,e).duration=+t.apply(this,arguments)}}function Eu(e,t){return t=+t,function(){we(this,e).duration=t}}function _u(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yu:Eu)(t,e)):Ne(this.node(),t).duration}function Du(e,t){if(typeof t!="function")throw new Error;return function(){we(this,e).ease=t}}function Vu(e){var t=this._id;return arguments.length?this.each(Du(t,e)):Ne(this.node(),t).ease}function ju(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;we(this,e).ease=n}}function Su(e){if(typeof e!="function")throw new Error;return this.each(ju(this._id,e))}function Pu(e){typeof e!="function"&&(e=As(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=[],d,c=0;c<i;++c)(d=r[c])&&e.call(d,d.__data__,c,r)&&l.push(d);return new Ve(o,this._parents,this._name,this._id)}function ku(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,s=n.length,r=Math.min(o,s),i=new Array(o),l=0;l<r;++l)for(var d=t[l],c=n[l],h=d.length,m=i[l]=new Array(h),f,x=0;x<h;++x)(f=d[x]||c[x])&&(m[x]=f);for(;l<o;++l)i[l]=t[l];return new Ve(i,this._parents,this._name,this._id)}function Mu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Au(e,t,n){var o,s,r=Mu(t)?Jn:we;return function(){var i=r(this,e),l=i.on;l!==o&&(s=(o=l).copy()).on(t,n),i.on=s}}function Lu(e,t){var n=this._id;return arguments.length<2?Ne(this.node(),n).on.on(e):this.each(Au(n,e,t))}function Iu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Tu(){return this.on("end.remove",Iu(this._id))}function $u(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qn(e));for(var o=this._groups,s=o.length,r=new Array(s),i=0;i<s;++i)for(var l=o[i],d=l.length,c=r[i]=new Array(d),h,m,f=0;f<d;++f)(h=l[f])&&(m=e.call(h,h.__data__,f,l))&&("__data__"in h&&(m.__data__=h.__data__),c[f]=m,rn(c[f],t,n,f,c,Ne(h,n)));return new Ve(r,this._parents,t,n)}function Bu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ms(e));for(var o=this._groups,s=o.length,r=[],i=[],l=0;l<s;++l)for(var d=o[l],c=d.length,h,m=0;m<c;++m)if(h=d[m]){for(var f=e.call(h,h.__data__,m,d),x,u=Ne(h,n),g=0,N=f.length;g<N;++g)(x=f[g])&&rn(x,t,n,g,f,u);r.push(f),i.push(h)}return new Ve(r,i,t,n)}var Ru=wt.prototype.constructor;function zu(){return new Ru(this._groups,this._parents)}function Hu(e,t){var n,o,s;return function(){var r=Ue(this,e),i=(this.style.removeProperty(e),Ue(this,e));return r===i?null:r===n&&i===o?s:s=t(n=r,o=i)}}function or(e){return function(){this.style.removeProperty(e)}}function Ou(e,t,n){var o,s=n+"",r;return function(){var i=Ue(this,e);return i===s?null:i===o?r:r=t(o=i,n)}}function Fu(e,t,n){var o,s,r;return function(){var i=Ue(this,e),l=n(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),Ue(this,e))),i===d?null:i===o&&d===s?r:(s=d,r=t(o=i,l))}}function Wu(e,t){var n,o,s,r="style."+t,i="end."+r,l;return function(){var d=we(this,e),c=d.on,h=d.value[r]==null?l||(l=or(t)):void 0;(c!==n||s!==h)&&(o=(n=c).copy()).on(i,s=h),d.on=o}}function Xu(e,t,n){var o=(e+="")=="transform"?Yc:nr;return t==null?this.styleTween(e,Hu(e,o)).on("end.style."+e,or(e)):typeof t=="function"?this.styleTween(e,Fu(e,o,eo(this,"style."+e,t))).each(Wu(this._id,e)):this.styleTween(e,Ou(e,o,t),n).on("end.style."+e,null)}function Yu(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Gu(e,t,n){var o,s;function r(){var i=t.apply(this,arguments);return i!==s&&(o=(s=i)&&Yu(e,i,n)),o}return r._value=t,r}function qu(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Gu(e,t,n??""))}function Uu(e){return function(){this.textContent=e}}function Ku(e){return function(){var t=e(this);this.textContent=t??""}}function Zu(e){return this.tween("text",typeof e=="function"?Ku(eo(this,"text",e)):Uu(e==null?"":e+""))}function Qu(e){return function(t){this.textContent=e.call(this,t)}}function Ju(e){var t,n;function o(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Qu(s)),t}return o._value=e,o}function ed(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ju(e))}function td(){for(var e=this._name,t=this._id,n=sr(),o=this._groups,s=o.length,r=0;r<s;++r)for(var i=o[r],l=i.length,d,c=0;c<l;++c)if(d=i[c]){var h=Ne(d,t);rn(d,e,n,c,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ve(o,this._parents,e,n)}function nd(){var e,t,n=this,o=n._id,s=n.size();return new Promise(function(r,i){var l={value:i},d={value:function(){--s===0&&r()}};n.each(function(){var c=we(this,o),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),c.on=t}),s===0&&r()})}var od=0;function Ve(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function sr(){return++od}var Ee=wt.prototype;Ve.prototype={constructor:Ve,select:$u,selectAll:Bu,selectChild:Ee.selectChild,selectChildren:Ee.selectChildren,filter:Pu,merge:ku,selection:zu,transition:td,call:Ee.call,nodes:Ee.nodes,node:Ee.node,size:Ee.size,empty:Ee.empty,each:Ee.each,on:Lu,attr:hu,attrTween:Nu,style:Xu,styleTween:qu,text:Zu,textTween:ed,remove:Tu,tween:au,delay:wu,duration:_u,ease:Vu,easeVarying:Su,end:nd,[Symbol.iterator]:Ee[Symbol.iterator]};function sd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rd={time:null,delay:0,duration:250,ease:sd};function id(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ad(e){var t,n;e instanceof Ve?(t=e._id,e=e._name):(t=sr(),(n=rd).time=Qn(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,r=0;r<s;++r)for(var i=o[r],l=i.length,d,c=0;c<l;++c)(d=i[c])&&rn(d,e,t,c,i,n||id(d,t));return new Ve(o,this._parents,e,t)}wt.prototype.interrupt=su;wt.prototype.transition=ad;const Lt=e=>()=>e;function ld(e,{sourceEvent:t,target:n,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function _e(e,t,n){this.k=e,this.x=t,this.y=n}_e.prototype={constructor:_e,scale:function(e){return e===1?this:new _e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var an=new _e(1,0,0);rr.prototype=_e.prototype;function rr(e){for(;!e.__zoom;)if(!(e=e.parentNode))return an;return e.__zoom}function yn(e){e.stopImmediatePropagation()}function lt(e){e.preventDefault(),e.stopImmediatePropagation()}function cd(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ud(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bo(){return this.__zoom||an}function dd(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function md(){return navigator.maxTouchPoints||"ontouchstart"in this}function fd(e,t,n){var o=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i))}function ir(){var e=cd,t=ud,n=fd,o=dd,s=md,r=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,d=zt,c=nn("start","zoom","end"),h,m,f,x=500,u=150,g=0,N=10;function b(C){C.property("__zoom",Bo).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",O).filter(s).on("touchstart.zoom",M).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(C,k,j,A){var P=C.selection?C.selection():C;P.property("__zoom",Bo),C!==P?_(C,k,j,A):P.interrupt().each(function(){E(this,arguments).event(A).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},b.scaleBy=function(C,k,j,A){b.scaleTo(C,function(){var P=this.__zoom.k,V=typeof k=="function"?k.apply(this,arguments):k;return P*V},j,A)},b.scaleTo=function(C,k,j,A){b.transform(C,function(){var P=t.apply(this,arguments),V=this.__zoom,R=j==null?v(P):typeof j=="function"?j.apply(this,arguments):j,H=V.invert(R),z=typeof k=="function"?k.apply(this,arguments):k;return n(p(w(V,z),R,H),P,i)},j,A)},b.translateBy=function(C,k,j,A){b.transform(C,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),i)},null,A)},b.translateTo=function(C,k,j,A,P){b.transform(C,function(){var V=t.apply(this,arguments),R=this.__zoom,H=A==null?v(V):typeof A=="function"?A.apply(this,arguments):A;return n(an.translate(H[0],H[1]).scale(R.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof j=="function"?-j.apply(this,arguments):-j),V,i)},A,P)};function w(C,k){return k=Math.max(r[0],Math.min(r[1],k)),k===C.k?C:new _e(k,C.x,C.y)}function p(C,k,j){var A=k[0]-j[0]*C.k,P=k[1]-j[1]*C.k;return A===C.x&&P===C.y?C:new _e(C.k,A,P)}function v(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function _(C,k,j,A){C.on("start.zoom",function(){E(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(A).end()}).tween("zoom",function(){var P=this,V=arguments,R=E(P,V).event(A),H=t.apply(P,V),z=j==null?v(H):typeof j=="function"?j.apply(P,V):j,Y=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),X=P.__zoom,G=typeof k=="function"?k.apply(P,V):k,Z=d(X.invert(z).concat(Y/X.k),G.invert(z).concat(Y/G.k));return function(U){if(U===1)U=G;else{var F=Z(U),q=Y/F[2];U=new _e(q,z[0]-F[0]*q,z[1]-F[1]*q)}R.zoom(null,U)}})}function E(C,k,j){return!j&&C.__zooming||new D(C,k)}function D(C,k){this.that=C,this.args=k,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,k),this.taps=0}D.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,k){return this.mouse&&C!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var k=me(this.that).datum();c.call(C,this.that,new ld(C,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),k)}};function L(C,...k){if(!e.apply(this,arguments))return;var j=E(this,k).event(C),A=this.__zoom,P=Math.max(r[0],Math.min(r[1],A.k*Math.pow(2,o.apply(this,arguments)))),V=pe(C);if(j.wheel)(j.mouse[0][0]!==V[0]||j.mouse[0][1]!==V[1])&&(j.mouse[1]=A.invert(j.mouse[0]=V)),clearTimeout(j.wheel);else{if(A.k===P)return;j.mouse=[V,A.invert(V)],Ft(this),j.start()}lt(C),j.wheel=setTimeout(R,u),j.zoom("mouse",n(p(w(A,P),j.mouse[0],j.mouse[1]),j.extent,i));function R(){j.wheel=null,j.end()}}function I(C,...k){if(f||!e.apply(this,arguments))return;var j=C.currentTarget,A=E(this,k,!0).event(C),P=me(C.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",Y,!0),V=pe(C,j),R=C.clientX,H=C.clientY;Fs(C.view),yn(C),A.mouse=[V,this.__zoom.invert(V)],Ft(this),A.start();function z(X){if(lt(X),!A.moved){var G=X.clientX-R,Z=X.clientY-H;A.moved=G*G+Z*Z>g}A.event(X).zoom("mouse",n(p(A.that.__zoom,A.mouse[0]=pe(X,j),A.mouse[1]),A.extent,i))}function Y(X){P.on("mousemove.zoom mouseup.zoom",null),Ws(X.view,A.moved),lt(X),A.event(X).end()}}function O(C,...k){if(e.apply(this,arguments)){var j=this.__zoom,A=pe(C.changedTouches?C.changedTouches[0]:C,this),P=j.invert(A),V=j.k*(C.shiftKey?.5:2),R=n(p(w(j,V),A,P),t.apply(this,k),i);lt(C),l>0?me(this).transition().duration(l).call(_,R,A,C):me(this).call(b.transform,R,A,C)}}function M(C,...k){if(e.apply(this,arguments)){var j=C.touches,A=j.length,P=E(this,k,C.changedTouches.length===A).event(C),V,R,H,z;for(yn(C),R=0;R<A;++R)H=j[R],z=pe(H,this),z=[z,this.__zoom.invert(z),H.identifier],P.touch0?!P.touch1&&P.touch0[2]!==z[2]&&(P.touch1=z,P.taps=0):(P.touch0=z,V=!0,P.taps=1+!!h);h&&(h=clearTimeout(h)),V&&(P.taps<2&&(m=z[0],h=setTimeout(function(){h=null},x)),Ft(this),P.start())}}function S(C,...k){if(this.__zooming){var j=E(this,k).event(C),A=C.changedTouches,P=A.length,V,R,H,z;for(lt(C),V=0;V<P;++V)R=A[V],H=pe(R,this),j.touch0&&j.touch0[2]===R.identifier?j.touch0[0]=H:j.touch1&&j.touch1[2]===R.identifier&&(j.touch1[0]=H);if(R=j.that.__zoom,j.touch1){var Y=j.touch0[0],X=j.touch0[1],G=j.touch1[0],Z=j.touch1[1],U=(U=G[0]-Y[0])*U+(U=G[1]-Y[1])*U,F=(F=Z[0]-X[0])*F+(F=Z[1]-X[1])*F;R=w(R,Math.sqrt(U/F)),H=[(Y[0]+G[0])/2,(Y[1]+G[1])/2],z=[(X[0]+Z[0])/2,(X[1]+Z[1])/2]}else if(j.touch0)H=j.touch0[0],z=j.touch0[1];else return;j.zoom("touch",n(p(R,H,z),j.extent,i))}}function B(C,...k){if(this.__zooming){var j=E(this,k).event(C),A=C.changedTouches,P=A.length,V,R;for(yn(C),f&&clearTimeout(f),f=setTimeout(function(){f=null},x),V=0;V<P;++V)R=A[V],j.touch0&&j.touch0[2]===R.identifier?delete j.touch0:j.touch1&&j.touch1[2]===R.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(R=pe(R,this),Math.hypot(m[0]-R[0],m[1]-R[1])<N)){var H=me(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return b.wheelDelta=function(C){return arguments.length?(o=typeof C=="function"?C:Lt(+C),b):o},b.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Lt(!!C),b):e},b.touchable=function(C){return arguments.length?(s=typeof C=="function"?C:Lt(!!C),b):s},b.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Lt([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),b):t},b.scaleExtent=function(C){return arguments.length?(r[0]=+C[0],r[1]=+C[1],b):[r[0],r[1]]},b.translateExtent=function(C){return arguments.length?(i[0][0]=+C[0][0],i[1][0]=+C[1][0],i[0][1]=+C[0][1],i[1][1]=+C[1][1],b):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},b.constrain=function(C){return arguments.length?(n=C,b):n},b.duration=function(C){return arguments.length?(l=+C,b):l},b.interpolate=function(C){return arguments.length?(d=C,b):d},b.on=function(){var C=c.on.apply(c,arguments);return C===c?b:C},b.clickDistance=function(C){return arguments.length?(g=(C=+C)*C,b):Math.sqrt(g)},b.tapDistance=function(C){return arguments.length?(N=+C,b):N},b}const he={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},bt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ar=["Enter"," ","Escape"],lr={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ze;(function(e){e.Strict="strict",e.Loose="loose"})(Ze||(Ze={}));var $e;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($e||($e={}));var gt;(function(e){e.Partial="partial",e.Full="full"})(gt||(gt={}));const cr={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Me;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Me||(Me={}));var Qt;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Qt||(Qt={}));var W;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(W||(W={}));const Ro={[W.Left]:W.Right,[W.Right]:W.Left,[W.Top]:W.Bottom,[W.Bottom]:W.Top};function ur(e){return e===null?null:e?"valid":"invalid"}const dr=e=>"id"in e&&"source"in e&&"target"in e,hd=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),to=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Et=(e,t=[0,0])=>{const{width:n,height:o}=je(e),s=e.origin??t,r=n*s[0],i=o*s[1];return{x:e.position.x-r,y:e.position.y-i}},pd=(e,t={nodeOrigin:[0,0]})=>{if(t.nodeLookup||console.warn("Please use `getNodesBounds` from `useReactFlow`/`useSvelteFlow` hook to ensure correct values for sub flows. If not possible, you have to provide a nodeLookup to support sub flows."),e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,s)=>{const r=typeof s=="string";let i=!t.nodeLookup&&!r?s:void 0;t.nodeLookup&&(i=r?t.nodeLookup.get(s):to(s)?s:t.nodeLookup.get(s.id));const l=i?Jt(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ln(o,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return cn(n)},_t=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=ln(n,Jt(s)),o=!0)}),o?cn(n):{x:0,y:0,width:0,height:0}},no=(e,t,[n,o,s]=[0,0,1],r=!1,i=!1)=>{const l={...Vt(t,[n,o,s]),width:t.width/s,height:t.height/s},d=[];for(const c of e.values()){const{measured:h,selectable:m=!0,hidden:f=!1}=c;if(i&&!m||f)continue;const x=h.width??c.width??c.initialWidth??null,u=h.height??c.height??c.initialHeight??null,g=Nt(l,Je(c)),N=(x??0)*(u??0),b=r&&g>0;(!c.internals.handleBounds||b||g>=N||c.dragging)&&d.push(c)}return d},xd=(e,t)=>{const n=new Set;return e.forEach(o=>{n.add(o.id)}),t.filter(o=>n.has(o.source)||n.has(o.target))};function bd(e,t){const n=new Map,o=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!o||o.has(s.id))&&n.set(s.id,s)}),n}async function gd({nodes:e,width:t,height:n,panZoom:o,minZoom:s,maxZoom:r},i){if(e.size===0)return Promise.resolve(!0);const l=bd(e,i),d=_t(l),c=oo(d,t,n,(i==null?void 0:i.minZoom)??s,(i==null?void 0:i.maxZoom)??r,(i==null?void 0:i.padding)??.1);return await o.setViewport(c,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function mr({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:s,onError:r}){const i=n.get(e),l=i.parentId?n.get(i.parentId):void 0,{x:d,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},h=i.origin??o;let m=i.extent||s;if(i.extent==="parent"&&!i.expandParent)if(!l)r==null||r("005",he.error005());else{const x=l.measured.width,u=l.measured.height;x&&u&&(m=[[d,c],[d+x,c+u]])}else l&&et(i.extent)&&(m=[[i.extent[0][0]+d,i.extent[0][1]+c],[i.extent[1][0]+d,i.extent[1][1]+c]]);const f=et(m)?ze(t,m,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(r==null||r("015",he.error015())),{position:{x:f.x-d+(i.measured.width??0)*h[0],y:f.y-c+(i.measured.height??0)*h[1]},positionAbsolute:f}}async function Nd({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:s}){const r=new Set(e.map(f=>f.id)),i=[];for(const f of n){if(f.deletable===!1)continue;const x=r.has(f.id),u=!x&&f.parentId&&i.find(g=>g.id===f.parentId);(x||u)&&i.push(f)}const l=new Set(t.map(f=>f.id)),d=o.filter(f=>f.deletable!==!1),h=xd(i,d);for(const f of d)l.has(f.id)&&!h.find(u=>u.id===f.id)&&h.push(f);if(!s)return{edges:h,nodes:i};const m=await s({nodes:i,edges:h});return typeof m=="boolean"?m?{edges:h,nodes:i}:{edges:[],nodes:[]}:m}const Qe=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ze=(e={x:0,y:0},t,n)=>({x:Qe(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Qe(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function fr(e,t,n){const{width:o,height:s}=je(n),{x:r,y:i}=n.internals.positionAbsolute;return ze(e,[[r,i],[r+o,i+s]],t)}const zo=(e,t,n)=>e<t?Qe(Math.abs(e-t),1,t)/t:e>n?-Qe(Math.abs(e-n),1,t)/t:0,hr=(e,t,n=15,o=40)=>{const s=zo(e.x,o,t.width-o)*n,r=zo(e.y,o,t.height-o)*n;return[s,r]},ln=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),On=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),cn=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Je=(e,t=[0,0])=>{var s,r;const{x:n,y:o}=to(e)?e.internals.positionAbsolute:Et(e,t);return{x:n,y:o,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}},Jt=(e,t=[0,0])=>{var s,r;const{x:n,y:o}=to(e)?e.internals.positionAbsolute:Et(e,t);return{x:n,y:o,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:o+(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0)}},pr=(e,t)=>cn(ln(On(e),On(t))),Nt=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},Ho=e=>be(e.width)&&be(e.height)&&be(e.x)&&be(e.y),be=e=>!isNaN(e)&&isFinite(e),xr=(e,t)=>{console.warn(`[React Flow]: ${t} Help: https://reactflow.dev/error#${e}`)},Dt=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Vt=({x:e,y:t},[n,o,s],r=!1,i=[1,1])=>{const l={x:(e-n)/s,y:(t-o)/s};return r?Dt(l,i):l},en=({x:e,y:t},[n,o,s])=>({x:e*s+n,y:t*s+o});function Fe(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function vd(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=Fe(e,n),s=Fe(e,t);return{top:o,right:s,bottom:o,left:s,x:s*2,y:o*2}}if(typeof e=="object"){const o=Fe(e.top??e.y??0,n),s=Fe(e.bottom??e.y??0,n),r=Fe(e.left??e.x??0,t),i=Fe(e.right??e.x??0,t);return{top:o,right:i,bottom:s,left:r,x:r+i,y:o+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Cd(e,t,n,o,s,r){const{x:i,y:l}=en(e,[t,n,o]),{x:d,y:c}=en({x:e.x+e.width,y:e.y+e.height},[t,n,o]),h=s-d,m=r-c;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(h),bottom:Math.floor(m)}}const oo=(e,t,n,o,s,r)=>{const i=vd(r,t,n),l=(t-i.x)/e.width,d=(n-i.y)/e.height,c=Math.min(l,d),h=Qe(c,o,s),m=e.x+e.width/2,f=e.y+e.height/2,x=t/2-m*h,u=n/2-f*h,g=Cd(e,x,u,h,t,n),N={left:Math.min(g.left-i.left,0),top:Math.min(g.top-i.top,0),right:Math.min(g.right-i.right,0),bottom:Math.min(g.bottom-i.bottom,0)};return{x:x-N.left+N.right,y:u-N.top+N.bottom,zoom:h}},vt=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function et(e){return e!=null&&e!=="parent"}function je(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function br(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function gr(e,t={width:0,height:0},n,o,s){const r={...e},i=o.get(n);if(i){const l=i.origin||s;r.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],r.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return r}function Oo(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function wd(){let e,t;return{promise:new Promise((o,s)=>{e=o,t=s}),resolve:e,reject:t}}function yd(e){return{...lr,...e||{}}}function mt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:o,containerBounds:s}){const{x:r,y:i}=ge(e),l=Vt({x:r-((s==null?void 0:s.left)??0),y:i-((s==null?void 0:s.top)??0)},o),{x:d,y:c}=n?Dt(l,t):l;return{xSnapped:d,ySnapped:c,...l}}const so=e=>({width:e.offsetWidth,height:e.offsetHeight}),Nr=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ed=["INPUT","SELECT","TEXTAREA"];function vr(e){var o,s;const t=((s=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Ed.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Cr=e=>"clientX"in e,ge=(e,t)=>{var r,i;const n=Cr(e),o=n?e.clientX:(r=e.touches)==null?void 0:r[0].clientX,s=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:o-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Fo=(e,t,n,o,s)=>{const r=t.querySelectorAll(`.${e}`);return!r||!r.length?null:Array.from(r).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:s,position:i.getAttribute("data-handlepos"),x:(l.left-n.left)/o,y:(l.top-n.top)/o,...so(i)}})};function wr({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:r,targetControlX:i,targetControlY:l}){const d=e*.125+s*.375+i*.375+n*.125,c=t*.125+r*.375+l*.375+o*.125,h=Math.abs(d-e),m=Math.abs(c-t);return[d,c,h,m]}function It(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Wo({pos:e,x1:t,y1:n,x2:o,y2:s,c:r}){switch(e){case W.Left:return[t-It(t-o,r),n];case W.Right:return[t+It(o-t,r),n];case W.Top:return[t,n-It(n-s,r)];case W.Bottom:return[t,n+It(s-n,r)]}}function yr({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:o,targetY:s,targetPosition:r=W.Top,curvature:i=.25}){const[l,d]=Wo({pos:n,x1:e,y1:t,x2:o,y2:s,c:i}),[c,h]=Wo({pos:r,x1:o,y1:s,x2:e,y2:t,c:i}),[m,f,x,u]=wr({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:l,sourceControlY:d,targetControlX:c,targetControlY:h});return[`M${e},${t} C${l},${d} ${c},${h} ${o},${s}`,m,f,x,u]}function Er({sourceX:e,sourceY:t,targetX:n,targetY:o}){const s=Math.abs(n-e)/2,r=n<e?n+s:n-s,i=Math.abs(o-t)/2,l=o<t?o+i:o-i;return[r,l,s,i]}function _d({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o=0,elevateOnSelect:s=!1,zIndexMode:r="basic"}){if(r==="manual")return o;const i=s&&n?o+1e3:o,l=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return i+l}function Dd({sourceNode:e,targetNode:t,width:n,height:o,transform:s}){const r=ln(Jt(e),Jt(t));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const i={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:o/s[2]};return Nt(i,cn(r))>0}const Vd=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`,jd=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),_r=(e,t,n={})=>{if(!e.source||!e.target)return xr("006",he.error006()),t;const o=n.getEdgeId||Vd;let s;return dr(e)?s={...e}:s={...e,id:o(e)},jd(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function Dr({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[s,r,i,l]=Er({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,s,r,i,l]}const Xo={[W.Left]:{x:-1,y:0},[W.Right]:{x:1,y:0},[W.Top]:{x:0,y:-1},[W.Bottom]:{x:0,y:1}},Sd=({source:e,sourcePosition:t=W.Bottom,target:n})=>t===W.Left||t===W.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Yo=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Pd({source:e,sourcePosition:t=W.Bottom,target:n,targetPosition:o=W.Top,center:s,offset:r,stepPosition:i}){const l=Xo[t],d=Xo[o],c={x:e.x+l.x*r,y:e.y+l.y*r},h={x:n.x+d.x*r,y:n.y+d.y*r},m=Sd({source:c,sourcePosition:t,target:h}),f=m.x!==0?"x":"y",x=m[f];let u=[],g,N;const b={x:0,y:0},w={x:0,y:0},[,,p,v]=Er({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[f]*d[f]===-1){f==="x"?(g=s.x??c.x+(h.x-c.x)*i,N=s.y??(c.y+h.y)/2):(g=s.x??(c.x+h.x)/2,N=s.y??c.y+(h.y-c.y)*i);const E=[{x:g,y:c.y},{x:g,y:h.y}],D=[{x:c.x,y:N},{x:h.x,y:N}];l[f]===x?u=f==="x"?E:D:u=f==="x"?D:E}else{const E=[{x:c.x,y:h.y}],D=[{x:h.x,y:c.y}];if(f==="x"?u=l.x===x?D:E:u=l.y===x?E:D,t===o){const S=Math.abs(e[f]-n[f]);if(S<=r){const B=Math.min(r-1,r-S);l[f]===x?b[f]=(c[f]>e[f]?-1:1)*B:w[f]=(h[f]>n[f]?-1:1)*B}}if(t!==o){const S=f==="x"?"y":"x",B=l[f]===d[S],C=c[S]>h[S],k=c[S]<h[S];(l[f]===1&&(!B&&C||B&&k)||l[f]!==1&&(!B&&k||B&&C))&&(u=f==="x"?E:D)}const L={x:c.x+b.x,y:c.y+b.y},I={x:h.x+w.x,y:h.y+w.y},O=Math.max(Math.abs(L.x-u[0].x),Math.abs(I.x-u[0].x)),M=Math.max(Math.abs(L.y-u[0].y),Math.abs(I.y-u[0].y));O>=M?(g=(L.x+I.x)/2,N=u[0].y):(g=u[0].x,N=(L.y+I.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...u,{x:h.x+w.x,y:h.y+w.y},n],g,N,p,v]}function kd(e,t,n,o){const s=Math.min(Yo(e,t)/2,Yo(t,n)/2,o),{x:r,y:i}=t;if(e.x===r&&r===n.x||e.y===i&&i===n.y)return`L${r} ${i}`;if(e.y===i){const c=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${r+s*c},${i}Q ${r},${i} ${r},${i+s*h}`}const l=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${r},${i+s*d}Q ${r},${i} ${r+s*l},${i}`}function Fn({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:o,targetY:s,targetPosition:r=W.Top,borderRadius:i=5,centerX:l,centerY:d,offset:c=20,stepPosition:h=.5}){const[m,f,x,u,g]=Pd({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:s},targetPosition:r,center:{x:l,y:d},offset:c,stepPosition:h});return[m.reduce((b,w,p)=>{let v="";return p>0&&p<m.length-1?v=kd(m[p-1],w,m[p+1],i):v=`${p===0?"M":"L"}${w.x} ${w.y}`,b+=v,b},""),f,x,u,g]}function Go(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Md(e){var m;const{sourceNode:t,targetNode:n}=e;if(!Go(t)||!Go(n))return null;const o=t.internals.handleBounds||qo(t.handles),s=n.internals.handleBounds||qo(n.handles),r=Uo((o==null?void 0:o.source)??[],e.sourceHandle),i=Uo(e.connectionMode===Ze.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!r||!i)return(m=e.onError)==null||m.call(e,"008",he.error008(r?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(r==null?void 0:r.position)||W.Bottom,d=(i==null?void 0:i.position)||W.Top,c=He(t,r,l),h=He(n,i,d);return{sourceX:c.x,sourceY:c.y,targetX:h.x,targetY:h.y,sourcePosition:l,targetPosition:d}}function qo(e){if(!e)return null;const t=[],n=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?t.push(o):o.type==="target"&&n.push(o);return{source:t,target:n}}function He(e,t,n=W.Left,o=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,r=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??je(e);if(o)return{x:s+i/2,y:r+l/2};switch((t==null?void 0:t.position)??n){case W.Top:return{x:s+i/2,y:r};case W.Right:return{x:s+i,y:r+l/2};case W.Bottom:return{x:s+i/2,y:r+l};case W.Left:return{x:s,y:r+l/2}}}function Uo(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Wn(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function Ad(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:s}){const r=new Set;return e.reduce((i,l)=>([l.markerStart||o,l.markerEnd||s].forEach(d=>{if(d&&typeof d=="object"){const c=Wn(d,t);r.has(c)||(i.push({id:c,color:d.color||n,...d}),r.add(c))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const Vr=1e3,Ld=10,ro={nodeOrigin:[0,0],nodeExtent:bt,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Id={...ro,checkEquality:!0};function io(e,t){const n={...e};for(const o in t)t[o]!==void 0&&(n[o]=t[o]);return n}function Td(e,t,n){const o=io(ro,n);for(const s of e.values())if(s.parentId)lo(s,e,t,o);else{const r=Et(s,o.nodeOrigin),i=et(s.extent)?s.extent:o.nodeExtent,l=ze(r,i,je(s));s.internals.positionAbsolute=l}}function $d(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],o=[];for(const s of e.handles){const r={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(r):s.type==="target"&&o.push(r)}return{source:n,target:o}}function ao(e){return e==="manual"}function Xn(e,t,n,o={}){var c,h;const s=io(Id,o),r={i:0},i=new Map(t),l=s!=null&&s.elevateNodesOnSelect&&!ao(s.zIndexMode)?Vr:0;let d=e.length>0;t.clear(),n.clear();for(const m of e){let f=i.get(m.id);if(s.checkEquality&&m===(f==null?void 0:f.internals.userNode))t.set(m.id,f);else{const x=Et(m,s.nodeOrigin),u=et(m.extent)?m.extent:s.nodeExtent,g=ze(x,u,je(m));f={...s.defaults,...m,measured:{width:(c=m.measured)==null?void 0:c.width,height:(h=m.measured)==null?void 0:h.height},internals:{positionAbsolute:g,handleBounds:$d(m,f),z:jr(m,l,s.zIndexMode),userNode:m}},t.set(m.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(d=!1),m.parentId&&lo(f,t,n,o,r)}return d}function Bd(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function lo(e,t,n,o,s){const{elevateNodesOnSelect:r,nodeOrigin:i,nodeExtent:l,zIndexMode:d}=io(ro,o),c=e.parentId,h=t.get(c);if(!h){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Bd(e,n),s&&!h.parentId&&h.internals.rootParentIndex===void 0&&d==="auto"&&(h.internals.rootParentIndex=++s.i,h.internals.z=h.internals.z+s.i*Ld),s&&h.internals.rootParentIndex!==void 0&&(s.i=h.internals.rootParentIndex);const m=r&&!ao(d)?Vr:0,{x:f,y:x,z:u}=Rd(e,h,i,l,m,d),{positionAbsolute:g}=e.internals,N=f!==g.x||x!==g.y;(N||u!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:N?{x:f,y:x}:g,z:u}})}function jr(e,t,n){const o=be(e.zIndex)?e.zIndex:0;return ao(n)?o:o+(e.selected?t:0)}function Rd(e,t,n,o,s,r){const{x:i,y:l}=t.internals.positionAbsolute,d=je(e),c=Et(e,n),h=et(e.extent)?ze(c,e.extent,d):c;let m=ze({x:i+h.x,y:l+h.y},o,d);e.extent==="parent"&&(m=fr(m,d,t));const f=jr(e,s,r),x=t.internals.z??0;return{x:m.x,y:m.y,z:x>=f?x+1:f}}function co(e,t,n,o=[0,0]){var i;const s=[],r=new Map;for(const l of e){const d=t.get(l.parentId);if(!d)continue;const c=((i=r.get(l.parentId))==null?void 0:i.expandedRect)??Je(d),h=pr(c,l.rect);r.set(l.parentId,{expandedRect:h,parent:d})}return r.size>0&&r.forEach(({expandedRect:l,parent:d},c)=>{var p;const h=d.internals.positionAbsolute,m=je(d),f=d.origin??o,x=l.x<h.x?Math.round(Math.abs(h.x-l.x)):0,u=l.y<h.y?Math.round(Math.abs(h.y-l.y)):0,g=Math.max(m.width,Math.round(l.width)),N=Math.max(m.height,Math.round(l.height)),b=(g-m.width)*f[0],w=(N-m.height)*f[1];(x>0||u>0||b||w)&&(s.push({id:c,type:"position",position:{x:d.position.x-x+b,y:d.position.y-u+w}}),(p=n.get(c))==null||p.forEach(v=>{e.some(_=>_.id===v.id)||s.push({id:v.id,type:"position",position:{x:v.position.x+x,y:v.position.y+u}})})),(m.width<l.width||m.height<l.height||x||u)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:g+(x?f[0]*x-b:0),height:N+(u?f[1]*u-w:0)}})}),s}function zd(e,t,n,o,s,r,i){const l=o==null?void 0:o.querySelector(".xyflow__viewport");let d=!1;if(!l)return{changes:[],updatedInternals:d};const c=[],h=window.getComputedStyle(l),{m22:m}=new window.DOMMatrixReadOnly(h.transform),f=[];for(const x of e.values()){const u=t.get(x.id);if(!u)continue;if(u.hidden){t.set(u.id,{...u,internals:{...u.internals,handleBounds:void 0}}),d=!0;continue}const g=so(x.nodeElement),N=u.measured.width!==g.width||u.measured.height!==g.height;if(!!(g.width&&g.height&&(N||!u.internals.handleBounds||x.force))){const w=x.nodeElement.getBoundingClientRect(),p=et(u.extent)?u.extent:r;let{positionAbsolute:v}=u.internals;u.parentId&&u.extent==="parent"?v=fr(v,g,t.get(u.parentId)):p&&(v=ze(v,p,g));const _={...u,measured:g,internals:{...u.internals,positionAbsolute:v,handleBounds:{source:Fo("source",x.nodeElement,w,m,u.id),target:Fo("target",x.nodeElement,w,m,u.id)}}};t.set(u.id,_),u.parentId&&lo(_,t,n,{nodeOrigin:s,zIndexMode:i}),d=!0,N&&(c.push({id:u.id,type:"dimensions",dimensions:g}),u.expandParent&&u.parentId&&f.push({id:u.id,parentId:u.parentId,rect:Je(_,s)}))}}if(f.length>0){const x=co(f,t,n,s);c.push(...x)}return{changes:c,updatedInternals:d}}async function Hd({delta:e,panZoom:t,transform:n,translateExtent:o,width:s,height:r}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,r]],o),l=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(l)}function Ko(e,t,n,o,s,r){let i=s;const l=o.get(i)||new Map;o.set(i,l.set(n,t)),i=`${s}-${e}`;const d=o.get(i)||new Map;if(o.set(i,d.set(n,t)),r){i=`${s}-${e}-${r}`;const c=o.get(i)||new Map;o.set(i,c.set(n,t))}}function Sr(e,t,n){e.clear(),t.clear();for(const o of n){const{source:s,target:r,sourceHandle:i=null,targetHandle:l=null}=o,d={edgeId:o.id,source:s,target:r,sourceHandle:i,targetHandle:l},c=`${s}-${i}--${r}-${l}`,h=`${r}-${l}--${s}-${i}`;Ko("source",d,h,e,s,i),Ko("target",d,c,e,r,l),t.set(o.id,o)}}function Pr(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Pr(n,t):!1}function Zo(e,t,n){var s;let o=e;do{if((s=o==null?void 0:o.matches)!=null&&s.call(o,t))return!0;if(o===n)return!1;o=o==null?void 0:o.parentElement}while(o);return!1}function Od(e,t,n,o){const s=new Map;for(const[r,i]of e)if((i.selected||i.id===o)&&(!i.parentId||!Pr(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(r);l&&s.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return s}function En({nodeId:e,dragItems:t,nodeLookup:n,dragging:o=!0}){var i,l,d;const s=[];for(const[c,h]of t){const m=(i=n.get(c))==null?void 0:i.internals.userNode;m&&s.push({...m,position:h.position,dragging:o})}if(!e)return[s[0],s];const r=(l=n.get(e))==null?void 0:l.internals.userNode;return[r?{...r,position:((d=t.get(e))==null?void 0:d.position)||r.position,dragging:o}:s[0],s]}function Fd({dragItems:e,snapGrid:t,x:n,y:o}){const s=e.values().next().value;if(!s)return null;const r={x:n-s.distance.x,y:o-s.distance.y},i=Dt(r,t);return{x:i.x-r.x,y:i.y-r.y}}function Wd({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:o,onDragStop:s}){let r={x:null,y:null},i=0,l=new Map,d=!1,c={x:0,y:0},h=null,m=!1,f=null,x=!1,u=!1,g=null;function N({noDragClassName:w,handleSelector:p,domNode:v,isSelectable:_,nodeId:E,nodeClickDistance:D=0}){f=me(v);function L({x:S,y:B}){const{nodeLookup:C,nodeExtent:k,snapGrid:j,snapToGrid:A,nodeOrigin:P,onNodeDrag:V,onSelectionDrag:R,onError:H,updateNodePositions:z}=t();r={x:S,y:B};let Y=!1;const X=l.size>1,G=X&&k?On(_t(l)):null,Z=X&&A?Fd({dragItems:l,snapGrid:j,x:S,y:B}):null;for(const[U,F]of l){if(!C.has(U))continue;let q={x:S-F.distance.x,y:B-F.distance.y};A&&(q=Z?{x:Math.round(q.x+Z.x),y:Math.round(q.y+Z.y)}:Dt(q,j));let ee=null;if(X&&k&&!F.extent&&G){const{positionAbsolute:K}=F.internals,oe=K.x-G.x+k[0][0],se=K.x+F.measured.width-G.x2+k[1][0],ne=K.y-G.y+k[0][1],ue=K.y+F.measured.height-G.y2+k[1][1];ee=[[oe,ne],[se,ue]]}const{position:J,positionAbsolute:Q}=mr({nodeId:U,nextPosition:q,nodeLookup:C,nodeExtent:ee||k,nodeOrigin:P,onError:H});Y=Y||F.position.x!==J.x||F.position.y!==J.y,F.position=J,F.internals.positionAbsolute=Q}if(u=u||Y,!!Y&&(z(l,!0),g&&(o||V||!E&&R))){const[U,F]=En({nodeId:E,dragItems:l,nodeLookup:C});o==null||o(g,l,U,F),V==null||V(g,U,F),E||R==null||R(g,F)}}async function I(){if(!h)return;const{transform:S,panBy:B,autoPanSpeed:C,autoPanOnNodeDrag:k}=t();if(!k){d=!1,cancelAnimationFrame(i);return}const[j,A]=hr(c,h,C);(j!==0||A!==0)&&(r.x=(r.x??0)-j/S[2],r.y=(r.y??0)-A/S[2],await B({x:j,y:A})&&L(r)),i=requestAnimationFrame(I)}function O(S){var X;const{nodeLookup:B,multiSelectionActive:C,nodesDraggable:k,transform:j,snapGrid:A,snapToGrid:P,selectNodesOnDrag:V,onNodeDragStart:R,onSelectionDragStart:H,unselectNodesAndEdges:z}=t();m=!0,(!V||!_)&&!C&&E&&((X=B.get(E))!=null&&X.selected||z()),_&&V&&E&&(e==null||e(E));const Y=mt(S.sourceEvent,{transform:j,snapGrid:A,snapToGrid:P,containerBounds:h});if(r=Y,l=Od(B,k,Y,E),l.size>0&&(n||R||!E&&H)){const[G,Z]=En({nodeId:E,dragItems:l,nodeLookup:B});n==null||n(S.sourceEvent,l,G,Z),R==null||R(S.sourceEvent,G,Z),E||H==null||H(S.sourceEvent,Z)}}const M=Xs().clickDistance(D).on("start",S=>{const{domNode:B,nodeDragThreshold:C,transform:k,snapGrid:j,snapToGrid:A}=t();h=(B==null?void 0:B.getBoundingClientRect())||null,x=!1,u=!1,g=S.sourceEvent,C===0&&O(S),r=mt(S.sourceEvent,{transform:k,snapGrid:j,snapToGrid:A,containerBounds:h}),c=ge(S.sourceEvent,h)}).on("drag",S=>{const{autoPanOnNodeDrag:B,transform:C,snapGrid:k,snapToGrid:j,nodeDragThreshold:A,nodeLookup:P}=t(),V=mt(S.sourceEvent,{transform:C,snapGrid:k,snapToGrid:j,containerBounds:h});if(g=S.sourceEvent,(S.sourceEvent.type==="touchmove"&&S.sourceEvent.touches.length>1||E&&!P.has(E))&&(x=!0),!x){if(!d&&B&&m&&(d=!0,I()),!m){const R=ge(S.sourceEvent,h),H=R.x-c.x,z=R.y-c.y;Math.sqrt(H*H+z*z)>A&&O(S)}(r.x!==V.xSnapped||r.y!==V.ySnapped)&&l&&m&&(c=ge(S.sourceEvent,h),L(V))}}).on("end",S=>{if(!(!m||x)&&(d=!1,m=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:B,updateNodePositions:C,onNodeDragStop:k,onSelectionDragStop:j}=t();if(u&&(C(l,!1),u=!1),s||k||!E&&j){const[A,P]=En({nodeId:E,dragItems:l,nodeLookup:B,dragging:!1});s==null||s(S.sourceEvent,l,A,P),k==null||k(S.sourceEvent,A,P),E||j==null||j(S.sourceEvent,P)}}}).filter(S=>{const B=S.target;return!S.button&&(!w||!Zo(B,`.${w}`,v))&&(!p||Zo(B,p,v))});f.call(M)}function b(){f==null||f.on(".drag",null)}return{update:N,destroy:b}}function Xd(e,t,n){const o=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const r of t.values())Nt(s,Je(r))>0&&o.push(r);return o}const Yd=250;function Gd(e,t,n,o){var l,d;let s=[],r=1/0;const i=Xd(e,n,t+Yd);for(const c of i){const h=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((d=c.internals.handleBounds)==null?void 0:d.target)??[]];for(const m of h){if(o.nodeId===m.nodeId&&o.type===m.type&&o.id===m.id)continue;const{x:f,y:x}=He(c,m,m.position,!0),u=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(x-e.y,2));u>t||(u<r?(s=[{...m,x:f,y:x}],r=u):u===r&&s.push({...m,x:f,y:x}))}}if(!s.length)return null;if(s.length>1){const c=o.type==="source"?"target":"source";return s.find(h=>h.type===c)??s[0]}return s[0]}function kr(e,t,n,o,s,r=!1){var c,h,m;const i=o.get(e);if(!i)return null;const l=s==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((h=i.internals.handleBounds)==null?void 0:h.source)??[],...((m=i.internals.handleBounds)==null?void 0:m.target)??[]],d=(n?l==null?void 0:l.find(f=>f.id===n):l==null?void 0:l[0])??null;return d&&r?{...d,...He(i,d,d.position,!0)}:d}function Mr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function qd(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Ar=()=>!0;function Ud(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:s,edgeUpdaterType:r,isTarget:i,domNode:l,nodeLookup:d,lib:c,autoPanOnConnect:h,flowId:m,panBy:f,cancelConnection:x,onConnectStart:u,onConnect:g,onConnectEnd:N,isValidConnection:b=Ar,onReconnectEnd:w,updateConnection:p,getTransform:v,getFromHandle:_,autoPanSpeed:E,dragThreshold:D=1,handleDomNode:L}){const I=Nr(e.target);let O=0,M;const{x:S,y:B}=ge(e),C=Mr(r,L),k=l==null?void 0:l.getBoundingClientRect();let j=!1;if(!k||!C)return;const A=kr(s,C,o,d,t);if(!A)return;let P=ge(e,k),V=!1,R=null,H=!1,z=null;function Y(){if(!h||!k)return;const[J,Q]=hr(P,k,E);f({x:J,y:Q}),O=requestAnimationFrame(Y)}const X={...A,nodeId:s,type:C,position:A.position},G=d.get(s);let U={inProgress:!0,isValid:null,from:He(G,X,W.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:G,to:P,toHandle:null,toPosition:Ro[X.position],toNode:null,pointer:P};function F(){j=!0,p(U),u==null||u(e,{nodeId:s,handleId:o,handleType:C})}D===0&&F();function q(J){if(!j){const{x:ue,y:Se}=ge(J),ye=ue-S,Ae=Se-B;if(!(ye*ye+Ae*Ae>D*D))return;F()}if(!_()||!X){ee(J);return}const Q=v();P=ge(J,k),M=Gd(Vt(P,Q,!1,[1,1]),n,d,X),V||(Y(),V=!0);const K=Lr(J,{handle:M,connectionMode:t,fromNodeId:s,fromHandleId:o,fromType:i?"target":"source",isValidConnection:b,doc:I,lib:c,flowId:m,nodeLookup:d});z=K.handleDomNode,R=K.connection,H=qd(!!M,K.isValid);const oe=d.get(s),se=oe?He(oe,X,W.Left,!0):U.from,ne={...U,from:se,isValid:H,to:K.toHandle&&H?en({x:K.toHandle.x,y:K.toHandle.y},Q):P,toHandle:K.toHandle,toPosition:H&&K.toHandle?K.toHandle.position:Ro[X.position],toNode:K.toHandle?d.get(K.toHandle.nodeId):null,pointer:P};p(ne),U=ne}function ee(J){if(!("touches"in J&&J.touches.length>0)){if(j){(M||z)&&R&&H&&(g==null||g(R));const{inProgress:Q,...K}=U,oe={...K,toPosition:U.toHandle?U.toPosition:null};N==null||N(J,oe),r&&(w==null||w(J,oe))}x(),cancelAnimationFrame(O),V=!1,H=!1,R=null,z=null,I.removeEventListener("mousemove",q),I.removeEventListener("mouseup",ee),I.removeEventListener("touchmove",q),I.removeEventListener("touchend",ee)}}I.addEventListener("mousemove",q),I.addEventListener("mouseup",ee),I.addEventListener("touchmove",q),I.addEventListener("touchend",ee)}function Lr(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:s,fromType:r,doc:i,lib:l,flowId:d,isValidConnection:c=Ar,nodeLookup:h}){const m=r==="target",f=t?i.querySelector(`.${l}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:u}=ge(e),g=i.elementFromPoint(x,u),N=g!=null&&g.classList.contains(`${l}-flow__handle`)?g:f,b={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const w=Mr(void 0,N),p=N.getAttribute("data-nodeid"),v=N.getAttribute("data-handleid"),_=N.classList.contains("connectable"),E=N.classList.contains("connectableend");if(!p||!w)return b;const D={source:m?p:o,sourceHandle:m?v:s,target:m?o:p,targetHandle:m?s:v};b.connection=D;const I=_&&E&&(n===Ze.Strict?m&&w==="source"||!m&&w==="target":p!==o||v!==s);b.isValid=I&&c(D),b.toHandle=kr(p,w,v,h,n,!0)}return b}const Yn={onPointerDown:Ud,isValid:Lr};function Kd({domNode:e,panZoom:t,getTransform:n,getViewScale:o}){const s=me(e);function r({translateExtent:l,width:d,height:c,zoomStep:h=1,pannable:m=!0,zoomable:f=!0,inversePan:x=!1}){const u=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const v=n(),_=p.sourceEvent.ctrlKey&&vt()?10:1,E=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*h,D=v[2]*Math.pow(2,E*_);t.scaleTo(D)};let g=[0,0];const N=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(g=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},b=p=>{const v=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const _=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],E=[_[0]-g[0],_[1]-g[1]];g=_;const D=o()*Math.max(v[2],Math.log(v[2]))*(x?-1:1),L={x:v[0]-E[0]*D,y:v[1]-E[1]*D},I=[[0,0],[d,c]];t.setViewportConstrained({x:L.x,y:L.y,zoom:v[2]},I,l)},w=ir().on("start",N).on("zoom",m?b:null).on("zoom.wheel",f?u:null);s.call(w,{})}function i(){s.on("zoom",null)}return{update:r,destroy:i,pointer:pe}}const un=e=>({x:e.x,y:e.y,zoom:e.k}),_n=({x:e,y:t,zoom:n})=>an.translate(e,t).scale(n),Xe=(e,t)=>e.target.closest(`.${t}`),Ir=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Zd=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Dn=(e,t=0,n=Zd,o=()=>{})=>{const s=typeof t=="number"&&t>0;return s||o(),s?e.transition().duration(t).ease(n).on("end",o):e},Tr=e=>{const t=e.ctrlKey&&vt()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Qd({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:o,panOnScrollMode:s,panOnScrollSpeed:r,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:d,onPanZoomEnd:c}){return h=>{if(Xe(h,t))return h.ctrlKey&&h.preventDefault(),!1;h.preventDefault(),h.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(h.ctrlKey&&i){const N=pe(h),b=Tr(h),w=m*Math.pow(2,b);o.scaleTo(n,w,N,h);return}const f=h.deltaMode===1?20:1;let x=s===$e.Vertical?0:h.deltaX*f,u=s===$e.Horizontal?0:h.deltaY*f;!vt()&&h.shiftKey&&s!==$e.Vertical&&(x=h.deltaY*f,u=0),o.translateBy(n,-(x/m)*r,-(u/m)*r,{internal:!0});const g=un(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(h,g),e.panScrollTimeout=setTimeout(()=>{c==null||c(h,g),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(h,g))}}function Jd({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(o,s){const r=o.type==="wheel",i=!t&&r&&!o.ctrlKey,l=Xe(o,e);if(o.ctrlKey&&r&&l&&o.preventDefault(),i||l)return null;o.preventDefault(),n.call(this,o,s)}}function em({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return o=>{var r,i,l;if((r=o.sourceEvent)!=null&&r.internal)return;const s=un(o.transform);e.mouseButton=((i=o.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((l=o.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(o.sourceEvent,s))}}function tm({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:o,onPanZoom:s}){return r=>{var i,l;e.usedRightMouseButton=!!(n&&Ir(t,e.mouseButton??0)),(i=r.sourceEvent)!=null&&i.sync||o([r.transform.x,r.transform.y,r.transform.k]),s&&!((l=r.sourceEvent)!=null&&l.internal)&&(s==null||s(r.sourceEvent,un(r.transform)))}}function nm({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:o,onPanZoomEnd:s,onPaneContextMenu:r}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,r&&Ir(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&r(i.sourceEvent),e.usedRightMouseButton=!1,o(!1),s)){const d=un(i.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(i.sourceEvent,d)},n?150:0)}}}function om({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:o,panOnScroll:s,zoomOnDoubleClick:r,userSelectionActive:i,noWheelClassName:l,noPanClassName:d,lib:c,connectionInProgress:h}){return m=>{var N;const f=e||t,x=n&&m.ctrlKey,u=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(Xe(m,`${c}-flow__node`)||Xe(m,`${c}-flow__edge`)))return!0;if(!o&&!f&&!s&&!r&&!n||i||h&&!u||Xe(m,l)&&u||Xe(m,d)&&(!u||s&&u&&!e)||!n&&m.ctrlKey&&u)return!1;if(!n&&m.type==="touchstart"&&((N=m.touches)==null?void 0:N.length)>1)return m.preventDefault(),!1;if(!f&&!s&&!x&&u||!o&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(o)&&!o.includes(m.button)&&m.type==="mousedown")return!1;const g=Array.isArray(o)&&o.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||u)&&g}}function sm({domNode:e,minZoom:t,maxZoom:n,translateExtent:o,viewport:s,onPanZoom:r,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:d}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),m=ir().scaleExtent([t,n]).translateExtent(o),f=me(e).call(m);w({x:s.x,y:s.y,zoom:Qe(s.zoom,t,n)},[[0,0],[h.width,h.height]],o);const x=f.on("wheel.zoom"),u=f.on("dblclick.zoom");m.wheelDelta(Tr);function g(M,S){return f?new Promise(B=>{m==null||m.interpolate((S==null?void 0:S.interpolate)==="linear"?dt:zt).transform(Dn(f,S==null?void 0:S.duration,S==null?void 0:S.ease,()=>B(!0)),M)}):Promise.resolve(!1)}function N({noWheelClassName:M,noPanClassName:S,onPaneContextMenu:B,userSelectionActive:C,panOnScroll:k,panOnDrag:j,panOnScrollMode:A,panOnScrollSpeed:P,preventScrolling:V,zoomOnPinch:R,zoomOnScroll:H,zoomOnDoubleClick:z,zoomActivationKeyPressed:Y,lib:X,onTransformChange:G,connectionInProgress:Z,paneClickDistance:U,selectionOnDrag:F}){C&&!c.isZoomingOrPanning&&b();const q=k&&!Y&&!C;m.clickDistance(F?1/0:!be(U)||U<0?0:U);const ee=q?Qd({zoomPanValues:c,noWheelClassName:M,d3Selection:f,d3Zoom:m,panOnScrollMode:A,panOnScrollSpeed:P,zoomOnPinch:R,onPanZoomStart:i,onPanZoom:r,onPanZoomEnd:l}):Jd({noWheelClassName:M,preventScrolling:V,d3ZoomHandler:x});if(f.on("wheel.zoom",ee,{passive:!1}),!C){const Q=em({zoomPanValues:c,onDraggingChange:d,onPanZoomStart:i});m.on("start",Q);const K=tm({zoomPanValues:c,panOnDrag:j,onPaneContextMenu:!!B,onPanZoom:r,onTransformChange:G});m.on("zoom",K);const oe=nm({zoomPanValues:c,panOnDrag:j,panOnScroll:k,onPaneContextMenu:B,onPanZoomEnd:l,onDraggingChange:d});m.on("end",oe)}const J=om({zoomActivationKeyPressed:Y,panOnDrag:j,zoomOnScroll:H,panOnScroll:k,zoomOnDoubleClick:z,zoomOnPinch:R,userSelectionActive:C,noPanClassName:S,noWheelClassName:M,lib:X,connectionInProgress:Z});m.filter(J),z?f.on("dblclick.zoom",u):f.on("dblclick.zoom",null)}function b(){m.on("zoom",null)}async function w(M,S,B){const C=_n(M),k=m==null?void 0:m.constrain()(C,S,B);return k&&await g(k),new Promise(j=>j(k))}async function p(M,S){const B=_n(M);return await g(B,S),new Promise(C=>C(B))}function v(M){if(f){const S=_n(M),B=f.property("__zoom");(B.k!==M.zoom||B.x!==M.x||B.y!==M.y)&&(m==null||m.transform(f,S,null,{sync:!0}))}}function _(){const M=f?rr(f.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function E(M,S){return f?new Promise(B=>{m==null||m.interpolate((S==null?void 0:S.interpolate)==="linear"?dt:zt).scaleTo(Dn(f,S==null?void 0:S.duration,S==null?void 0:S.ease,()=>B(!0)),M)}):Promise.resolve(!1)}function D(M,S){return f?new Promise(B=>{m==null||m.interpolate((S==null?void 0:S.interpolate)==="linear"?dt:zt).scaleBy(Dn(f,S==null?void 0:S.duration,S==null?void 0:S.ease,()=>B(!0)),M)}):Promise.resolve(!1)}function L(M){m==null||m.scaleExtent(M)}function I(M){m==null||m.translateExtent(M)}function O(M){const S=!be(M)||M<0?0:M;m==null||m.clickDistance(S)}return{update:N,destroy:b,setViewport:p,setViewportConstrained:w,getViewport:_,scaleTo:E,scaleBy:D,setScaleExtent:L,setTranslateExtent:I,syncViewport:v,setClickDistance:O}}var tt;(function(e){e.Line="line",e.Handle="handle"})(tt||(tt={}));function rm({width:e,prevWidth:t,height:n,prevHeight:o,affectsX:s,affectsY:r}){const i=e-t,l=n-o,d=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&s&&(d[0]=d[0]*-1),l&&r&&(d[1]=d[1]*-1),d}function Qo(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),o=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:o,affectsY:s}}function Pe(e,t){return Math.max(0,t-e)}function ke(e,t){return Math.max(0,e-t)}function Tt(e,t,n){return Math.max(0,t-e,e-n)}function Jo(e,t){return e?!t:t}function im(e,t,n,o,s,r,i,l){let{affectsX:d,affectsY:c}=t;const{isHorizontal:h,isVertical:m}=t,f=h&&m,{xSnapped:x,ySnapped:u}=n,{minWidth:g,maxWidth:N,minHeight:b,maxHeight:w}=o,{x:p,y:v,width:_,height:E,aspectRatio:D}=e;let L=Math.floor(h?x-e.pointerX:0),I=Math.floor(m?u-e.pointerY:0);const O=_+(d?-L:L),M=E+(c?-I:I),S=-r[0]*_,B=-r[1]*E;let C=Tt(O,g,N),k=Tt(M,b,w);if(i){let P=0,V=0;d&&L<0?P=Pe(p+L+S,i[0][0]):!d&&L>0&&(P=ke(p+O+S,i[1][0])),c&&I<0?V=Pe(v+I+B,i[0][1]):!c&&I>0&&(V=ke(v+M+B,i[1][1])),C=Math.max(C,P),k=Math.max(k,V)}if(l){let P=0,V=0;d&&L>0?P=ke(p+L,l[0][0]):!d&&L<0&&(P=Pe(p+O,l[1][0])),c&&I>0?V=ke(v+I,l[0][1]):!c&&I<0&&(V=Pe(v+M,l[1][1])),C=Math.max(C,P),k=Math.max(k,V)}if(s){if(h){const P=Tt(O/D,b,w)*D;if(C=Math.max(C,P),i){let V=0;!d&&!c||d&&!c&&f?V=ke(v+B+O/D,i[1][1])*D:V=Pe(v+B+(d?L:-L)/D,i[0][1])*D,C=Math.max(C,V)}if(l){let V=0;!d&&!c||d&&!c&&f?V=Pe(v+O/D,l[1][1])*D:V=ke(v+(d?L:-L)/D,l[0][1])*D,C=Math.max(C,V)}}if(m){const P=Tt(M*D,g,N)/D;if(k=Math.max(k,P),i){let V=0;!d&&!c||c&&!d&&f?V=ke(p+M*D+S,i[1][0])/D:V=Pe(p+(c?I:-I)*D+S,i[0][0])/D,k=Math.max(k,V)}if(l){let V=0;!d&&!c||c&&!d&&f?V=Pe(p+M*D,l[1][0])/D:V=ke(p+(c?I:-I)*D,l[0][0])/D,k=Math.max(k,V)}}}I=I+(I<0?k:-k),L=L+(L<0?C:-C),s&&(f?O>M*D?I=(Jo(d,c)?-L:L)/D:L=(Jo(d,c)?-I:I)*D:h?(I=L/D,c=d):(L=I*D,d=c));const j=d?p+L:p,A=c?v+I:v;return{width:_+(d?-L:L),height:E+(c?-I:I),x:r[0]*L*(d?-1:1)+j,y:r[1]*I*(c?-1:1)+A}}const $r={width:0,height:0,x:0,y:0},am={...$r,pointerX:0,pointerY:0,aspectRatio:1};function lm(e){return[[0,0],[e.measured.width,e.measured.height]]}function cm(e,t,n){const o=t.position.x+e.position.x,s=t.position.y+e.position.y,r=e.measured.width??0,i=e.measured.height??0,l=n[0]*r,d=n[1]*i;return[[o-l,s-d],[o+r-l,s+i-d]]}function um({domNode:e,nodeId:t,getStoreItems:n,onChange:o,onEnd:s}){const r=me(e);let i={controlDirection:Qo("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:c,boundaries:h,keepAspectRatio:m,resizeDirection:f,onResizeStart:x,onResize:u,onResizeEnd:g,shouldResize:N}){let b={...$r},w={...am};i={boundaries:h,resizeDirection:f,keepAspectRatio:m,controlDirection:Qo(c)};let p,v=null,_=[],E,D,L,I=!1;const O=Xs().on("start",M=>{const{nodeLookup:S,transform:B,snapGrid:C,snapToGrid:k,nodeOrigin:j,paneDomNode:A}=n();if(p=S.get(t),!p)return;v=(A==null?void 0:A.getBoundingClientRect())??null;const{xSnapped:P,ySnapped:V}=mt(M.sourceEvent,{transform:B,snapGrid:C,snapToGrid:k,containerBounds:v});b={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},w={...b,pointerX:P,pointerY:V,aspectRatio:b.width/b.height},E=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(E=S.get(p.parentId),D=E&&p.extent==="parent"?lm(E):void 0),_=[],L=void 0;for(const[R,H]of S)if(H.parentId===t&&(_.push({id:R,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const z=cm(H,p,H.origin??j);L?L=[[Math.min(z[0][0],L[0][0]),Math.min(z[0][1],L[0][1])],[Math.max(z[1][0],L[1][0]),Math.max(z[1][1],L[1][1])]]:L=z}x==null||x(M,{...b})}).on("drag",M=>{const{transform:S,snapGrid:B,snapToGrid:C,nodeOrigin:k}=n(),j=mt(M.sourceEvent,{transform:S,snapGrid:B,snapToGrid:C,containerBounds:v}),A=[];if(!p)return;const{x:P,y:V,width:R,height:H}=b,z={},Y=p.origin??k,{width:X,height:G,x:Z,y:U}=im(w,i.controlDirection,j,i.boundaries,i.keepAspectRatio,Y,D,L),F=X!==R,q=G!==H,ee=Z!==P&&F,J=U!==V&&q;if(!ee&&!J&&!F&&!q)return;if((ee||J||Y[0]===1||Y[1]===1)&&(z.x=ee?Z:b.x,z.y=J?U:b.y,b.x=z.x,b.y=z.y,_.length>0)){const se=Z-P,ne=U-V;for(const ue of _)ue.position={x:ue.position.x-se+Y[0]*(X-R),y:ue.position.y-ne+Y[1]*(G-H)},A.push(ue)}if((F||q)&&(z.width=F&&(!i.resizeDirection||i.resizeDirection==="horizontal")?X:b.width,z.height=q&&(!i.resizeDirection||i.resizeDirection==="vertical")?G:b.height,b.width=z.width,b.height=z.height),E&&p.expandParent){const se=Y[0]*(z.width??0);z.x&&z.x<se&&(b.x=se,w.x=w.x-(z.x-se));const ne=Y[1]*(z.height??0);z.y&&z.y<ne&&(b.y=ne,w.y=w.y-(z.y-ne))}const Q=rm({width:b.width,prevWidth:R,height:b.height,prevHeight:H,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),K={...b,direction:Q};(N==null?void 0:N(M,K))!==!1&&(I=!0,u==null||u(M,K),o(z,A))}).on("end",M=>{I&&(g==null||g(M,{...b}),s==null||s({...b}),I=!1)});r.call(O)}function d(){r.on(".drag",null)}return{update:l,destroy:d}}var Vn={exports:{}},jn={},Sn={exports:{}},Pn={},es;function dm(){if(es)return Pn;es=1;/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){function e(x,u){return x===u&&(x!==0||1/x===1/u)||x!==x&&u!==u}function t(x,u){h||s.startTransition===void 0||(h=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var g=u();if(!m){var N=u();r(g,N)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),m=!0)}N=i({inst:{value:g,getSnapshot:u}});var b=N[0].inst,w=N[1];return d(function(){b.value=g,b.getSnapshot=u,n(b)&&w({inst:b})},[x,g,u]),l(function(){return n(b)&&w({inst:b}),x(function(){n(b)&&w({inst:b})})},[x]),c(g),g}function n(x){var u=x.getSnapshot;x=x.value;try{var g=u();return!r(x,g)}catch{return!0}}function o(x,u){return u()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var s=Ps(),r=typeof Object.is=="function"?Object.is:e,i=s.useState,l=s.useEffect,d=s.useLayoutEffect,c=s.useDebugValue,h=!1,m=!1,f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:t;Pn.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:f,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})(),Pn}var ts;function mm(){return ts||(ts=1,Sn.exports=dm()),Sn.exports}var ns;function fm(){if(ns)return jn;ns=1;/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=Ps(),n=mm(),o=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,r=t.useRef,i=t.useEffect,l=t.useMemo,d=t.useDebugValue;jn.useSyncExternalStoreWithSelector=function(c,h,m,f,x){var u=r(null);if(u.current===null){var g={hasValue:!1,value:null};u.current=g}else g=u.current;u=l(function(){function b(E){if(!w){if(w=!0,p=E,E=f(E),x!==void 0&&g.hasValue){var D=g.value;if(x(D,E))return v=D}return v=E}if(D=v,o(p,E))return D;var L=f(E);return x!==void 0&&x(D,L)?(p=E,D):(p=E,v=L)}var w=!1,p,v,_=m===void 0?null:m;return[function(){return b(h())},_===null?void 0:function(){return b(_())}]},[h,m,f,x]);var N=s(c,u[0],u[1]);return i(function(){g.hasValue=!0,g.value=N},[N]),d(N),N},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})(),jn}var os;function hm(){return os||(os=1,Vn.exports=fm()),Vn.exports}var pm=hm();const xm=Ea(pm),bm={},ss=e=>{let t;const n=new Set,o=(h,m)=>{const f=typeof h=="function"?h(t):h;if(!Object.is(f,t)){const x=t;t=m??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(u=>u(t,x))}},s=()=>t,d={setState:o,getState:s,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(bm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(o,s,d);return d},gm=e=>e?ss(e):ss,{useDebugValue:Nm}=y,{useSyncExternalStoreWithSelector:vm}=xm,Cm=e=>e;function Br(e,t=Cm,n){const o=vm(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Nm(o),o}const rs=(e,t)=>{const n=gm(e),o=(s,r=t)=>Br(n,s,r);return Object.assign(o,n),o},wm=(e,t)=>e?rs(e,t):rs;function ie(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,s]of e)if(!Object.is(s,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}const dn=$.createContext(null),ym=dn.Provider,Rr=he.error001();function te(e,t){const n=$.useContext(dn);if(n===null)throw new Error(Rr);return Br(n,e,t)}function ae(){const e=$.useContext(dn);if(e===null)throw new Error(Rr);return $.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const is={display:"none"},Em={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},zr="react-flow__node-desc",Hr="react-flow__edge-desc",_m="react-flow__aria-live",Dm=e=>e.ariaLiveMessage,Vm=e=>e.ariaLabelConfig;function jm({rfId:e}){const t=te(Dm);return T.jsx("div",{id:`${_m}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Em,children:t})}function Sm({rfId:e,disableKeyboardA11y:t}){const n=te(Vm);return T.jsxs(T.Fragment,{children:[T.jsx("div",{id:`${zr}-${e}`,style:is,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),T.jsx("div",{id:`${Hr}-${e}`,style:is,children:n["edge.a11yDescription.default"]}),!t&&T.jsx(jm,{rfId:e})]})}const mn=$.forwardRef(({position:e="top-left",children:t,className:n,style:o,...s},r)=>{const i=`${e}`.split("-");return T.jsx("div",{className:le(["react-flow__panel",n,...i]),style:o,ref:r,...s,children:t})});mn.displayName="Panel";function Pm({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:T.jsx(mn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:T.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const km=e=>{const t=[],n=[];for(const[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&n.push(o);return{selectedNodes:t,selectedEdges:n}},$t=e=>e.id;function Mm(e,t){return ie(e.selectedNodes.map($t),t.selectedNodes.map($t))&&ie(e.selectedEdges.map($t),t.selectedEdges.map($t))}function Am({onSelectionChange:e}){const t=ae(),{selectedNodes:n,selectedEdges:o}=te(km,Mm);return $.useEffect(()=>{const s={nodes:n,edges:o};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(r=>r(s))},[n,o,e]),null}const Lm=e=>!!e.onSelectionChangeHandlers;function Im({onSelectionChange:e}){const t=te(Lm);return e||t?T.jsx(Am,{onSelectionChange:e}):null}const Or=[0,0],Tm={x:0,y:0,zoom:1},$m=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],as=[...$m,"rfId"],Bm=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),ls={translateExtent:bt,nodeOrigin:Or,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Rm(e){const{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:s,setTranslateExtent:r,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:d}=te(Bm,ie),c=ae();$.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{h.current=ls,l()}),[]);const h=$.useRef(ls);return $.useEffect(()=>{for(const m of as){const f=e[m],x=h.current[m];f!==x&&(typeof e[m]>"u"||(m==="nodes"?t(f):m==="edges"?n(f):m==="minZoom"?o(f):m==="maxZoom"?s(f):m==="translateExtent"?r(f):m==="nodeExtent"?i(f):m==="ariaLabelConfig"?c.setState({ariaLabelConfig:yd(f)}):m==="fitView"?c.setState({fitViewQueued:f}):m==="fitViewOptions"?c.setState({fitViewOptions:f}):c.setState({[m]:f})))}h.current=e},as.map(m=>e[m])),null}function cs(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function zm(e){var o;const[t,n]=$.useState(e==="system"?null:e);return $.useEffect(()=>{if(e!=="system"){n(e);return}const s=cs(),r=()=>n(s!=null&&s.matches?"dark":"light");return r(),s==null||s.addEventListener("change",r),()=>{s==null||s.removeEventListener("change",r)}},[e]),t!==null?t:(o=cs())!=null&&o.matches?"dark":"light"}const us=typeof document<"u"?document:null;function Ct(e=null,t={target:us,actInsideInputWithModifier:!0}){const[n,o]=$.useState(!1),s=$.useRef(!1),r=$.useRef(new Set([])),[i,l]=$.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=c.reduce((m,f)=>m.concat(...f),[]);return[c,h]}return[[],[]]},[e]);return $.useEffect(()=>{const d=(t==null?void 0:t.target)??us,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const h=x=>{var N,b;if(s.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!s.current||s.current&&!c)&&vr(x))return!1;const g=ms(x.code,l);if(r.current.add(x[g]),ds(i,r.current,!1)){const w=((b=(N=x.composedPath)==null?void 0:N.call(x))==null?void 0:b[0])||x.target,p=(w==null?void 0:w.nodeName)==="BUTTON"||(w==null?void 0:w.nodeName)==="A";t.preventDefault!==!1&&(s.current||!p)&&x.preventDefault(),o(!0)}},m=x=>{const u=ms(x.code,l);ds(i,r.current,!0)?(o(!1),r.current.clear()):r.current.delete(x[u]),x.key==="Meta"&&r.current.clear(),s.current=!1},f=()=>{r.current.clear(),o(!1)};return d==null||d.addEventListener("keydown",h),d==null||d.addEventListener("keyup",m),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{d==null||d.removeEventListener("keydown",h),d==null||d.removeEventListener("keyup",m),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,o]),n}function ds(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(s=>t.has(s)))}function ms(e,t){return t.includes(e)?"code":"key"}const Hm=()=>{const e=ae();return $.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[o,s,r],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??o,y:t.y??s,zoom:t.zoom??r},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},setCenter:async(t,n,o)=>e.getState().setCenter(t,n,o),fitBounds:async(t,n)=>{const{width:o,height:s,minZoom:r,maxZoom:i,panZoom:l}=e.getState(),d=oo(t,o,s,r,i,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:o,snapGrid:s,snapToGrid:r,domNode:i}=e.getState();if(!i)return t;const{x:l,y:d}=i.getBoundingClientRect(),c={x:t.x-l,y:t.y-d},h=n.snapGrid??s,m=n.snapToGrid??r;return Vt(c,o,m,h)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:s,y:r}=o.getBoundingClientRect(),i=en(t,n);return{x:i.x+s,y:i.y+r}}}),[])};function Fr(e,t){const n=[],o=new Map,s=[];for(const r of e)if(r.type==="add"){s.push(r);continue}else if(r.type==="remove"||r.type==="replace")o.set(r.id,[r]);else{const i=o.get(r.id);i?i.push(r):o.set(r.id,[r])}for(const r of t){const i=o.get(r.id);if(!i){n.push(r);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const l={...r};for(const d of i)Om(d,l);n.push(l)}return s.length&&s.forEach(r=>{r.index!==void 0?n.splice(r.index,0,{...r.item}):n.push({...r.item})}),n}function Om(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Wr(e,t){return Fr(e,t)}function Xr(e,t){return Fr(e,t)}function Le(e,t){return{id:e,type:"select",selected:t}}function Ye(e,t=new Set,n=!1){const o=[];for(const[s,r]of e){const i=t.has(s);!(r.selected===void 0&&!i)&&r.selected!==i&&(n&&(r.selected=i),o.push(Le(r.id,i)))}return o}function fs({items:e=[],lookup:t}){var s;const n=[],o=new Map(e.map(r=>[r.id,r]));for(const[r,i]of e.entries()){const l=t.get(i.id),d=((s=l==null?void 0:l.internals)==null?void 0:s.userNode)??l;d!==void 0&&d!==i&&n.push({id:i.id,item:i,type:"replace"}),d===void 0&&n.push({item:i,type:"add",index:r})}for(const[r]of t)o.get(r)===void 0&&n.push({id:r,type:"remove"});return n}function hs(e){return{id:e.id,type:"remove"}}const ps=e=>hd(e),Fm=e=>dr(e);function Yr(e){return $.forwardRef(e)}const Wm=typeof window<"u"?$.useLayoutEffect:$.useEffect;function xs(e){const[t,n]=$.useState(BigInt(0)),[o]=$.useState(()=>Xm(()=>n(s=>s+BigInt(1))));return Wm(()=>{const s=o.get();s.length&&(e(s),o.reset())},[t]),o}function Xm(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Gr=$.createContext(null);function Ym({children:e}){const t=ae(),n=$.useCallback(l=>{const{nodes:d=[],setNodes:c,hasDefaultNodes:h,onNodesChange:m,nodeLookup:f,fitViewQueued:x,onNodesChangeMiddlewareMap:u}=t.getState();let g=d;for(const b of l)g=typeof b=="function"?b(g):b;let N=fs({items:g,lookup:f});for(const b of u.values())N=b(N);h&&c(g),N.length>0?m==null||m(N):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:w,setNodes:p}=t.getState();b&&p(w)})},[]),o=xs(n),s=$.useCallback(l=>{const{edges:d=[],setEdges:c,hasDefaultEdges:h,onEdgesChange:m,edgeLookup:f}=t.getState();let x=d;for(const u of l)x=typeof u=="function"?u(x):u;h?c(x):m&&m(fs({items:x,lookup:f}))},[]),r=xs(s),i=$.useMemo(()=>({nodeQueue:o,edgeQueue:r}),[]);return T.jsx(Gr.Provider,{value:i,children:e})}function Gm(){const e=$.useContext(Gr);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const qm=e=>!!e.panZoom;function uo(){const e=Hm(),t=ae(),n=Gm(),o=te(qm),s=$.useMemo(()=>{const r=m=>t.getState().nodeLookup.get(m),i=m=>{n.nodeQueue.push(m)},l=m=>{n.edgeQueue.push(m)},d=m=>{var b,w;const{nodeLookup:f,nodeOrigin:x}=t.getState(),u=ps(m)?m:f.get(m.id),g=u.parentId?gr(u.position,u.measured,u.parentId,f,x):u.position,N={...u,position:g,width:((b=u.measured)==null?void 0:b.width)??u.width,height:((w=u.measured)==null?void 0:w.height)??u.height};return Je(N)},c=(m,f,x={replace:!1})=>{i(u=>u.map(g=>{if(g.id===m){const N=typeof f=="function"?f(g):f;return x.replace&&ps(N)?N:{...g,...N}}return g}))},h=(m,f,x={replace:!1})=>{l(u=>u.map(g=>{if(g.id===m){const N=typeof f=="function"?f(g):f;return x.replace&&Fm(N)?N:{...g,...N}}return g}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var f;return(f=r(m))==null?void 0:f.internals.userNode},getInternalNode:r,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(f=>({...f}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:i,setEdges:l,addNodes:m=>{const f=Array.isArray(m)?m:[m];n.nodeQueue.push(x=>[...x,...f])},addEdges:m=>{const f=Array.isArray(m)?m:[m];n.edgeQueue.push(x=>[...x,...f])},toObject:()=>{const{nodes:m=[],edges:f=[],transform:x}=t.getState(),[u,g,N]=x;return{nodes:m.map(b=>({...b})),edges:f.map(b=>({...b})),viewport:{x:u,y:g,zoom:N}}},deleteElements:async({nodes:m=[],edges:f=[]})=>{const{nodes:x,edges:u,onNodesDelete:g,onEdgesDelete:N,triggerNodeChanges:b,triggerEdgeChanges:w,onDelete:p,onBeforeDelete:v}=t.getState(),{nodes:_,edges:E}=await Nd({nodesToRemove:m,edgesToRemove:f,nodes:x,edges:u,onBeforeDelete:v}),D=E.length>0,L=_.length>0;if(D){const I=E.map(hs);N==null||N(E),w(I)}if(L){const I=_.map(hs);g==null||g(_),b(I)}return(L||D)&&(p==null||p({nodes:_,edges:E})),{deletedNodes:_,deletedEdges:E}},getIntersectingNodes:(m,f=!0,x)=>{const u=Ho(m),g=u?m:d(m),N=x!==void 0;return g?(x||t.getState().nodes).filter(b=>{const w=t.getState().nodeLookup.get(b.id);if(w&&!u&&(b.id===m.id||!w.internals.positionAbsolute))return!1;const p=Je(N?b:w),v=Nt(p,g);return f&&v>0||v>=p.width*p.height||v>=g.width*g.height}):[]},isNodeIntersecting:(m,f,x=!0)=>{const g=Ho(m)?m:d(m);if(!g)return!1;const N=Nt(g,f);return x&&N>0||N>=f.width*f.height||N>=g.width*g.height},updateNode:c,updateNodeData:(m,f,x={replace:!1})=>{c(m,u=>{const g=typeof f=="function"?f(u):f;return x.replace?{...u,data:g}:{...u,data:{...u.data,...g}}},x)},updateEdge:h,updateEdgeData:(m,f,x={replace:!1})=>{h(m,u=>{const g=typeof f=="function"?f(u):f;return x.replace?{...u,data:g}:{...u,data:{...u.data,...g}}},x)},getNodesBounds:m=>{const{nodeLookup:f,nodeOrigin:x}=t.getState();return pd(m,{nodeLookup:f,nodeOrigin:x})},getHandleConnections:({type:m,id:f,nodeId:x})=>{var u;return Array.from(((u=t.getState().connectionLookup.get(`${x}-${m}${f?`-${f}`:""}`))==null?void 0:u.values())??[])},getNodeConnections:({type:m,handleId:f,nodeId:x})=>{var u;return Array.from(((u=t.getState().connectionLookup.get(`${x}${m?f?`-${m}-${f}`:`-${m}`:""}`))==null?void 0:u.values())??[])},fitView:async m=>{const f=t.getState().fitViewResolver??wd();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:f}),n.nodeQueue.push(x=>[...x]),f.promise}}},[]);return $.useMemo(()=>({...s,...e,viewportInitialized:o}),[o])}const bs=e=>e.selected,Um=typeof window<"u"?window:void 0;function Km({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ae(),{deleteElements:o}=uo(),s=Ct(e,{actInsideInputWithModifier:!1}),r=Ct(t,{target:Um});$.useEffect(()=>{if(s){const{edges:i,nodes:l}=n.getState();o({nodes:l.filter(bs),edges:i.filter(bs)}),n.setState({nodesSelectionActive:!1})}},[s]),$.useEffect(()=>{n.setState({multiSelectionActive:r})},[r])}function Zm(e){const t=ae();$.useEffect(()=>{const n=()=>{var s,r,i,l;if(!e.current||!(((r=(s=e.current).checkVisibility)==null?void 0:r.call(s))??!0))return!1;const o=so(e.current);(o.height===0||o.width===0)&&((l=(i=t.getState()).onError)==null||l.call(i,"004",he.error004())),t.setState({width:o.width||500,height:o.height||500})};if(e.current){n(),window.addEventListener("resize",n);const o=new ResizeObserver(()=>n());return o.observe(e.current),()=>{window.removeEventListener("resize",n),o&&e.current&&o.unobserve(e.current)}}},[])}const fn={position:"absolute",width:"100%",height:"100%",top:0,left:0},Qm=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Jm({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:r=$e.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:d,translateExtent:c,minZoom:h,maxZoom:m,zoomActivationKeyCode:f,preventScrolling:x=!0,children:u,noWheelClassName:g,noPanClassName:N,onViewportChange:b,isControlledViewport:w,paneClickDistance:p,selectionOnDrag:v}){const _=ae(),E=$.useRef(null),{userSelectionActive:D,lib:L,connectionInProgress:I}=te(Qm,ie),O=Ct(f),M=$.useRef();Zm(E);const S=$.useCallback(B=>{b==null||b({x:B[0],y:B[1],zoom:B[2]}),w||_.setState({transform:B})},[b,w]);return $.useEffect(()=>{if(E.current){M.current=sm({domNode:E.current,minZoom:h,maxZoom:m,translateExtent:c,viewport:d,onDraggingChange:j=>_.setState({paneDragging:j}),onPanZoomStart:(j,A)=>{const{onViewportChangeStart:P,onMoveStart:V}=_.getState();V==null||V(j,A),P==null||P(A)},onPanZoom:(j,A)=>{const{onViewportChange:P,onMove:V}=_.getState();V==null||V(j,A),P==null||P(A)},onPanZoomEnd:(j,A)=>{const{onViewportChangeEnd:P,onMoveEnd:V}=_.getState();V==null||V(j,A),P==null||P(A)}});const{x:B,y:C,zoom:k}=M.current.getViewport();return _.setState({panZoom:M.current,transform:[B,C,k],domNode:E.current.closest(".react-flow")}),()=>{var j;(j=M.current)==null||j.destroy()}}},[]),$.useEffect(()=>{var B;(B=M.current)==null||B.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:o,panOnScrollSpeed:s,panOnScrollMode:r,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:O,preventScrolling:x,noPanClassName:N,userSelectionActive:D,noWheelClassName:g,lib:L,onTransformChange:S,connectionInProgress:I,selectionOnDrag:v,paneClickDistance:p})},[e,t,n,o,s,r,i,l,O,x,N,D,g,L,S,I,v,p]),T.jsx("div",{className:"react-flow__renderer",ref:E,style:fn,children:u})}const ef=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function tf(){const{userSelectionActive:e,userSelectionRect:t}=te(ef,ie);return e&&t?T.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const kn=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},nf=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function of({isSelecting:e,selectionKeyPressed:t,selectionMode:n=gt.Full,panOnDrag:o,paneClickDistance:s,selectionOnDrag:r,onSelectionStart:i,onSelectionEnd:l,onPaneClick:d,onPaneContextMenu:c,onPaneScroll:h,onPaneMouseEnter:m,onPaneMouseMove:f,onPaneMouseLeave:x,children:u}){const g=ae(),{userSelectionActive:N,elementsSelectable:b,dragging:w,connectionInProgress:p}=te(nf,ie),v=b&&(e||N),_=$.useRef(null),E=$.useRef(),D=$.useRef(new Set),L=$.useRef(new Set),I=$.useRef(!1),O=P=>{if(I.current||p){I.current=!1;return}d==null||d(P),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},M=P=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){P.preventDefault();return}c==null||c(P)},S=h?P=>h(P):void 0,B=P=>{I.current&&(P.stopPropagation(),I.current=!1)},C=P=>{var G,Z;const{domNode:V}=g.getState();if(E.current=V==null?void 0:V.getBoundingClientRect(),!E.current)return;const R=P.target===_.current;if(!R&&!!P.target.closest(".nokey")||!e||!(r&&R||t)||P.button!==0||!P.isPrimary)return;(Z=(G=P.target)==null?void 0:G.setPointerCapture)==null||Z.call(G,P.pointerId),I.current=!1;const{x:Y,y:X}=ge(P.nativeEvent,E.current);g.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:X,x:Y,y:X}}),R||(P.stopPropagation(),P.preventDefault())},k=P=>{const{userSelectionRect:V,transform:R,nodeLookup:H,edgeLookup:z,connectionLookup:Y,triggerNodeChanges:X,triggerEdgeChanges:G,defaultEdgeOptions:Z,resetSelectedElements:U}=g.getState();if(!E.current||!V)return;const{x:F,y:q}=ge(P.nativeEvent,E.current),{startX:ee,startY:J}=V;if(!I.current){const ne=t?0:s;if(Math.hypot(F-ee,q-J)<=ne)return;U(),i==null||i(P)}I.current=!0;const Q={startX:ee,startY:J,x:F<ee?F:ee,y:q<J?q:J,width:Math.abs(F-ee),height:Math.abs(q-J)},K=D.current,oe=L.current;D.current=new Set(no(H,Q,R,n===gt.Partial,!0).map(ne=>ne.id)),L.current=new Set;const se=(Z==null?void 0:Z.selectable)??!0;for(const ne of D.current){const ue=Y.get(ne);if(ue)for(const{edgeId:Se}of ue.values()){const ye=z.get(Se);ye&&(ye.selectable??se)&&L.current.add(Se)}}if(!Oo(K,D.current)){const ne=Ye(H,D.current,!0);X(ne)}if(!Oo(oe,L.current)){const ne=Ye(z,L.current);G(ne)}g.setState({userSelectionRect:Q,userSelectionActive:!0,nodesSelectionActive:!1})},j=P=>{var V,R;P.button===0&&((R=(V=P.target)==null?void 0:V.releasePointerCapture)==null||R.call(V,P.pointerId),!N&&P.target===_.current&&g.getState().userSelectionRect&&(O==null||O(P)),g.setState({userSelectionActive:!1,userSelectionRect:null}),I.current&&(l==null||l(P),g.setState({nodesSelectionActive:D.current.size>0})))},A=o===!0||Array.isArray(o)&&o.includes(0);return T.jsxs("div",{className:le(["react-flow__pane",{draggable:A,dragging:w,selection:e}]),onClick:v?void 0:kn(O,_),onContextMenu:kn(M,_),onWheel:kn(S,_),onPointerEnter:v?void 0:m,onPointerMove:v?k:f,onPointerUp:v?j:void 0,onPointerDownCapture:v?C:void 0,onClickCapture:v?B:void 0,onPointerLeave:x,ref:_,style:fn,children:[u,T.jsx(tf,{})]})}function Gn({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:r,multiSelectionActive:i,nodeLookup:l,onError:d}=t.getState(),c=l.get(e);if(!c){d==null||d("012",he.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(r({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var h;return(h=o==null?void 0:o.current)==null?void 0:h.blur()})):s([e])}function qr({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:s,isSelectable:r,nodeClickDistance:i}){const l=ae(),[d,c]=$.useState(!1),h=$.useRef();return $.useEffect(()=>{h.current=Wd({getStoreItems:()=>l.getState(),onNodeMouseDown:m=>{Gn({id:m,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),$.useEffect(()=>{var m,f;if(t)(m=h.current)==null||m.destroy();else if(e.current)return(f=h.current)==null||f.update({noDragClassName:n,handleSelector:o,domNode:e.current,isSelectable:r,nodeId:s,nodeClickDistance:i}),()=>{var x;(x=h.current)==null||x.destroy()}},[n,o,t,r,e,s]),d}const sf=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Ur(){const e=ae();return $.useCallback(n=>{const{nodeExtent:o,snapToGrid:s,snapGrid:r,nodesDraggable:i,onError:l,updateNodePositions:d,nodeLookup:c,nodeOrigin:h}=e.getState(),m=new Map,f=sf(i),x=s?r[0]:5,u=s?r[1]:5,g=n.direction.x*x*n.factor,N=n.direction.y*u*n.factor;for(const[,b]of c){if(!f(b))continue;let w={x:b.internals.positionAbsolute.x+g,y:b.internals.positionAbsolute.y+N};s&&(w=Dt(w,r));const{position:p,positionAbsolute:v}=mr({nodeId:b.id,nextPosition:w,nodeLookup:c,nodeExtent:o,nodeOrigin:h,onError:l});b.position=p,b.internals.positionAbsolute=v,m.set(b.id,b)}d(m)},[])}const mo=$.createContext(null),rf=mo.Provider;mo.Consumer;const Kr=()=>$.useContext(mo),af=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),lf=(e,t,n)=>o=>{const{connectionClickStartHandle:s,connectionMode:r,connection:i}=o,{fromHandle:l,toHandle:d,isValid:c}=i,h=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:h,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:r===Ze.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!s,valid:h&&c}};function cf({type:e="source",position:t=W.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:r=!0,id:i,onConnect:l,children:d,className:c,onMouseDown:h,onTouchStart:m,...f},x){var k,j;const u=i||null,g=e==="target",N=ae(),b=Kr(),{connectOnClick:w,noPanClassName:p,rfId:v}=te(af,ie),{connectingFrom:_,connectingTo:E,clickConnecting:D,isPossibleEndHandle:L,connectionInProcess:I,clickConnectionInProcess:O,valid:M}=te(lf(b,u,e),ie);b||(j=(k=N.getState()).onError)==null||j.call(k,"010",he.error010());const S=A=>{const{defaultEdgeOptions:P,onConnect:V,hasDefaultEdges:R}=N.getState(),H={...P,...A};if(R){const{edges:z,setEdges:Y}=N.getState();Y(_r(H,z))}V==null||V(H),l==null||l(H)},B=A=>{if(!b)return;const P=Cr(A.nativeEvent);if(s&&(P&&A.button===0||!P)){const V=N.getState();Yn.onPointerDown(A.nativeEvent,{handleDomNode:A.currentTarget,autoPanOnConnect:V.autoPanOnConnect,connectionMode:V.connectionMode,connectionRadius:V.connectionRadius,domNode:V.domNode,nodeLookup:V.nodeLookup,lib:V.lib,isTarget:g,handleId:u,nodeId:b,flowId:V.rfId,panBy:V.panBy,cancelConnection:V.cancelConnection,onConnectStart:V.onConnectStart,onConnectEnd:V.onConnectEnd,updateConnection:V.updateConnection,onConnect:S,isValidConnection:n||V.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:V.autoPanSpeed,dragThreshold:V.connectionDragThreshold})}P?h==null||h(A):m==null||m(A)},C=A=>{const{onClickConnectStart:P,onClickConnectEnd:V,connectionClickStartHandle:R,connectionMode:H,isValidConnection:z,lib:Y,rfId:X,nodeLookup:G,connection:Z}=N.getState();if(!b||!R&&!s)return;if(!R){P==null||P(A.nativeEvent,{nodeId:b,handleId:u,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:b,type:e,id:u}});return}const U=Nr(A.target),F=n||z,{connection:q,isValid:ee}=Yn.isValid(A.nativeEvent,{handle:{nodeId:b,id:u,type:e},connectionMode:H,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:F,flowId:X,doc:U,lib:Y,nodeLookup:G});ee&&q&&S(q);const J=structuredClone(Z);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,V==null||V(A,J),N.setState({connectionClickStartHandle:null})};return T.jsx("div",{"data-handleid":u,"data-nodeid":b,"data-handlepos":t,"data-id":`${v}-${b}-${u}-${e}`,className:le(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,c,{source:!g,target:g,connectable:o,connectablestart:s,connectableend:r,clickconnecting:D,connectingfrom:_,connectingto:E,valid:M,connectionindicator:o&&(!I||L)&&(I||O?r:s)}]),onMouseDown:B,onTouchStart:B,onClick:w?C:void 0,ref:x,...f,children:d})}const re=$.memo(Yr(cf));function uf({data:e,isConnectable:t,sourcePosition:n=W.Bottom}){return T.jsxs(T.Fragment,{children:[e==null?void 0:e.label,T.jsx(re,{type:"source",position:n,isConnectable:t})]})}function df({data:e,isConnectable:t,targetPosition:n=W.Top,sourcePosition:o=W.Bottom}){return T.jsxs(T.Fragment,{children:[T.jsx(re,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,T.jsx(re,{type:"source",position:o,isConnectable:t})]})}function mf(){return null}function ff({data:e,isConnectable:t,targetPosition:n=W.Top}){return T.jsxs(T.Fragment,{children:[T.jsx(re,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const tn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},gs={input:uf,default:df,output:ff,group:mf};function hf(e){var t,n,o,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((o=e.style)==null?void 0:o.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const pf=e=>{const{width:t,height:n,x:o,y:s}=_t(e.nodeLookup,{filter:r=>!!r.selected});return{width:be(t)?t:null,height:be(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${s}px)`}};function xf({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=ae(),{width:s,height:r,transformString:i,userSelectionActive:l}=te(pf,ie),d=Ur(),c=$.useRef(null);if($.useEffect(()=>{var f;n||(f=c.current)==null||f.focus({preventScroll:!0})},[n]),qr({nodeRef:c}),l||!s||!r)return null;const h=e?f=>{const x=o.getState().nodes.filter(u=>u.selected);e(f,x)}:void 0,m=f=>{Object.prototype.hasOwnProperty.call(tn,f.key)&&(f.preventDefault(),d({direction:tn[f.key],factor:f.shiftKey?4:1}))};return T.jsx("div",{className:le(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:T.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:r}})})}const Ns=typeof window<"u"?window:void 0,bf=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Zr({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:r,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:d,selectionKeyCode:c,selectionOnDrag:h,selectionMode:m,onSelectionStart:f,onSelectionEnd:x,multiSelectionKeyCode:u,panActivationKeyCode:g,zoomActivationKeyCode:N,elementsSelectable:b,zoomOnScroll:w,zoomOnPinch:p,panOnScroll:v,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:D,panOnDrag:L,defaultViewport:I,translateExtent:O,minZoom:M,maxZoom:S,preventScrolling:B,onSelectionContextMenu:C,noWheelClassName:k,noPanClassName:j,disableKeyboardA11y:A,onViewportChange:P,isControlledViewport:V}){const{nodesSelectionActive:R,userSelectionActive:H}=te(bf,ie),z=Ct(c,{target:Ns}),Y=Ct(g,{target:Ns}),X=Y||L,G=Y||v,Z=h&&X!==!0,U=z||H||Z;return Km({deleteKeyCode:d,multiSelectionKeyCode:u}),T.jsx(Jm,{onPaneContextMenu:r,elementsSelectable:b,zoomOnScroll:w,zoomOnPinch:p,panOnScroll:G,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:D,panOnDrag:!z&&X,defaultViewport:I,translateExtent:O,minZoom:M,maxZoom:S,zoomActivationKeyCode:N,preventScrolling:B,noWheelClassName:k,noPanClassName:j,onViewportChange:P,isControlledViewport:V,paneClickDistance:l,selectionOnDrag:Z,children:T.jsxs(of,{onSelectionStart:f,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:r,onPaneScroll:i,panOnDrag:X,isSelecting:!!U,selectionMode:m,selectionKeyPressed:z,paneClickDistance:l,selectionOnDrag:Z,children:[e,R&&T.jsx(xf,{onSelectionContextMenu:C,noPanClassName:j,disableKeyboardA11y:A})]})})}Zr.displayName="FlowRenderer";const gf=$.memo(Zr),Nf=e=>t=>e?no(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function vf(e){return te($.useCallback(Nf(e),[e]),ie)}const Cf=e=>e.updateNodeInternals;function wf(){const e=te(Cf),[t]=$.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const o=new Map;n.forEach(s=>{const r=s.target.getAttribute("data-id");o.set(r,{id:r,nodeElement:s.target,force:!0})}),e(o)}));return $.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function yf({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){const s=ae(),r=$.useRef(null),i=$.useRef(null),l=$.useRef(e.sourcePosition),d=$.useRef(e.targetPosition),c=$.useRef(t),h=n&&!!e.internals.handleBounds;return $.useEffect(()=>{r.current&&!e.hidden&&(!h||i.current!==r.current)&&(i.current&&(o==null||o.unobserve(i.current)),o==null||o.observe(r.current),i.current=r.current)},[h,e.hidden]),$.useEffect(()=>()=>{i.current&&(o==null||o.unobserve(i.current),i.current=null)},[]),$.useEffect(()=>{if(r.current){const m=c.current!==t,f=l.current!==e.sourcePosition,x=d.current!==e.targetPosition;(m||f||x)&&(c.current=t,l.current=e.sourcePosition,d.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:r.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),r}function Ef({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:s,onContextMenu:r,onDoubleClick:i,nodesDraggable:l,elementsSelectable:d,nodesConnectable:c,nodesFocusable:h,resizeObserver:m,noDragClassName:f,noPanClassName:x,disableKeyboardA11y:u,rfId:g,nodeTypes:N,nodeClickDistance:b,onError:w}){const{node:p,internals:v,isParent:_}=te(F=>{const q=F.nodeLookup.get(e),ee=F.parentLookup.has(e);return{node:q,internals:q.internals,isParent:ee}},ie);let E=p.type||"default",D=(N==null?void 0:N[E])||gs[E];D===void 0&&(w==null||w("003",he.error003(E)),E="default",D=(N==null?void 0:N.default)||gs.default);const L=!!(p.draggable||l&&typeof p.draggable>"u"),I=!!(p.selectable||d&&typeof p.selectable>"u"),O=!!(p.connectable||c&&typeof p.connectable>"u"),M=!!(p.focusable||h&&typeof p.focusable>"u"),S=ae(),B=br(p),C=yf({node:p,nodeType:E,hasDimensions:B,resizeObserver:m}),k=qr({nodeRef:C,disabled:p.hidden||!L,noDragClassName:f,handleSelector:p.dragHandle,nodeId:e,isSelectable:I,nodeClickDistance:b}),j=Ur();if(p.hidden)return null;const A=je(p),P=hf(p),V=I||L||t||n||o||s,R=n?F=>n(F,{...v.userNode}):void 0,H=o?F=>o(F,{...v.userNode}):void 0,z=s?F=>s(F,{...v.userNode}):void 0,Y=r?F=>r(F,{...v.userNode}):void 0,X=i?F=>i(F,{...v.userNode}):void 0,G=F=>{const{selectNodesOnDrag:q,nodeDragThreshold:ee}=S.getState();I&&(!q||!L||ee>0)&&Gn({id:e,store:S,nodeRef:C}),t&&t(F,{...v.userNode})},Z=F=>{if(!(vr(F.nativeEvent)||u)){if(ar.includes(F.key)&&I){const q=F.key==="Escape";Gn({id:e,store:S,unselect:q,nodeRef:C})}else if(L&&p.selected&&Object.prototype.hasOwnProperty.call(tn,F.key)){F.preventDefault();const{ariaLabelConfig:q}=S.getState();S.setState({ariaLiveMessage:q["node.a11yDescription.ariaLiveMessage"]({direction:F.key.replace("Arrow","").toLowerCase(),x:~~v.positionAbsolute.x,y:~~v.positionAbsolute.y})}),j({direction:tn[F.key],factor:F.shiftKey?4:1})}}},U=()=>{var oe;if(u||!((oe=C.current)!=null&&oe.matches(":focus-visible")))return;const{transform:F,width:q,height:ee,autoPanOnNodeFocus:J,setCenter:Q}=S.getState();if(!J)return;no(new Map([[e,p]]),{x:0,y:0,width:q,height:ee},F,!0).length>0||Q(p.position.x+A.width/2,p.position.y+A.height/2,{zoom:F[2]})};return T.jsx("div",{className:le(["react-flow__node",`react-flow__node-${E}`,{[x]:L},p.className,{selected:p.selected,selectable:I,parent:_,draggable:L,dragging:k}]),ref:C,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:V?"all":"none",visibility:B?"visible":"hidden",...p.style,...P},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:R,onMouseMove:H,onMouseLeave:z,onContextMenu:Y,onClick:G,onDoubleClick:X,onKeyDown:M?Z:void 0,tabIndex:M?0:void 0,onFocus:M?U:void 0,role:p.ariaRole??(M?"group":void 0),"aria-roledescription":"node","aria-describedby":u?void 0:`${zr}-${g}`,"aria-label":p.ariaLabel,...p.domAttributes,children:T.jsx(rf,{value:e,children:T.jsx(D,{id:e,data:p.data,type:E,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:p.selected??!1,selectable:I,draggable:L,deletable:p.deletable??!0,isConnectable:O,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:k,dragHandle:p.dragHandle,zIndex:v.z,parentId:p.parentId,...A})})})}var _f=$.memo(Ef);const Df=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Qr(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,onError:r}=te(Df,ie),i=vf(e.onlyRenderVisibleElements),l=wf();return T.jsx("div",{className:"react-flow__nodes",style:fn,children:i.map(d=>T.jsx(_f,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:r},d))})}Qr.displayName="NodeRenderer";const Vf=$.memo(Qr);function jf(e){return te($.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const o=[];if(n.width&&n.height)for(const s of n.edges){const r=n.nodeLookup.get(s.source),i=n.nodeLookup.get(s.target);r&&i&&Dd({sourceNode:r,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&o.push(s.id)}return o},[e]),ie)}const Sf=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return T.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Pf=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return T.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},vs={[Qt.Arrow]:Sf,[Qt.ArrowClosed]:Pf};function kf(e){const t=ae();return $.useMemo(()=>{var s,r;return Object.prototype.hasOwnProperty.call(vs,e)?vs[e]:((r=(s=t.getState()).onError)==null||r.call(s,"009",he.error009(e)),null)},[e])}const Mf=({id:e,type:t,color:n,width:o=12.5,height:s=12.5,markerUnits:r="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const d=kf(t);return d?T.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:r,orient:l,refX:"0",refY:"0",children:T.jsx(d,{color:n,strokeWidth:i})}):null},Jr=({defaultColor:e,rfId:t})=>{const n=te(r=>r.edges),o=te(r=>r.defaultEdgeOptions),s=$.useMemo(()=>Ad(n,{id:t,defaultColor:e,defaultMarkerStart:o==null?void 0:o.markerStart,defaultMarkerEnd:o==null?void 0:o.markerEnd}),[n,o,t,e]);return s.length?T.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:T.jsx("defs",{children:s.map(r=>T.jsx(Mf,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})}):null};Jr.displayName="MarkerDefinitions";var Af=$.memo(Jr);function ei({x:e,y:t,label:n,labelStyle:o,labelShowBg:s=!0,labelBgStyle:r,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:d,className:c,...h}){const[m,f]=$.useState({x:1,y:0,width:0,height:0}),x=le(["react-flow__edge-textwrapper",c]),u=$.useRef(null);return $.useEffect(()=>{if(u.current){const g=u.current.getBBox();f({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?T.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:x,visibility:m.width?"visible":"hidden",...h,children:[s&&T.jsx("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:r,rx:l,ry:l}),T.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:u,style:o,children:n}),d]}):null}ei.displayName="EdgeText";const Lf=$.memo(ei);function hn({path:e,labelX:t,labelY:n,label:o,labelStyle:s,labelShowBg:r,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:d,interactionWidth:c=20,...h}){return T.jsxs(T.Fragment,{children:[T.jsx("path",{...h,d:e,fill:"none",className:le(["react-flow__edge-path",h.className])}),c?T.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,o&&be(t)&&be(n)?T.jsx(Lf,{x:t,y:n,label:o,labelStyle:s,labelShowBg:r,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:d}):null]})}function Cs({pos:e,x1:t,y1:n,x2:o,y2:s}){return e===W.Left||e===W.Right?[.5*(t+o),n]:[t,.5*(n+s)]}function ti({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:o,targetY:s,targetPosition:r=W.Top}){const[i,l]=Cs({pos:n,x1:e,y1:t,x2:o,y2:s}),[d,c]=Cs({pos:r,x1:o,y1:s,x2:e,y2:t}),[h,m,f,x]=wr({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:i,sourceControlY:l,targetControlX:d,targetControlY:c});return[`M${e},${t} C${i},${l} ${d},${c} ${o},${s}`,h,m,f,x]}function ni(e){return $.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:r,sourcePosition:i,targetPosition:l,label:d,labelStyle:c,labelShowBg:h,labelBgStyle:m,labelBgPadding:f,labelBgBorderRadius:x,style:u,markerEnd:g,markerStart:N,interactionWidth:b})=>{const[w,p,v]=ti({sourceX:n,sourceY:o,sourcePosition:i,targetX:s,targetY:r,targetPosition:l}),_=e.isInternal?void 0:t;return T.jsx(hn,{id:_,path:w,labelX:p,labelY:v,label:d,labelStyle:c,labelShowBg:h,labelBgStyle:m,labelBgPadding:f,labelBgBorderRadius:x,style:u,markerEnd:g,markerStart:N,interactionWidth:b})})}const If=ni({isInternal:!1}),oi=ni({isInternal:!0});If.displayName="SimpleBezierEdge";oi.displayName="SimpleBezierEdgeInternal";function si(e){return $.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:r,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:m,style:f,sourcePosition:x=W.Bottom,targetPosition:u=W.Top,markerEnd:g,markerStart:N,pathOptions:b,interactionWidth:w})=>{const[p,v,_]=Fn({sourceX:n,sourceY:o,sourcePosition:x,targetX:s,targetY:r,targetPosition:u,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset,stepPosition:b==null?void 0:b.stepPosition}),E=e.isInternal?void 0:t;return T.jsx(hn,{id:E,path:p,labelX:v,labelY:_,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:m,style:f,markerEnd:g,markerStart:N,interactionWidth:w})})}const ri=si({isInternal:!1}),ii=si({isInternal:!0});ri.displayName="SmoothStepEdge";ii.displayName="SmoothStepEdgeInternal";function ai(e){return $.memo(({id:t,...n})=>{var s;const o=e.isInternal?void 0:t;return T.jsx(ri,{...n,id:o,pathOptions:$.useMemo(()=>{var r;return{borderRadius:0,offset:(r=n.pathOptions)==null?void 0:r.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const Tf=ai({isInternal:!1}),li=ai({isInternal:!0});Tf.displayName="StepEdge";li.displayName="StepEdgeInternal";function ci(e){return $.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:r,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:m,style:f,markerEnd:x,markerStart:u,interactionWidth:g})=>{const[N,b,w]=Dr({sourceX:n,sourceY:o,targetX:s,targetY:r}),p=e.isInternal?void 0:t;return T.jsx(hn,{id:p,path:N,labelX:b,labelY:w,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:m,style:f,markerEnd:x,markerStart:u,interactionWidth:g})})}const $f=ci({isInternal:!1}),ui=ci({isInternal:!0});$f.displayName="StraightEdge";ui.displayName="StraightEdgeInternal";function di(e){return $.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:r,sourcePosition:i=W.Bottom,targetPosition:l=W.Top,label:d,labelStyle:c,labelShowBg:h,labelBgStyle:m,labelBgPadding:f,labelBgBorderRadius:x,style:u,markerEnd:g,markerStart:N,pathOptions:b,interactionWidth:w})=>{const[p,v,_]=yr({sourceX:n,sourceY:o,sourcePosition:i,targetX:s,targetY:r,targetPosition:l,curvature:b==null?void 0:b.curvature}),E=e.isInternal?void 0:t;return T.jsx(hn,{id:E,path:p,labelX:v,labelY:_,label:d,labelStyle:c,labelShowBg:h,labelBgStyle:m,labelBgPadding:f,labelBgBorderRadius:x,style:u,markerEnd:g,markerStart:N,interactionWidth:w})})}const Bf=di({isInternal:!1}),mi=di({isInternal:!0});Bf.displayName="BezierEdge";mi.displayName="BezierEdgeInternal";const ws={default:mi,straight:ui,step:li,smoothstep:ii,simplebezier:oi},ys={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Rf=(e,t,n)=>n===W.Left?e-t:n===W.Right?e+t:e,zf=(e,t,n)=>n===W.Top?e-t:n===W.Bottom?e+t:e,Es="react-flow__edgeupdater";function _s({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:s,onMouseEnter:r,onMouseOut:i,type:l}){return T.jsx("circle",{onMouseDown:s,onMouseEnter:r,onMouseOut:i,className:le([Es,`${Es}-${l}`]),cx:Rf(t,o,e),cy:zf(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function Hf({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:s,targetX:r,targetY:i,sourcePosition:l,targetPosition:d,onReconnect:c,onReconnectStart:h,onReconnectEnd:m,setReconnecting:f,setUpdateHover:x}){const u=ae(),g=(v,_)=>{if(v.button!==0)return;const{autoPanOnConnect:E,domNode:D,isValidConnection:L,connectionMode:I,connectionRadius:O,lib:M,onConnectStart:S,onConnectEnd:B,cancelConnection:C,nodeLookup:k,rfId:j,panBy:A,updateConnection:P}=u.getState(),V=_.type==="target",R=(Y,X)=>{f(!1),m==null||m(Y,n,_.type,X)},H=Y=>c==null?void 0:c(n,Y),z=(Y,X)=>{f(!0),h==null||h(v,n,_.type),S==null||S(Y,X)};Yn.onPointerDown(v.nativeEvent,{autoPanOnConnect:E,connectionMode:I,connectionRadius:O,domNode:D,handleId:_.id,nodeId:_.nodeId,nodeLookup:k,isTarget:V,edgeUpdaterType:_.type,lib:M,flowId:j,cancelConnection:C,panBy:A,isValidConnection:L,onConnect:H,onConnectStart:z,onConnectEnd:B,onReconnectEnd:R,updateConnection:P,getTransform:()=>u.getState().transform,getFromHandle:()=>u.getState().connection.fromHandle,dragThreshold:u.getState().connectionDragThreshold,handleDomNode:v.currentTarget})},N=v=>g(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),b=v=>g(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),w=()=>x(!0),p=()=>x(!1);return T.jsxs(T.Fragment,{children:[(e===!0||e==="source")&&T.jsx(_s,{position:l,centerX:o,centerY:s,radius:t,onMouseDown:N,onMouseEnter:w,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&T.jsx(_s,{position:d,centerX:r,centerY:i,radius:t,onMouseDown:b,onMouseEnter:w,onMouseOut:p,type:"target"})]})}function Of({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:s,onDoubleClick:r,onContextMenu:i,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,reconnectRadius:h,onReconnect:m,onReconnectStart:f,onReconnectEnd:x,rfId:u,edgeTypes:g,noPanClassName:N,onError:b,disableKeyboardA11y:w}){let p=te(Q=>Q.edgeLookup.get(e));const v=te(Q=>Q.defaultEdgeOptions);p=v?{...v,...p}:p;let _=p.type||"default",E=(g==null?void 0:g[_])||ws[_];E===void 0&&(b==null||b("011",he.error011(_)),_="default",E=(g==null?void 0:g.default)||ws.default);const D=!!(p.focusable||t&&typeof p.focusable>"u"),L=typeof m<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),I=!!(p.selectable||o&&typeof p.selectable>"u"),O=$.useRef(null),[M,S]=$.useState(!1),[B,C]=$.useState(!1),k=ae(),{zIndex:j,sourceX:A,sourceY:P,targetX:V,targetY:R,sourcePosition:H,targetPosition:z}=te($.useCallback(Q=>{const K=Q.nodeLookup.get(p.source),oe=Q.nodeLookup.get(p.target);if(!K||!oe)return{zIndex:p.zIndex,...ys};const se=Md({id:e,sourceNode:K,targetNode:oe,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:Q.connectionMode,onError:b});return{zIndex:_d({selected:p.selected,zIndex:p.zIndex,sourceNode:K,targetNode:oe,elevateOnSelect:Q.elevateEdgesOnSelect,zIndexMode:Q.zIndexMode}),...se||ys}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),ie),Y=$.useMemo(()=>p.markerStart?`url('#${Wn(p.markerStart,u)}')`:void 0,[p.markerStart,u]),X=$.useMemo(()=>p.markerEnd?`url('#${Wn(p.markerEnd,u)}')`:void 0,[p.markerEnd,u]);if(p.hidden||A===null||P===null||V===null||R===null)return null;const G=Q=>{var ne;const{addSelectedEdges:K,unselectNodesAndEdges:oe,multiSelectionActive:se}=k.getState();I&&(k.setState({nodesSelectionActive:!1}),p.selected&&se?(oe({nodes:[],edges:[p]}),(ne=O.current)==null||ne.blur()):K([e])),s&&s(Q,p)},Z=r?Q=>{r(Q,{...p})}:void 0,U=i?Q=>{i(Q,{...p})}:void 0,F=l?Q=>{l(Q,{...p})}:void 0,q=d?Q=>{d(Q,{...p})}:void 0,ee=c?Q=>{c(Q,{...p})}:void 0,J=Q=>{var K;if(!w&&ar.includes(Q.key)&&I){const{unselectNodesAndEdges:oe,addSelectedEdges:se}=k.getState();Q.key==="Escape"?((K=O.current)==null||K.blur(),oe({edges:[p]})):se([e])}};return T.jsx("svg",{style:{zIndex:j},children:T.jsxs("g",{className:le(["react-flow__edge",`react-flow__edge-${_}`,p.className,N,{selected:p.selected,animated:p.animated,inactive:!I&&!s,updating:M,selectable:I}]),onClick:G,onDoubleClick:Z,onContextMenu:U,onMouseEnter:F,onMouseMove:q,onMouseLeave:ee,onKeyDown:D?J:void 0,tabIndex:D?0:void 0,role:p.ariaRole??(D?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":D?`${Hr}-${u}`:void 0,ref:O,...p.domAttributes,children:[!B&&T.jsx(E,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:I,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:A,sourceY:P,targetX:V,targetY:R,sourcePosition:H,targetPosition:z,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:Y,markerEnd:X,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),L&&T.jsx(Hf,{edge:p,isReconnectable:L,reconnectRadius:h,onReconnect:m,onReconnectStart:f,onReconnectEnd:x,sourceX:A,sourceY:P,targetX:V,targetY:R,sourcePosition:H,targetPosition:z,setUpdateHover:S,setReconnecting:C})]})})}var Ff=$.memo(Of);const Wf=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function fi({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:s,onReconnect:r,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:c,onEdgeClick:h,reconnectRadius:m,onEdgeDoubleClick:f,onReconnectStart:x,onReconnectEnd:u,disableKeyboardA11y:g}){const{edgesFocusable:N,edgesReconnectable:b,elementsSelectable:w,onError:p}=te(Wf,ie),v=jf(t);return T.jsxs("div",{className:"react-flow__edges",children:[T.jsx(Af,{defaultColor:e,rfId:n}),v.map(_=>T.jsx(Ff,{id:_,edgesFocusable:N,edgesReconnectable:b,elementsSelectable:w,noPanClassName:s,onReconnect:r,onContextMenu:i,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,onClick:h,reconnectRadius:m,onDoubleClick:f,onReconnectStart:x,onReconnectEnd:u,rfId:n,onError:p,edgeTypes:o,disableKeyboardA11y:g},_))]})}fi.displayName="EdgeRenderer";const Xf=$.memo(fi),Yf=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Gf({children:e}){const t=te(Yf);return T.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function qf(e){const t=uo(),n=$.useRef(!1);$.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Uf=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Kf(e){const t=te(Uf),n=ae();return $.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Zf(e){return e.connection.inProgress?{...e.connection,to:Vt(e.connection.to,e.transform)}:{...e.connection}}function Qf(e){return Zf}function Jf(e){const t=Qf();return te(t,ie)}const eh=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function th({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:s,width:r,height:i,isValid:l,inProgress:d}=te(eh,ie);return!(r&&s&&d)?null:T.jsx("svg",{style:e,width:r,height:i,className:"react-flow__connectionline react-flow__container",children:T.jsx("g",{className:le(["react-flow__connection",ur(l)]),children:T.jsx(hi,{style:t,type:n,CustomComponent:o,isValid:l})})})}const hi=({style:e,type:t=Me.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:s,from:r,fromNode:i,fromHandle:l,fromPosition:d,to:c,toNode:h,toHandle:m,toPosition:f,pointer:x}=Jf();if(!s)return;if(n)return T.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:r.x,fromY:r.y,toX:c.x,toY:c.y,fromPosition:d,toPosition:f,connectionStatus:ur(o),toNode:h,toHandle:m,pointer:x});let u="";const g={sourceX:r.x,sourceY:r.y,sourcePosition:d,targetX:c.x,targetY:c.y,targetPosition:f};switch(t){case Me.Bezier:[u]=yr(g);break;case Me.SimpleBezier:[u]=ti(g);break;case Me.Step:[u]=Fn({...g,borderRadius:0});break;case Me.SmoothStep:[u]=Fn(g);break;default:[u]=Dr(g)}return T.jsx("path",{d:u,fill:"none",className:"react-flow__connection-path",style:e})};hi.displayName="ConnectionLine";const nh={};function Ds(e=nh){const t=$.useRef(e),n=ae();$.useEffect(()=>{var o,s;{const r=new Set([...Object.keys(t.current),...Object.keys(e)]);for(const i of r)if(t.current[i]!==e[i]){(s=(o=n.getState()).onError)==null||s.call(o,"002",he.error002());break}t.current=e}},[e])}function oh(){const e=ae(),t=$.useRef(!1);$.useEffect(()=>{var n,o;if(!t.current){const s=document.querySelector(".react-flow__pane");s&&window.getComputedStyle(s).zIndex!=="1"&&((o=(n=e.getState()).onError)==null||o.call(n,"013",he.error013("react"))),t.current=!0}},[])}function pi({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:r,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:c,onNodeContextMenu:h,onSelectionContextMenu:m,onSelectionStart:f,onSelectionEnd:x,connectionLineType:u,connectionLineStyle:g,connectionLineComponent:N,connectionLineContainerStyle:b,selectionKeyCode:w,selectionOnDrag:p,selectionMode:v,multiSelectionKeyCode:_,panActivationKeyCode:E,zoomActivationKeyCode:D,deleteKeyCode:L,onlyRenderVisibleElements:I,elementsSelectable:O,defaultViewport:M,translateExtent:S,minZoom:B,maxZoom:C,preventScrolling:k,defaultMarkerColor:j,zoomOnScroll:A,zoomOnPinch:P,panOnScroll:V,panOnScrollSpeed:R,panOnScrollMode:H,zoomOnDoubleClick:z,panOnDrag:Y,onPaneClick:X,onPaneMouseEnter:G,onPaneMouseMove:Z,onPaneMouseLeave:U,onPaneScroll:F,onPaneContextMenu:q,paneClickDistance:ee,nodeClickDistance:J,onEdgeContextMenu:Q,onEdgeMouseEnter:K,onEdgeMouseMove:oe,onEdgeMouseLeave:se,reconnectRadius:ne,onReconnect:ue,onReconnectStart:Se,onReconnectEnd:ye,noDragClassName:Ae,noWheelClassName:nt,noPanClassName:ot,disableKeyboardA11y:st,nodeExtent:bn,rfId:jt,viewport:Oe,onViewportChange:rt}){return Ds(e),Ds(t),oh(),qf(n),Kf(Oe),T.jsx(gf,{onPaneClick:X,onPaneMouseEnter:G,onPaneMouseMove:Z,onPaneMouseLeave:U,onPaneContextMenu:q,onPaneScroll:F,paneClickDistance:ee,deleteKeyCode:L,selectionKeyCode:w,selectionOnDrag:p,selectionMode:v,onSelectionStart:f,onSelectionEnd:x,multiSelectionKeyCode:_,panActivationKeyCode:E,zoomActivationKeyCode:D,elementsSelectable:O,zoomOnScroll:A,zoomOnPinch:P,zoomOnDoubleClick:z,panOnScroll:V,panOnScrollSpeed:R,panOnScrollMode:H,panOnDrag:Y,defaultViewport:M,translateExtent:S,minZoom:B,maxZoom:C,onSelectionContextMenu:m,preventScrolling:k,noDragClassName:Ae,noWheelClassName:nt,noPanClassName:ot,disableKeyboardA11y:st,onViewportChange:rt,isControlledViewport:!!Oe,children:T.jsxs(Gf,{children:[T.jsx(Xf,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:i,onReconnect:ue,onReconnectStart:Se,onReconnectEnd:ye,onlyRenderVisibleElements:I,onEdgeContextMenu:Q,onEdgeMouseEnter:K,onEdgeMouseMove:oe,onEdgeMouseLeave:se,reconnectRadius:ne,defaultMarkerColor:j,noPanClassName:ot,disableKeyboardA11y:st,rfId:jt}),T.jsx(th,{style:g,type:u,component:N,containerStyle:b}),T.jsx("div",{className:"react-flow__edgelabel-renderer"}),T.jsx(Vf,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:r,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:c,onNodeContextMenu:h,nodeClickDistance:J,onlyRenderVisibleElements:I,noPanClassName:ot,noDragClassName:Ae,disableKeyboardA11y:st,nodeExtent:bn,rfId:jt}),T.jsx("div",{className:"react-flow__viewport-portal"})]})})}pi.displayName="GraphView";const sh=$.memo(pi),Vs=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:r,fitView:i,fitViewOptions:l,minZoom:d=.5,maxZoom:c=2,nodeOrigin:h,nodeExtent:m,zIndexMode:f="basic"}={})=>{const x=new Map,u=new Map,g=new Map,N=new Map,b=o??t??[],w=n??e??[],p=h??[0,0],v=m??bt;Sr(g,N,b);const _=Xn(w,x,u,{nodeOrigin:p,nodeExtent:v,zIndexMode:f});let E=[0,0,1];if(i&&s&&r){const D=_t(x,{filter:M=>!!((M.width||M.initialWidth)&&(M.height||M.initialHeight))}),{x:L,y:I,zoom:O}=oo(D,s,r,d,c,(l==null?void 0:l.padding)??.1);E=[L,I,O]}return{rfId:"1",width:s??0,height:r??0,transform:E,nodes:w,nodesInitialized:_,nodeLookup:x,parentLookup:u,edges:b,edgeLookup:N,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:d,maxZoom:c,translateExtent:bt,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ze.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:p,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...cr},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:xr,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:lr,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},rh=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:r,fitView:i,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:h,nodeExtent:m,zIndexMode:f})=>wm((x,u)=>{async function g(){const{nodeLookup:N,panZoom:b,fitViewOptions:w,fitViewResolver:p,width:v,height:_,minZoom:E,maxZoom:D}=u();b&&(await gd({nodes:N,width:v,height:_,panZoom:b,minZoom:E,maxZoom:D},w),p==null||p.resolve(!0),x({fitViewResolver:null}))}return{...Vs({nodes:e,edges:t,width:s,height:r,fitView:i,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:h,nodeExtent:m,defaultNodes:n,defaultEdges:o,zIndexMode:f}),setNodes:N=>{const{nodeLookup:b,parentLookup:w,nodeOrigin:p,elevateNodesOnSelect:v,fitViewQueued:_,zIndexMode:E}=u(),D=Xn(N,b,w,{nodeOrigin:p,nodeExtent:m,elevateNodesOnSelect:v,checkEquality:!0,zIndexMode:E});_&&D?(g(),x({nodes:N,nodesInitialized:D,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:N,nodesInitialized:D})},setEdges:N=>{const{connectionLookup:b,edgeLookup:w}=u();Sr(b,w,N),x({edges:N})},setDefaultNodesAndEdges:(N,b)=>{if(N){const{setNodes:w}=u();w(N),x({hasDefaultNodes:!0})}if(b){const{setEdges:w}=u();w(b),x({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:b,nodeLookup:w,parentLookup:p,domNode:v,nodeOrigin:_,nodeExtent:E,debug:D,fitViewQueued:L,zIndexMode:I}=u(),{changes:O,updatedInternals:M}=zd(N,w,p,v,_,E,I);M&&(Td(w,p,{nodeOrigin:_,nodeExtent:E,zIndexMode:I}),L?(g(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(O==null?void 0:O.length)>0&&(D&&console.log("React Flow: trigger node changes",O),b==null||b(O)))},updateNodePositions:(N,b=!1)=>{const w=[];let p=[];const{nodeLookup:v,triggerNodeChanges:_,connection:E,updateConnection:D,onNodesChangeMiddlewareMap:L}=u();for(const[I,O]of N){const M=v.get(I),S=!!(M!=null&&M.expandParent&&(M!=null&&M.parentId)&&(O!=null&&O.position)),B={id:I,type:"position",position:S?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:b};if(M&&E.inProgress&&E.fromNode.id===M.id){const C=He(M,E.fromHandle,W.Left,!0);D({...E,from:C})}S&&M.parentId&&w.push({id:I,parentId:M.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),p.push(B)}if(w.length>0){const{parentLookup:I,nodeOrigin:O}=u(),M=co(w,v,I,O);p.push(...M)}for(const I of L.values())p=I(p);_(p)},triggerNodeChanges:N=>{const{onNodesChange:b,setNodes:w,nodes:p,hasDefaultNodes:v,debug:_}=u();if(N!=null&&N.length){if(v){const E=Wr(N,p);w(E)}_&&console.log("React Flow: trigger node changes",N),b==null||b(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:b,setEdges:w,edges:p,hasDefaultEdges:v,debug:_}=u();if(N!=null&&N.length){if(v){const E=Xr(N,p);w(E)}_&&console.log("React Flow: trigger edge changes",N),b==null||b(N)}},addSelectedNodes:N=>{const{multiSelectionActive:b,edgeLookup:w,nodeLookup:p,triggerNodeChanges:v,triggerEdgeChanges:_}=u();if(b){const E=N.map(D=>Le(D,!0));v(E);return}v(Ye(p,new Set([...N]),!0)),_(Ye(w))},addSelectedEdges:N=>{const{multiSelectionActive:b,edgeLookup:w,nodeLookup:p,triggerNodeChanges:v,triggerEdgeChanges:_}=u();if(b){const E=N.map(D=>Le(D,!0));_(E);return}_(Ye(w,new Set([...N]))),v(Ye(p,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:b}={})=>{const{edges:w,nodes:p,nodeLookup:v,triggerNodeChanges:_,triggerEdgeChanges:E}=u(),D=N||p,L=b||w,I=D.map(M=>{const S=v.get(M.id);return S&&(S.selected=!1),Le(M.id,!1)}),O=L.map(M=>Le(M.id,!1));_(I),E(O)},setMinZoom:N=>{const{panZoom:b,maxZoom:w}=u();b==null||b.setScaleExtent([N,w]),x({minZoom:N})},setMaxZoom:N=>{const{panZoom:b,minZoom:w}=u();b==null||b.setScaleExtent([w,N]),x({maxZoom:N})},setTranslateExtent:N=>{var b;(b=u().panZoom)==null||b.setTranslateExtent(N),x({translateExtent:N})},resetSelectedElements:()=>{const{edges:N,nodes:b,triggerNodeChanges:w,triggerEdgeChanges:p,elementsSelectable:v}=u();if(!v)return;const _=b.reduce((D,L)=>L.selected?[...D,Le(L.id,!1)]:D,[]),E=N.reduce((D,L)=>L.selected?[...D,Le(L.id,!1)]:D,[]);w(_),p(E)},setNodeExtent:N=>{const{nodes:b,nodeLookup:w,parentLookup:p,nodeOrigin:v,elevateNodesOnSelect:_,nodeExtent:E,zIndexMode:D}=u();N[0][0]===E[0][0]&&N[0][1]===E[0][1]&&N[1][0]===E[1][0]&&N[1][1]===E[1][1]||(Xn(b,w,p,{nodeOrigin:v,nodeExtent:N,elevateNodesOnSelect:_,checkEquality:!1,zIndexMode:D}),x({nodeExtent:N}))},panBy:N=>{const{transform:b,width:w,height:p,panZoom:v,translateExtent:_}=u();return Hd({delta:N,panZoom:v,transform:b,translateExtent:_,width:w,height:p})},setCenter:async(N,b,w)=>{const{width:p,height:v,maxZoom:_,panZoom:E}=u();if(!E)return Promise.resolve(!1);const D=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:_;return await E.setViewport({x:p/2-N*D,y:v/2-b*D,zoom:D},{duration:w==null?void 0:w.duration,ease:w==null?void 0:w.ease,interpolate:w==null?void 0:w.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...cr}})},updateConnection:N=>{x({connection:N})},reset:()=>x({...Vs()})}},Object.is);function xi({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:s,initialHeight:r,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:d,fitView:c,nodeOrigin:h,nodeExtent:m,zIndexMode:f,children:x}){const[u]=$.useState(()=>rh({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:r,fitView:c,minZoom:i,maxZoom:l,fitViewOptions:d,nodeOrigin:h,nodeExtent:m,zIndexMode:f}));return T.jsx(ym,{value:u,children:T.jsx(Ym,{children:x})})}function ih({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:s,width:r,height:i,fitView:l,fitViewOptions:d,minZoom:c,maxZoom:h,nodeOrigin:m,nodeExtent:f,zIndexMode:x}){return $.useContext(dn)?T.jsx(T.Fragment,{children:e}):T.jsx(xi,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:s,initialWidth:r,initialHeight:i,fitView:l,initialFitViewOptions:d,initialMinZoom:c,initialMaxZoom:h,nodeOrigin:m,nodeExtent:f,zIndexMode:x,children:e})}const ah={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function lh({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:s,nodeTypes:r,edgeTypes:i,onNodeClick:l,onEdgeClick:d,onInit:c,onMove:h,onMoveStart:m,onMoveEnd:f,onConnect:x,onConnectStart:u,onConnectEnd:g,onClickConnectStart:N,onClickConnectEnd:b,onNodeMouseEnter:w,onNodeMouseMove:p,onNodeMouseLeave:v,onNodeContextMenu:_,onNodeDoubleClick:E,onNodeDragStart:D,onNodeDrag:L,onNodeDragStop:I,onNodesDelete:O,onEdgesDelete:M,onDelete:S,onSelectionChange:B,onSelectionDragStart:C,onSelectionDrag:k,onSelectionDragStop:j,onSelectionContextMenu:A,onSelectionStart:P,onSelectionEnd:V,onBeforeDelete:R,connectionMode:H,connectionLineType:z=Me.Bezier,connectionLineStyle:Y,connectionLineComponent:X,connectionLineContainerStyle:G,deleteKeyCode:Z="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:F=!1,selectionMode:q=gt.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:J=vt()?"Meta":"Control",zoomActivationKeyCode:Q=vt()?"Meta":"Control",snapToGrid:K,snapGrid:oe,onlyRenderVisibleElements:se=!1,selectNodesOnDrag:ne,nodesDraggable:ue,autoPanOnNodeFocus:Se,nodesConnectable:ye,nodesFocusable:Ae,nodeOrigin:nt=Or,edgesFocusable:ot,edgesReconnectable:st,elementsSelectable:bn=!0,defaultViewport:jt=Tm,minZoom:Oe=.5,maxZoom:rt=2,translateExtent:fo=bt,preventScrolling:vi=!0,nodeExtent:gn,defaultMarkerColor:Ci="#b1b1b7",zoomOnScroll:wi=!0,zoomOnPinch:yi=!0,panOnScroll:Ei=!1,panOnScrollSpeed:_i=.5,panOnScrollMode:Di=$e.Free,zoomOnDoubleClick:Vi=!0,panOnDrag:ji=!0,onPaneClick:Si,onPaneMouseEnter:Pi,onPaneMouseMove:ki,onPaneMouseLeave:Mi,onPaneScroll:Ai,onPaneContextMenu:Li,paneClickDistance:Ii=1,nodeClickDistance:Ti=0,children:$i,onReconnect:Bi,onReconnectStart:Ri,onReconnectEnd:zi,onEdgeContextMenu:Hi,onEdgeDoubleClick:Oi,onEdgeMouseEnter:Fi,onEdgeMouseMove:Wi,onEdgeMouseLeave:Xi,reconnectRadius:Yi=10,onNodesChange:Gi,onEdgesChange:qi,noDragClassName:Ui="nodrag",noWheelClassName:Ki="nowheel",noPanClassName:ho="nopan",fitView:po,fitViewOptions:xo,connectOnClick:Zi,attributionPosition:Qi,proOptions:Ji,defaultEdgeOptions:ea,elevateNodesOnSelect:ta=!0,elevateEdgesOnSelect:na=!1,disableKeyboardA11y:bo=!1,autoPanOnConnect:oa,autoPanOnNodeDrag:sa,autoPanSpeed:ra,connectionRadius:ia,isValidConnection:aa,onError:la,style:ca,id:go,nodeDragThreshold:ua,connectionDragThreshold:da,viewport:ma,onViewportChange:fa,width:ha,height:pa,colorMode:xa="light",debug:ba,onScroll:St,ariaLabelConfig:ga,zIndexMode:No="basic",...Na},va){const Nn=go||"1",Ca=zm(xa),wa=$.useCallback(vo=>{vo.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),St==null||St(vo)},[St]);return T.jsx("div",{"data-testid":"rf__wrapper",...Na,onScroll:wa,style:{...ca,...ah},ref:va,className:le(["react-flow",s,Ca]),id:go,role:"application",children:T.jsxs(ih,{nodes:e,edges:t,width:ha,height:pa,fitView:po,fitViewOptions:xo,minZoom:Oe,maxZoom:rt,nodeOrigin:nt,nodeExtent:gn,zIndexMode:No,children:[T.jsx(sh,{onInit:c,onNodeClick:l,onEdgeClick:d,onNodeMouseEnter:w,onNodeMouseMove:p,onNodeMouseLeave:v,onNodeContextMenu:_,onNodeDoubleClick:E,nodeTypes:r,edgeTypes:i,connectionLineType:z,connectionLineStyle:Y,connectionLineComponent:X,connectionLineContainerStyle:G,selectionKeyCode:U,selectionOnDrag:F,selectionMode:q,deleteKeyCode:Z,multiSelectionKeyCode:J,panActivationKeyCode:ee,zoomActivationKeyCode:Q,onlyRenderVisibleElements:se,defaultViewport:jt,translateExtent:fo,minZoom:Oe,maxZoom:rt,preventScrolling:vi,zoomOnScroll:wi,zoomOnPinch:yi,zoomOnDoubleClick:Vi,panOnScroll:Ei,panOnScrollSpeed:_i,panOnScrollMode:Di,panOnDrag:ji,onPaneClick:Si,onPaneMouseEnter:Pi,onPaneMouseMove:ki,onPaneMouseLeave:Mi,onPaneScroll:Ai,onPaneContextMenu:Li,paneClickDistance:Ii,nodeClickDistance:Ti,onSelectionContextMenu:A,onSelectionStart:P,onSelectionEnd:V,onReconnect:Bi,onReconnectStart:Ri,onReconnectEnd:zi,onEdgeContextMenu:Hi,onEdgeDoubleClick:Oi,onEdgeMouseEnter:Fi,onEdgeMouseMove:Wi,onEdgeMouseLeave:Xi,reconnectRadius:Yi,defaultMarkerColor:Ci,noDragClassName:Ui,noWheelClassName:Ki,noPanClassName:ho,rfId:Nn,disableKeyboardA11y:bo,nodeExtent:gn,viewport:ma,onViewportChange:fa}),T.jsx(Rm,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:x,onConnectStart:u,onConnectEnd:g,onClickConnectStart:N,onClickConnectEnd:b,nodesDraggable:ue,autoPanOnNodeFocus:Se,nodesConnectable:ye,nodesFocusable:Ae,edgesFocusable:ot,edgesReconnectable:st,elementsSelectable:bn,elevateNodesOnSelect:ta,elevateEdgesOnSelect:na,minZoom:Oe,maxZoom:rt,nodeExtent:gn,onNodesChange:Gi,onEdgesChange:qi,snapToGrid:K,snapGrid:oe,connectionMode:H,translateExtent:fo,connectOnClick:Zi,defaultEdgeOptions:ea,fitView:po,fitViewOptions:xo,onNodesDelete:O,onEdgesDelete:M,onDelete:S,onNodeDragStart:D,onNodeDrag:L,onNodeDragStop:I,onSelectionDrag:k,onSelectionDragStart:C,onSelectionDragStop:j,onMove:h,onMoveStart:m,onMoveEnd:f,noPanClassName:ho,nodeOrigin:nt,rfId:Nn,autoPanOnConnect:oa,autoPanOnNodeDrag:sa,autoPanSpeed:ra,onError:la,connectionRadius:ia,isValidConnection:aa,selectNodesOnDrag:ne,nodeDragThreshold:ua,connectionDragThreshold:da,onBeforeDelete:R,debug:ba,ariaLabelConfig:ga,zIndexMode:No}),T.jsx(Im,{onSelectionChange:B}),$i,T.jsx(Pm,{proOptions:Ji,position:Qi}),T.jsx(Sm,{rfId:Nn,disableKeyboardA11y:bo})]})})}var ch=Yr(lh);function uh(e){const[t,n]=$.useState(e),o=$.useCallback(s=>n(r=>Wr(s,r)),[]);return[t,n,o]}function dh(e){const[t,n]=$.useState(e),o=$.useCallback(s=>n(r=>Xr(s,r)),[]);return[t,n,o]}function mh({dimensions:e,lineWidth:t,variant:n,className:o}){return T.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:le(["react-flow__background-pattern",n,o])})}function fh({radius:e,className:t}){return T.jsx("circle",{cx:e,cy:e,r:e,className:le(["react-flow__background-pattern","dots",t])})}var De;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(De||(De={}));const hh={[De.Dots]:1,[De.Lines]:1,[De.Cross]:6},ph=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function bi({id:e,variant:t=De.Dots,gap:n=20,size:o,lineWidth:s=1,offset:r=0,color:i,bgColor:l,style:d,className:c,patternClassName:h}){const m=$.useRef(null),{transform:f,patternId:x}=te(ph,ie),u=o||hh[t],g=t===De.Dots,N=t===De.Cross,b=Array.isArray(n)?n:[n,n],w=[b[0]*f[2]||1,b[1]*f[2]||1],p=u*f[2],v=Array.isArray(r)?r:[r,r],_=N?[p,p]:w,E=[v[0]*f[2]||1+_[0]/2,v[1]*f[2]||1+_[1]/2],D=`${x}${e||""}`;return T.jsxs("svg",{className:le(["react-flow__background",c]),style:{...d,...fn,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:m,"data-testid":"rf__background",children:[T.jsx("pattern",{id:D,x:f[0]%w[0],y:f[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:g?T.jsx(fh,{radius:p/2,className:h}):T.jsx(mh,{dimensions:_,lineWidth:s,variant:t,className:h})}),T.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${D})`})]})}bi.displayName="Background";const xh=$.memo(bi);function bh(){return T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:T.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function gh(){return T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:T.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Nh(){return T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:T.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function vh(){return T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:T.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Ch(){return T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:T.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Bt({children:e,className:t,...n}){return T.jsx("button",{type:"button",className:le(["react-flow__controls-button",t]),...n,children:e})}const wh=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function gi({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:r,onZoomOut:i,onFitView:l,onInteractiveChange:d,className:c,children:h,position:m="bottom-left",orientation:f="vertical","aria-label":x}){const u=ae(),{isInteractive:g,minZoomReached:N,maxZoomReached:b,ariaLabelConfig:w}=te(wh,ie),{zoomIn:p,zoomOut:v,fitView:_}=uo(),E=()=>{p(),r==null||r()},D=()=>{v(),i==null||i()},L=()=>{_(s),l==null||l()},I=()=>{u.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),d==null||d(!g)},O=f==="horizontal"?"horizontal":"vertical";return T.jsxs(mn,{className:le(["react-flow__controls",O,c]),position:m,style:e,"data-testid":"rf__controls","aria-label":x??w["controls.ariaLabel"],children:[t&&T.jsxs(T.Fragment,{children:[T.jsx(Bt,{onClick:E,className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:b,children:T.jsx(bh,{})}),T.jsx(Bt,{onClick:D,className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:N,children:T.jsx(gh,{})})]}),n&&T.jsx(Bt,{className:"react-flow__controls-fitview",onClick:L,title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:T.jsx(Nh,{})}),o&&T.jsx(Bt,{className:"react-flow__controls-interactive",onClick:I,title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:g?T.jsx(Ch,{}):T.jsx(vh,{})}),h]})}gi.displayName="Controls";const yh=$.memo(gi);function Eh({id:e,x:t,y:n,width:o,height:s,style:r,color:i,strokeColor:l,strokeWidth:d,className:c,borderRadius:h,shapeRendering:m,selected:f,onClick:x}){const{background:u,backgroundColor:g}=r||{},N=i||u||g;return T.jsx("rect",{className:le(["react-flow__minimap-node",{selected:f},c]),x:t,y:n,rx:h,ry:h,width:o,height:s,style:{fill:N,stroke:l,strokeWidth:d},shapeRendering:m,onClick:x?b=>x(b,e):void 0})}const _h=$.memo(Eh),Dh=e=>e.nodes.map(t=>t.id),Mn=e=>e instanceof Function?e:()=>e;function Vh({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:r=_h,onClick:i}){const l=te(Dh,ie),d=Mn(t),c=Mn(e),h=Mn(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return T.jsx(T.Fragment,{children:l.map(f=>T.jsx(Sh,{id:f,nodeColorFunc:d,nodeStrokeColorFunc:c,nodeClassNameFunc:h,nodeBorderRadius:o,nodeStrokeWidth:s,NodeComponent:r,onClick:i,shapeRendering:m},f))})}function jh({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:s,nodeStrokeWidth:r,shapeRendering:i,NodeComponent:l,onClick:d}){const{node:c,x:h,y:m,width:f,height:x}=te(u=>{const{internals:g}=u.nodeLookup.get(e),N=g.userNode,{x:b,y:w}=g.positionAbsolute,{width:p,height:v}=je(N);return{node:N,x:b,y:w,width:p,height:v}},ie);return!c||c.hidden||!br(c)?null:T.jsx(l,{x:h,y:m,width:f,height:x,style:c.style,selected:!!c.selected,className:o(c),color:t(c),borderRadius:s,strokeColor:n(c),strokeWidth:r,shapeRendering:i,onClick:d,id:c.id})}const Sh=$.memo(jh);var Ph=$.memo(Vh);const kh=200,Mh=150,Ah=e=>!e.hidden,Lh=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?pr(_t(e.nodeLookup,{filter:Ah}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Ih="react-flow__minimap-desc";function Ni({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:s="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:d,maskColor:c,maskStrokeColor:h,maskStrokeWidth:m,position:f="bottom-right",onClick:x,onNodeClick:u,pannable:g=!1,zoomable:N=!1,ariaLabel:b,inversePan:w,zoomStep:p=1,offsetScale:v=5}){const _=ae(),E=$.useRef(null),{boundingRect:D,viewBB:L,rfId:I,panZoom:O,translateExtent:M,flowWidth:S,flowHeight:B,ariaLabelConfig:C}=te(Lh,ie),k=(e==null?void 0:e.width)??kh,j=(e==null?void 0:e.height)??Mh,A=D.width/k,P=D.height/j,V=Math.max(A,P),R=V*k,H=V*j,z=v*V,Y=D.x-(R-D.width)/2-z,X=D.y-(H-D.height)/2-z,G=R+z*2,Z=H+z*2,U=`${Ih}-${I}`,F=$.useRef(0),q=$.useRef();F.current=V,$.useEffect(()=>{if(E.current&&O)return q.current=Kd({domNode:E.current,panZoom:O,getTransform:()=>_.getState().transform,getViewScale:()=>F.current}),()=>{var K;(K=q.current)==null||K.destroy()}},[O]),$.useEffect(()=>{var K;(K=q.current)==null||K.update({translateExtent:M,width:S,height:B,inversePan:w,pannable:g,zoomStep:p,zoomable:N})},[g,N,w,p,M,S,B]);const ee=x?K=>{var ne;const[oe,se]=((ne=q.current)==null?void 0:ne.pointer(K))||[0,0];x(K,{x:oe,y:se})}:void 0,J=u?$.useCallback((K,oe)=>{const se=_.getState().nodeLookup.get(oe).internals.userNode;u(K,se)},[]):void 0,Q=b??C["minimap.ariaLabel"];return T.jsx(mn,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*V:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:le(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:T.jsxs("svg",{width:k,height:j,viewBox:`${Y} ${X} ${G} ${Z}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":U,ref:E,onClick:ee,children:[Q&&T.jsx("title",{id:U,children:Q}),T.jsx(Ph,{onClick:J,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:r,nodeClassName:s,nodeStrokeWidth:i,nodeComponent:l}),T.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-z},${X-z}h${G+z*2}v${Z+z*2}h${-G-z*2}z
        M${L.x},${L.y}h${L.width}v${L.height}h${-L.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Ni.displayName="MiniMap";$.memo(Ni);const Th=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,$h={[tt.Line]:"right",[tt.Handle]:"bottom-right"};function Bh({nodeId:e,position:t,variant:n=tt.Handle,className:o,style:s=void 0,children:r,color:i,minWidth:l=10,minHeight:d=10,maxWidth:c=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:f,autoScale:x=!0,shouldResize:u,onResizeStart:g,onResize:N,onResizeEnd:b}){const w=Kr(),p=typeof e=="string"?e:w,v=ae(),_=$.useRef(null),E=n===tt.Handle,D=te($.useCallback(Th(E&&x),[E,x]),ie),L=$.useRef(null),I=t??$h[n];$.useEffect(()=>{if(!(!_.current||!p))return L.current||(L.current=um({domNode:_.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:M,transform:S,snapGrid:B,snapToGrid:C,nodeOrigin:k,domNode:j}=v.getState();return{nodeLookup:M,transform:S,snapGrid:B,snapToGrid:C,nodeOrigin:k,paneDomNode:j}},onChange:(M,S)=>{const{triggerNodeChanges:B,nodeLookup:C,parentLookup:k,nodeOrigin:j}=v.getState(),A=[],P={x:M.x,y:M.y},V=C.get(p);if(V&&V.expandParent&&V.parentId){const R=V.origin??j,H=M.width??V.measured.width??0,z=M.height??V.measured.height??0,Y={id:V.id,parentId:V.parentId,rect:{width:H,height:z,...gr({x:M.x??V.position.x,y:M.y??V.position.y},{width:H,height:z},V.parentId,C,R)}},X=co([Y],C,k,j);A.push(...X),P.x=M.x?Math.max(R[0]*H,M.x):void 0,P.y=M.y?Math.max(R[1]*z,M.y):void 0}if(P.x!==void 0&&P.y!==void 0){const R={id:p,type:"position",position:{...P}};A.push(R)}if(M.width!==void 0&&M.height!==void 0){const H={id:p,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:M.width,height:M.height}};A.push(H)}for(const R of S){const H={...R,type:"position"};A.push(H)}B(A)},onEnd:({width:M,height:S})=>{const B={id:p,type:"dimensions",resizing:!1,dimensions:{width:M,height:S}};v.getState().triggerNodeChanges([B])}})),L.current.update({controlPosition:I,boundaries:{minWidth:l,minHeight:d,maxWidth:c,maxHeight:h},keepAspectRatio:m,resizeDirection:f,onResizeStart:g,onResize:N,onResizeEnd:b,shouldResize:u}),()=>{var M;(M=L.current)==null||M.destroy()}},[I,l,d,c,h,m,g,N,b,u]);const O=I.split("-");return T.jsx("div",{className:le(["react-flow__resize-control","nodrag",...O,n,o]),ref:_,style:{...s,scale:D,...i&&{[E?"backgroundColor":"borderColor"]:i}},children:r})}$.memo(Bh);const Rh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),zh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("polyline",{points:"4,7 4,4 20,4 20,7"}),y.createElement("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),y.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"20"})),Hh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("circle",{cx:"12",cy:"18",r:"3"}),y.createElement("circle",{cx:"6",cy:"6",r:"3"}),y.createElement("circle",{cx:"18",cy:"6",r:"3"}),y.createElement("path",{d:"m18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"}),y.createElement("path",{d:"M12 12v3"})),Oh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}),y.createElement("path",{d:"M5 3v4"}),y.createElement("path",{d:"M19 17v4"}),y.createElement("path",{d:"M3 5h4"}),y.createElement("path",{d:"M17 19h4"})),Fh=({size:e=16,className:t})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("circle",{cx:"11",cy:"11",r:"8"}),y.createElement("path",{d:"m21 21-4.35-4.35"})),Wh=({size:e=14,className:t})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("circle",{cx:"9",cy:"12",r:"1"}),y.createElement("circle",{cx:"9",cy:"5",r:"1"}),y.createElement("circle",{cx:"9",cy:"19",r:"1"}),y.createElement("circle",{cx:"15",cy:"12",r:"1"}),y.createElement("circle",{cx:"15",cy:"5",r:"1"}),y.createElement("circle",{cx:"15",cy:"19",r:"1"})),Xh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z"})),Yh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),y.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),y.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),y.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),y.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),y.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})),Gh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M2 3v18h20V3"}),y.createElement("path",{d:"M8 3v18"}),y.createElement("path",{d:"M16 3v18"})),qh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("circle",{cx:"12",cy:"12",r:"10"}),y.createElement("polyline",{points:"12,6 12,12 16,14"})),Uh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("circle",{cx:"12",cy:"12",r:"10"}),y.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),y.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})),Kh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}),y.createElement("circle",{cx:"7.5",cy:"7.5",r:".5"})),Zh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),y.createElement("path",{d:"M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5"}),y.createElement("path",{d:"M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3"})),Qh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("polyline",{points:"16,3 21,3 21,8"}),y.createElement("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),y.createElement("polyline",{points:"21,16 21,21 16,21"}),y.createElement("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),y.createElement("line",{x1:"4",y1:"4",x2:"9",y2:"9"})),Jh=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z"})),e0=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("polygon",{points:"13,2 3,14 12,14 11,22 21,10 12,10 13,2"})),t0=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),y.createElement("path",{d:"m21 2-9.6 9.6"}),y.createElement("path",{d:"m15.5 7.5 3 3L22 7l-3-3"}));function n0(){const e=(n,o,s)=>{n.dataTransfer.setData("application/reactflow",o),n.dataTransfer.setData("application/label",s),n.dataTransfer.effectAllowed="move"},t=({type:n,label:o,icon:s,color:r,desc:i})=>a.jsxDEV("div",{className:"group flex items-center gap-3 p-3 bg-[#1c1c1c] border border-[#333] rounded-xl cursor-grab hover:border-gray-500 hover:bg-[#252525] transition-all",onDragStart:l=>e(l,n,o),draggable:!0,children:[a.jsxDEV("div",{className:`p-2 rounded-lg bg-opacity-10 text-${r}-500 bg-${r}-500 group-hover:bg-${r}-500 group-hover:text-white transition-colors`,children:a.jsxDEV(s,{size:18},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:42,columnNumber:9},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:41,columnNumber:7},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("p",{className:"text-sm font-medium text-gray-200",children:o},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:45,columnNumber:9},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500",children:i},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:46,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:44,columnNumber:7},this),a.jsxDEV(Wh,{size:14,className:"text-[#333] group-hover:text-gray-500"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:48,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:36,columnNumber:5},this);return a.jsxDEV("div",{className:"w-[280px] bg-[#111] border-r border-[#222] flex flex-col h-full text-gray-300",children:[a.jsxDEV("div",{className:"p-4 border-b border-[#222]",children:a.jsxDEV("div",{className:"relative",children:[a.jsxDEV(Fh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:56,columnNumber:11},this),a.jsxDEV("input",{type:"text",placeholder:"Buscar nodes...",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg py-2 pl-9 pr-3 text-sm text-gray-300 focus:outline-none focus:border-emerald-600 transition-colors placeholder-gray-600"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:57,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:55,columnNumber:9},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:54,columnNumber:7},this),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-[#333]",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-3 px-1",children:"Gatilhos"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:69,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-2",children:a.jsxDEV(t,{type:"keywordNode",label:"Palavra Chave",icon:t0,color:"yellow",desc:"Inicia com texto especfico"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:71,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:68,columnNumber:9},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-3 px-1",children:"Envio de Contedo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:77,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(t,{type:"messageNode",label:"Texto Simples",icon:Rh,color:"emerald",desc:"Texto, imagem, vdeo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:79,columnNumber:13},this),a.jsxDEV(t,{type:"autoReplyNode",label:"Resposta Automtica",icon:e0,color:"emerald",desc:"Resposta simples rpida"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:80,columnNumber:13},this),a.jsxDEV(t,{type:"buttonsNode",label:"Botes",icon:Xh,color:"blue",desc:"At 3 opes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:81,columnNumber:13},this),a.jsxDEV(t,{type:"listNode",label:"Lista / Menu",icon:Yh,color:"purple",desc:"Menu de opes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:82,columnNumber:13},this),a.jsxDEV(t,{type:"carouselNode",label:"Carrossel",icon:Gh,color:"orange",desc:"Cards deslizveis"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:76,columnNumber:9},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-3 px-1",children:"Captura de Dados"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:89,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(t,{type:"inputNode",label:"Pergunta (Input)",icon:zh,color:"gray",desc:"Salvar resposta do usurio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:91,columnNumber:14},this),a.jsxDEV(t,{type:"setVariableNode",label:"Definir Varivel",icon:Zh,color:"orange",desc:"Salvar dados no CRM"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:92,columnNumber:14},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:90,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:88,columnNumber:9},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-3 px-1",children:"Lgica & Fluxo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:98,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(t,{type:"conditionNode",label:"Condio",icon:Hh,color:"yellow",desc:"Ramificar fluxo (Se/Ento)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:100,columnNumber:13},this),a.jsxDEV(t,{type:"randomizerNode",label:"Randomizador",icon:Qh,color:"purple",desc:"Teste A/B (50/50)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:101,columnNumber:13},this),a.jsxDEV(t,{type:"typingNode",label:"Digitando...",icon:qh,color:"blue",desc:"Delay visual"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:102,columnNumber:13},this),a.jsxDEV(t,{type:"handoffNode",label:"Falar com Humano",icon:Jh,color:"red",desc:"Transferir atendimento"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:97,columnNumber:9},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-3 px-1",children:"Integraes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:109,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(t,{type:"apiNode",label:"Requisio HTTP",icon:Uh,color:"cyan",desc:"Webhook / API Externa"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:111,columnNumber:13},this),a.jsxDEV(t,{type:"aiNode",label:"Agente IA",icon:Oh,color:"emerald",desc:"ChatGPT / Gemini"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:112,columnNumber:13},this),a.jsxDEV(t,{type:"tagNode",label:"Gerenciar Tag",icon:Kh,color:"pink",desc:"Adicionar/Remover tag"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:113,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:110,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:65,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/SidebarPalette.tsx",lineNumber:53,columnNumber:5},this)}const We=({size:e=18})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("polyline",{points:"3,6 5,6 21,6"}),y.createElement("path",{d:"m19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1 2-2h4a2,2 0 0,1 2,2v2"}),y.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),y.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"})),o0=({size:e=32})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),y.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})),s0=()=>y.createElement("svg",{width:12,height:12,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),y.createElement("path",{d:"M12 9v4"}),y.createElement("path",{d:"M12 17h.01"})),r0=()=>y.createElement("svg",{width:10,height:10,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),y.createElement("circle",{cx:"9",cy:"12",r:"1"}),y.createElement("circle",{cx:"15",cy:"12",r:"1"})),i0=({size:e=16})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}),y.createElement("path",{d:"M5 3v4"}),y.createElement("path",{d:"M19 17v4"}),y.createElement("path",{d:"M3 5h4"}),y.createElement("path",{d:"M17 19h4"})),a0=({size:e=16})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("circle",{cx:"12",cy:"12",r:"3"}),y.createElement("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1m17-4a4 4 0 0 1-8 0 4 4 0 0 1 8 0zM7 21a4 4 0 0 1-8 0 4 4 0 0 1 8 0z"}));function l0({selectedNode:e,onUpdateNode:t,onDeleteNode:n}){const[o,s]=y.useState({}),[r,i]=y.useState(!1),[l,d]=y.useState([]);y.useEffect(()=>{e&&s(JSON.parse(JSON.stringify(e.data)))},[e]),y.useEffect(()=>{r&&d(ja.getAll())},[r]);const c=(f,x)=>{const u={...o,[f]:x};s(u),t(e.id,u)},h=f=>{const x=it.getAll().find(u=>u.id===f);if(x){let u={...o};x.type==="text"&&(u.content=x.content.text),x.type==="buttons"&&(u.content=x.content.text,u.buttons=x.content.buttons),x.type==="carousel"&&(u.cards=x.content.cards),s(u),t(e.id,u)}};if(!e)return a.jsxDEV("div",{className:"w-[350px] bg-[#111] border-l border-[#222] flex flex-col items-center justify-center text-gray-500 p-8 text-center",children:[a.jsxDEV("div",{className:"w-16 h-16 bg-[#1c1c1c] rounded-full flex items-center justify-center mb-4",children:a.jsxDEV(o0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:79,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:78,columnNumber:9},this),a.jsxDEV("p",{children:"Selecione um n no canvas para editar suas propriedades."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:77,columnNumber:7},this);const m=()=>{switch(e.type){case"keywordNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Palavras Chave"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:92,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mb-1",children:"Separe por vrgula"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:93,columnNumber:25},this),a.jsxDEV("textarea",{rows:3,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-3 text-sm text-yellow-400 font-mono mt-1 focus:border-yellow-500 outline-none",value:o.keywords||"",onChange:u=>c("keywords",u.target.value),placeholder:"ex: preo, valor, quanto custa"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:94,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:91,columnNumber:21},this),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",className:"accent-yellow-500",checked:o.exactMatch,onChange:u=>c("exactMatch",u.target.checked)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:103,columnNumber:25},this),a.jsxDEV("span",{className:"text-xs text-gray-400",children:"Correspondncia Exata"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:104,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:102,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:90,columnNumber:17},this);case"autoReplyNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Mensagem Automtica"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:113,columnNumber:25},this),a.jsxDEV("textarea",{rows:5,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-3 text-sm text-gray-200 mt-1 focus:border-emerald-500 outline-none",value:o.content||"",onChange:u=>c("content",u.target.value),placeholder:"Digite a resposta..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:114,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:112,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Carregar Modelo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:124,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-400 mt-1",onChange:u=>h(u.target.value),children:[a.jsxDEV("option",{value:"",children:"Selecione..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:129,columnNumber:29},this),it.getAll().filter(u=>u.type==="text").map(u=>a.jsxDEV("option",{value:u.id,children:u.name},u.id,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:131,columnNumber:33},this))]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:125,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:123,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:111,columnNumber:17},this);case"messageNode":case"inputNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Contedo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:143,columnNumber:25},this),a.jsxDEV("textarea",{rows:5,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-3 text-sm text-gray-200 mt-1 focus:border-emerald-500 outline-none",value:o.content||"",onChange:u=>c("content",u.target.value)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:144,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:142,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Carregar Modelo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:153,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-400 mt-1",onChange:u=>h(u.target.value),children:[a.jsxDEV("option",{value:"",children:"Selecione..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:158,columnNumber:29},this),it.getAll().filter(u=>u.type==="text").map(u=>a.jsxDEV("option",{value:u.id,children:u.name},u.id,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:160,columnNumber:33},this))]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:154,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:152,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:141,columnNumber:17},this);case"carouselNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Carregar Modelo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:172,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-400 mt-1 mb-4",onChange:u=>h(u.target.value),children:[a.jsxDEV("option",{value:"",children:"Selecione..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:177,columnNumber:29},this),it.getAll().filter(u=>u.type==="carousel").map(u=>a.jsxDEV("option",{value:u.id,children:u.name},u.id,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:179,columnNumber:33},this))]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:173,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:171,columnNumber:22},this),a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("div",{className:"bg-orange-900/10 border border-orange-900/30 p-2 rounded text-[10px] text-orange-300 flex items-center gap-2",children:[a.jsxDEV(s0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:186,columnNumber:29},this)," Mx 10 cards."]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:185,columnNumber:25},this),a.jsxDEV("button",{onClick:()=>i(!0),className:"text-[10px] bg-blue-600 text-white px-2 py-1 rounded flex items-center gap-1 hover:bg-blue-700",children:[a.jsxDEV(r0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:192,columnNumber:29},this)," Importar Produto"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:188,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:184,columnNumber:21},this),a.jsxDEV("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[(o.cards||[]).map((u,g)=>a.jsxDEV("div",{className:"bg-[#1c1c1c] border border-[#333] rounded-lg p-3 space-y-3 relative group",children:[a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("span",{className:"text-xs font-bold text-gray-400",children:["Card ",g+1]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:200,columnNumber:37},this),a.jsxDEV("button",{onClick:()=>{const N=[...o.cards||[]];N.splice(g,1),c("cards",N)},className:"text-red-500 hover:text-red-400",children:a.jsxDEV(We,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:201,columnNumber:214},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:201,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:199,columnNumber:33},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Ttulo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:205,columnNumber:41},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#252525] border border-[#333] rounded px-2 py-1.5 text-xs text-gray-200 mt-1",value:u.title||"",onChange:N=>{const b=[...o.cards];b[g].title=N.target.value,c("cards",b)}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:206,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:204,columnNumber:37},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Preo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:209,columnNumber:41},this),a.jsxDEV("input",{type:"number",className:"w-full bg-[#252525] border border-[#333] rounded px-2 py-1.5 text-xs text-gray-200 mt-1",value:u.price||"",onChange:N=>{const b=[...o.cards];b[g].price=N.target.value,c("cards",b)}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:210,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:208,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:203,columnNumber:33},this)]},g,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:198,columnNumber:29},this)),a.jsxDEV("button",{onClick:()=>c("cards",[...o.cards||[],{title:"Novo Card",description:"",price:0}]),className:"w-full py-2 border border-dashed border-[#444] text-gray-400 text-xs rounded hover:bg-[#1c1c1c] hover:text-orange-500",children:"+ Adicionar Card"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:215,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:196,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:170,columnNumber:17},this);case"aiNode":const f=Wt.getConfig(),x=Wt.isConfigured();return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{className:`p-3 rounded-lg border ${x?"bg-emerald-900/20 border-emerald-900/50":"bg-red-900/20 border-red-900/50"}`,children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxDEV(i0,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:229,columnNumber:29},this),a.jsxDEV("span",{className:`text-xs font-bold ${x?"text-emerald-400":"text-red-400"}`,children:x?"IA Configurada":"IA No Configurada"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:230,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:228,columnNumber:25},this),x&&f?a.jsxDEV("div",{className:"text-[10px] text-gray-400 space-y-1",children:[a.jsxDEV("div",{children:["Provedor: ",a.jsxDEV("span",{className:"text-emerald-400 font-bold",children:f.provider==="openai"?"OpenAI":"Gemini"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:236,columnNumber:48},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:236,columnNumber:33},this),a.jsxDEV("div",{children:["Modelo: ",a.jsxDEV("span",{className:"text-emerald-400 font-bold",children:f.model},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:237,columnNumber:46},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:237,columnNumber:33},this),a.jsxDEV("div",{children:["Temperatura: ",a.jsxDEV("span",{className:"text-emerald-400 font-bold",children:f.temperature},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:238,columnNumber:51},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:238,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:235,columnNumber:29},this):a.jsxDEV("div",{className:"text-[10px] text-red-400",children:"Configure a IA nas configuraes do sistema"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:241,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:227,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Provedor (Sobrescrever)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:249,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.provider||(f==null?void 0:f.provider)||"openai",onChange:u=>c("provider",u.target.value),children:[a.jsxDEV("option",{value:"openai",children:"OpenAI (ChatGPT)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:255,columnNumber:29},this),a.jsxDEV("option",{value:"gemini",children:"Google Gemini"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:256,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:250,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Deixe vazio para usar configurao global"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:258,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:248,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Prompt do Sistema"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:262,columnNumber:25},this),a.jsxDEV("textarea",{rows:6,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-3 text-sm text-gray-200 mt-1 focus:border-emerald-500 outline-none font-mono",value:o.prompt||"",onChange:u=>c("prompt",u.target.value),placeholder:"Ex: Voc  um assistente de vendas. Ajude o cliente a encontrar produtos e responda suas dvidas de forma amigvel e profissional."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:263,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Este prompt define como a IA deve se comportar neste n"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:270,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:261,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Contexto Adicional"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:274,columnNumber:25},this),a.jsxDEV("textarea",{rows:3,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-3 text-sm text-gray-200 mt-1 focus:border-emerald-500 outline-none",value:o.context||"",onChange:u=>c("context",u.target.value),placeholder:"Ex: Informaes sobre produtos, polticas da empresa, etc."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:275,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Informaes extras que a IA deve considerar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:282,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:273,columnNumber:21},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Temperatura"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:287,columnNumber:29},this),a.jsxDEV("input",{type:"number",min:"0",max:"1",step:"0.1",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.temperature||(f==null?void 0:f.temperature)||.7,onChange:u=>c("temperature",parseFloat(u.target.value))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:288,columnNumber:29},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"0 = Preciso, 1 = Criativo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:297,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:286,columnNumber:25},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Max Tokens"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:300,columnNumber:29},this),a.jsxDEV("input",{type:"number",min:"50",max:"1000",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.maxTokens||(f==null?void 0:f.maxTokens)||150,onChange:u=>c("maxTokens",parseInt(u.target.value))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:301,columnNumber:29},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Tamanho da resposta"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:309,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:299,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:285,columnNumber:21},this),!x&&a.jsxDEV("div",{className:"bg-orange-900/20 border border-orange-900/50 p-3 rounded-lg",children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxDEV(a0,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:316,columnNumber:33},this),a.jsxDEV("span",{className:"text-xs font-bold text-orange-400",children:"Ao Necessria"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:317,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:315,columnNumber:29},this),a.jsxDEV("p",{className:"text-[10px] text-orange-300 mb-2",children:"Configure uma API key de IA nas configuraes do sistema para que este n funcione."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:319,columnNumber:29},this),a.jsxDEV("button",{onClick:()=>window.open("/configuracoes?tab=ai","_blank"),className:"text-[10px] bg-orange-600 text-white px-2 py-1 rounded hover:bg-orange-700",children:"Abrir Configuraes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:322,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:314,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:225,columnNumber:17},this);case"buttonsNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Texto da Pergunta"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:337,columnNumber:25},this),a.jsxDEV("textarea",{rows:3,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-3 text-sm text-gray-200 mt-1 focus:border-blue-500 outline-none",value:o.content||"",onChange:u=>c("content",u.target.value),placeholder:"Ex: Escolha uma das opes abaixo:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:338,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:336,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Botes (Mx 3)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:348,columnNumber:25},this),a.jsxDEV("div",{className:"space-y-2 mt-2",children:[(o.buttons||[]).map((u,g)=>a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("input",{type:"text",className:"flex-1 bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200",value:u.text||"",onChange:N=>{const b=[...o.buttons||[]];b[g]={...b[g],text:N.target.value,id:`btn_${g}`},c("buttons",b)},placeholder:`Boto ${g+1}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:352,columnNumber:37},this),a.jsxDEV("button",{onClick:()=>{const N=[...o.buttons||[]];N.splice(g,1),c("buttons",N)},className:"text-red-500 hover:text-red-400 p-2",children:a.jsxDEV(We,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:371,columnNumber:41},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:363,columnNumber:37},this)]},g,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:351,columnNumber:33},this)),(o.buttons||[]).length<3&&a.jsxDEV("button",{onClick:()=>{const u=[...o.buttons||[],{text:"",id:`btn_${Date.now()}`}];c("buttons",u)},className:"w-full py-2 border border-dashed border-[#444] text-gray-400 text-xs rounded hover:bg-[#1c1c1c] hover:text-blue-500",children:"+ Adicionar Boto"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:376,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:349,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:347,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Carregar Modelo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:391,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-400 mt-1",onChange:u=>h(u.target.value),children:[a.jsxDEV("option",{value:"",children:"Selecione..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:396,columnNumber:29},this),it.getAll().filter(u=>u.type==="buttons").map(u=>a.jsxDEV("option",{value:u.id,children:u.name},u.id,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:398,columnNumber:33},this))]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:392,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:390,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:335,columnNumber:17},this);case"listNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Ttulo da Lista"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:409,columnNumber:25},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.title||"",onChange:u=>c("title",u.target.value),placeholder:"Ex: Nossos Produtos"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:410,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:408,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Texto do Boto"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:420,columnNumber:25},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.buttonText||"",onChange:u=>c("buttonText",u.target.value),placeholder:"Ex: Ver Opes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:421,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:419,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Sees"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:431,columnNumber:25},this),a.jsxDEV("div",{className:"space-y-3 mt-2 max-h-[40vh] overflow-y-auto",children:[(o.sections||[]).map((u,g)=>a.jsxDEV("div",{className:"bg-[#1c1c1c] border border-[#333] rounded-lg p-3",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[a.jsxDEV("span",{className:"text-xs font-bold text-gray-400",children:["Seo ",g+1]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:436,columnNumber:41},this),a.jsxDEV("button",{onClick:()=>{const N=[...o.sections||[]];N.splice(g,1),c("sections",N)},className:"text-red-500 hover:text-red-400",children:a.jsxDEV(We,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:445,columnNumber:45},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:437,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:435,columnNumber:37},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#252525] border border-[#333] rounded px-2 py-1.5 text-xs text-gray-200 mb-2",value:u.title||"",onChange:N=>{const b=[...o.sections||[]];b[g]={...b[g],title:N.target.value},c("sections",b)},placeholder:"Ttulo da seo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:448,columnNumber:37},this),a.jsxDEV("div",{className:"space-y-1",children:[(u.rows||[]).map((N,b)=>a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("input",{type:"text",className:"flex-1 bg-[#252525] border border-[#333] rounded px-2 py-1 text-xs text-gray-200",value:N.title||"",onChange:w=>{const p=[...o.sections||[]];p[g].rows[b]={...N,title:w.target.value,id:`row_${b}`},c("sections",p)},placeholder:`Item ${b+1}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:462,columnNumber:49},this),a.jsxDEV("button",{onClick:()=>{const w=[...o.sections||[]];w[g].rows.splice(b,1),c("sections",w)},className:"text-red-500 hover:text-red-400 p-1",children:a.jsxDEV(We,{size:12},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:481,columnNumber:53},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:473,columnNumber:49},this)]},b,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:461,columnNumber:45},this)),a.jsxDEV("button",{onClick:()=>{const N=[...o.sections||[]];N[g].rows||(N[g].rows=[]),N[g].rows.push({title:"",id:`row_${Date.now()}`}),c("sections",N)},className:"w-full py-1 border border-dashed border-[#444] text-gray-500 text-[10px] rounded hover:bg-[#252525]",children:"+ Item"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:485,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:459,columnNumber:37},this)]},g,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:434,columnNumber:33},this)),a.jsxDEV("button",{onClick:()=>{const u=[...o.sections||[],{title:"",rows:[],id:`section_${Date.now()}`}];c("sections",u)},className:"w-full py-2 border border-dashed border-[#444] text-gray-400 text-xs rounded hover:bg-[#1c1c1c] hover:text-purple-500",children:"+ Adicionar Seo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:499,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:432,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:430,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:407,columnNumber:17},this);case"delayNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Tempo de Espera"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:517,columnNumber:25},this),a.jsxDEV("div",{className:"flex gap-2 mt-2",children:[a.jsxDEV("input",{type:"number",min:"1",max:"60",className:"flex-1 bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200",value:o.time||2,onChange:u=>c("time",parseInt(u.target.value))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:519,columnNumber:29},this),a.jsxDEV("select",{className:"bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200",value:o.unit||"seconds",onChange:u=>c("unit",u.target.value),children:[a.jsxDEV("option",{value:"seconds",children:"Segundos"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:532,columnNumber:33},this),a.jsxDEV("option",{value:"minutes",children:"Minutos"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:533,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:527,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:518,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Pausa antes de continuar o fluxo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:536,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:516,columnNumber:21},this),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",className:"accent-yellow-500",checked:o.showTyping||!1,onChange:u=>c("showTyping",u.target.checked)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:540,columnNumber:25},this),a.jsxDEV("span",{className:"text-xs text-gray-400",children:'Mostrar "digitando..."'},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:546,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:539,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:515,columnNumber:17},this);case"apiNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Mtodo HTTP"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:555,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.method||"GET",onChange:u=>c("method",u.target.value),children:[a.jsxDEV("option",{value:"GET",children:"GET"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:561,columnNumber:29},this),a.jsxDEV("option",{value:"POST",children:"POST"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:562,columnNumber:29},this),a.jsxDEV("option",{value:"PUT",children:"PUT"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:563,columnNumber:29},this),a.jsxDEV("option",{value:"DELETE",children:"DELETE"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:564,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:556,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:554,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"URL da API"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:569,columnNumber:25},this),a.jsxDEV("input",{type:"url",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1 font-mono",value:o.url||"",onChange:u=>c("url",u.target.value),placeholder:"https://api.exemplo.com/endpoint"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:570,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:568,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Headers (JSON)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:580,columnNumber:25},this),a.jsxDEV("textarea",{rows:3,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1 font-mono",value:o.headers||"",onChange:u=>c("headers",u.target.value),placeholder:'{"Authorization": "Bearer token", "Content-Type": "application/json"}'},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:581,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:579,columnNumber:21},this),(o.method==="POST"||o.method==="PUT")&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Body (JSON)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:592,columnNumber:29},this),a.jsxDEV("textarea",{rows:4,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1 font-mono",value:o.body||"",onChange:u=>c("body",u.target.value),placeholder:'{"campo": "valor", "usuario": "{{nome}}"}'},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:593,columnNumber:29},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:["Use ",{variavel}," para inserir dados do usurio"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:600,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:591,columnNumber:25},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Salvar Resposta em"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:605,columnNumber:25},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.saveAs||"",onChange:u=>c("saveAs",u.target.value),placeholder:"nome_da_variavel"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:606,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Nome da varivel para salvar a resposta da API"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:613,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:604,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:553,columnNumber:17},this);case"tagNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Ao"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:622,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.action||"add",onChange:u=>c("action",u.target.value),children:[a.jsxDEV("option",{value:"add",children:"Adicionar Tag"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:628,columnNumber:29},this),a.jsxDEV("option",{value:"remove",children:"Remover Tag"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:629,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:623,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:621,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Nome da Tag"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:634,columnNumber:25},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.tag||"",onChange:u=>c("tag",u.target.value),placeholder:"Ex: cliente_vip, interessado_produto_x"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:635,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Use apenas letras, nmeros e underscore"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:642,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:633,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Descrio (Opcional)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:646,columnNumber:25},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.description||"",onChange:u=>c("description",u.target.value),placeholder:"Ex: Cliente demonstrou interesse em produtos premium"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:647,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:645,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:620,columnNumber:17},this);case"setVariableNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Nome da Varivel"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:662,columnNumber:25},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.variable||"",onChange:u=>c("variable",u.target.value),placeholder:"Ex: nome_cliente, telefone, email"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:663,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Use apenas letras, nmeros e underscore"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:670,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:661,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Valor"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:674,columnNumber:25},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.value||"",onChange:u=>c("value",u.target.value),placeholder:"Ex: Joo Silva, {{input_anterior}}, valor_fixo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:675,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:["Use ",{variavel}," para referenciar outras variveis"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:682,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:673,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Tipo de Dados"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:686,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.dataType||"text",onChange:u=>c("dataType",u.target.value),children:[a.jsxDEV("option",{value:"text",children:"Texto"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:692,columnNumber:29},this),a.jsxDEV("option",{value:"number",children:"Nmero"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:693,columnNumber:29},this),a.jsxDEV("option",{value:"email",children:"Email"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:694,columnNumber:29},this),a.jsxDEV("option",{value:"phone",children:"Telefone"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:695,columnNumber:29},this),a.jsxDEV("option",{value:"date",children:"Data"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:696,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:687,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:685,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:660,columnNumber:17},this);case"randomizerNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Opes do Teste A/B"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:706,columnNumber:25},this),a.jsxDEV("div",{className:"space-y-2 mt-2",children:(o.options||[{label:"A",percent:50},{label:"B",percent:50}]).map((u,g)=>a.jsxDEV("div",{className:"flex gap-2 items-center",children:[a.jsxDEV("input",{type:"text",className:"flex-1 bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200",value:u.label||"",onChange:N=>{const b=[...o.options||[]];b[g]={...b[g],label:N.target.value},c("options",b)},placeholder:`Opo ${String.fromCharCode(65+g)}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:710,columnNumber:37},this),a.jsxDEV("input",{type:"number",min:"0",max:"100",className:"w-16 bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200",value:u.percent||50,onChange:N=>{const b=[...o.options||[]];b[g]={...b[g],percent:parseInt(N.target.value)},c("options",b)}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:721,columnNumber:37},this),a.jsxDEV("span",{className:"text-xs text-gray-400",children:"%"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:733,columnNumber:37},this)]},g,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:709,columnNumber:33},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:707,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:"Os percentuais devem somar 100%"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:737,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:705,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:704,columnNumber:17},this);case"handoffNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Mensagem de Transferncia"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:746,columnNumber:25},this),a.jsxDEV("textarea",{rows:3,className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-3 text-sm text-gray-200 mt-1 focus:border-red-500 outline-none",value:o.message||"",onChange:u=>c("message",u.target.value),placeholder:"Ex: Aguarde um momento, vou transferir voc para um de nossos atendentes."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:747,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:745,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Departamento"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:757,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.department||"vendas",onChange:u=>c("department",u.target.value),children:[a.jsxDEV("option",{value:"vendas",children:"Vendas"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:763,columnNumber:29},this),a.jsxDEV("option",{value:"suporte",children:"Suporte Tcnico"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:764,columnNumber:29},this),a.jsxDEV("option",{value:"financeiro",children:"Financeiro"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:765,columnNumber:29},this),a.jsxDEV("option",{value:"geral",children:"Atendimento Geral"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:766,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:758,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:756,columnNumber:21},this),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("input",{type:"checkbox",className:"accent-red-500",checked:o.priority||!1,onChange:u=>c("priority",u.target.checked)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:771,columnNumber:25},this),a.jsxDEV("span",{className:"text-xs text-gray-400",children:"Atendimento Prioritrio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:777,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:770,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:744,columnNumber:17},this);case"typingNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Durao"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:786,columnNumber:25},this),a.jsxDEV("div",{className:"flex gap-2 mt-2",children:[a.jsxDEV("input",{type:"number",min:"1",max:"10",className:"flex-1 bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200",value:o.duration||3,onChange:u=>c("duration",parseInt(u.target.value))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:788,columnNumber:29},this),a.jsxDEV("span",{className:"text-sm text-gray-400 flex items-center",children:"segundos"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:796,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:787,columnNumber:25},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-1",children:'Tempo que o indicador "digitando..." ficar visvel'},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:798,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:785,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Estilo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:802,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.style||"typing",onChange:u=>c("style",u.target.value),children:[a.jsxDEV("option",{value:"typing",children:"Digitando..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:808,columnNumber:29},this),a.jsxDEV("option",{value:"recording",children:"Gravando udio..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:809,columnNumber:29},this),a.jsxDEV("option",{value:"uploading",children:"Enviando arquivo..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:810,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:803,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:801,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:784,columnNumber:17},this);case"conditionNode":return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Condies"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:820,columnNumber:25},this),a.jsxDEV("div",{className:"space-y-2 mt-2",children:[(o.conditions||[]).map((u,g)=>a.jsxDEV("div",{className:"bg-[#1c1c1c] border border-[#333] rounded-lg p-3",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[a.jsxDEV("span",{className:"text-xs font-bold text-gray-400",children:["Condio ",g+1]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:825,columnNumber:41},this),a.jsxDEV("button",{onClick:()=>{const N=[...o.conditions||[]];N.splice(g,1),c("conditions",N)},className:"text-red-500 hover:text-red-400",children:a.jsxDEV(We,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:834,columnNumber:45},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:826,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:824,columnNumber:37},this),a.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxDEV("input",{type:"text",className:"bg-[#252525] border border-[#333] rounded px-2 py-1.5 text-xs text-gray-200",value:u.field||"",onChange:N=>{const b=[...o.conditions||[]];b[g]={...b[g],field:N.target.value},c("conditions",b)},placeholder:"Campo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:838,columnNumber:41},this),a.jsxDEV("select",{className:"bg-[#252525] border border-[#333] rounded px-2 py-1.5 text-xs text-gray-200",value:u.operator||"equals",onChange:N=>{const b=[...o.conditions||[]];b[g]={...b[g],operator:N.target.value},c("conditions",b)},children:[a.jsxDEV("option",{value:"equals",children:"Igual a"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:858,columnNumber:45},this),a.jsxDEV("option",{value:"contains",children:"Contm"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:859,columnNumber:45},this),a.jsxDEV("option",{value:"starts_with",children:"Inicia com"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:860,columnNumber:45},this),a.jsxDEV("option",{value:"greater_than",children:"Maior que"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:861,columnNumber:45},this),a.jsxDEV("option",{value:"less_than",children:"Menor que"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:862,columnNumber:45},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:849,columnNumber:41},this),a.jsxDEV("input",{type:"text",className:"bg-[#252525] border border-[#333] rounded px-2 py-1.5 text-xs text-gray-200",value:u.value||"",onChange:N=>{const b=[...o.conditions||[]];b[g]={...b[g],value:N.target.value},c("conditions",b)},placeholder:"Valor"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:864,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:837,columnNumber:37},this)]},g,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:823,columnNumber:33},this)),a.jsxDEV("button",{onClick:()=>{const u=[...o.conditions||[],{field:"",operator:"equals",value:""}];c("conditions",u)},className:"w-full py-2 border border-dashed border-[#444] text-gray-400 text-xs rounded hover:bg-[#1c1c1c] hover:text-yellow-500",children:"+ Adicionar Condio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:878,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:821,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:819,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Lgica"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:891,columnNumber:25},this),a.jsxDEV("select",{className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.logic||"AND",onChange:u=>c("logic",u.target.value),children:[a.jsxDEV("option",{value:"AND",children:"E (todas as condies)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:897,columnNumber:29},this),a.jsxDEV("option",{value:"OR",children:"OU (qualquer condio)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:898,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:892,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:890,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:818,columnNumber:17},this);default:return a.jsxDEV("div",{className:"space-y-4 animate-in fade-in",children:a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Label"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:908,columnNumber:25},this),a.jsxDEV("input",{type:"text",className:"w-full bg-[#1c1c1c] border border-[#333] rounded-lg p-2 text-sm text-gray-200 mt-1",value:o.label||"",onChange:u=>c("label",u.target.value)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:909,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:907,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:906,columnNumber:18},this)}};return a.jsxDEV("div",{className:"w-[350px] bg-[#111] border-l border-[#222] flex flex-col h-full relative",children:[a.jsxDEV("div",{className:"h-14 border-b border-[#222] flex items-center justify-between px-6 bg-[#161616]",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"font-bold text-gray-200",children:e.data.label},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:925,columnNumber:13},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 font-mono capitalize",children:e.type},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:926,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:924,columnNumber:9},this),a.jsxDEV("button",{onClick:()=>n(e.id),className:"text-gray-500 hover:text-red-500 p-2 hover:bg-red-500/10 rounded-lg transition-colors",children:a.jsxDEV(We,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:928,columnNumber:161},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:928,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:923,columnNumber:7},this),a.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-[#333]",children:m()},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:930,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/ConfigPanel.tsx",lineNumber:922,columnNumber:5},this)}const c0=()=>y.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("polygon",{points:"5,3 19,12 5,21"}));function u0(){return a.jsxDEV("div",{className:"relative group",children:[a.jsxDEV("div",{className:"flex items-center gap-2 px-6 py-3 rounded-full bg-emerald-900/40 border-2 border-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.3)] backdrop-blur-md transition-transform hover:scale-105",children:[a.jsxDEV(c0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/StartNode.tsx",lineNumber:11,columnNumber:9},this),a.jsxDEV("span",{className:"font-bold text-emerald-400 tracking-wide uppercase text-sm",children:"Incio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/StartNode.tsx",lineNumber:12,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/StartNode.tsx",lineNumber:10,columnNumber:7},this),a.jsxDEV(re,{type:"source",position:W.Right,className:"!bg-emerald-500 !w-3 !h-3 !border-2 !border-[#111]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/StartNode.tsx",lineNumber:14,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/StartNode.tsx",lineNumber:9,columnNumber:5},this)}const d0=()=>y.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),m0=()=>y.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("circle",{cx:"12",cy:"12",r:"1"}),y.createElement("circle",{cx:"19",cy:"12",r:"1"}),y.createElement("circle",{cx:"5",cy:"12",r:"1"})),f0=()=>y.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),y.createElement("circle",{cx:"9",cy:"9",r:"2"}),y.createElement("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})),h0=()=>y.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"m22 8-6 4 6 4V8Z"}),y.createElement("rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"})),An=y.memo(({data:e,selected:t})=>{const n=e.label||"Enviar Mensagem",o=e.content||"Ol! Como posso ajudar?",s=e.mediaType||"text";return a.jsxDEV("div",{className:ce("w-[280px] rounded-xl border-2 bg-[#1c1c1c] transition-all duration-200 shadow-xl",t?"border-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.2)]":"border-[#333] hover:border-[#444]"),children:[a.jsxDEV("div",{className:"px-4 py-3 border-b border-[#333] flex items-center justify-between bg-[#252525] rounded-t-lg",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("div",{className:"p-1.5 rounded bg-emerald-500/10 text-emerald-500",children:a.jsxDEV(d0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:25,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:24,columnNumber:11},void 0),a.jsxDEV("span",{className:"font-semibold text-gray-200 text-sm",children:n},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:27,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:23,columnNumber:9},void 0),a.jsxDEV("button",{className:"text-gray-500 hover:text-white",children:a.jsxDEV(m0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:30,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:22,columnNumber:7},void 0),a.jsxDEV("div",{className:"p-4",children:[a.jsxDEV("div",{className:"bg-[#2a2a2a] rounded-lg p-3 text-sm text-gray-300 relative group",children:[s==="image"&&a.jsxDEV("div",{className:"mb-2 h-24 bg-[#333] rounded flex items-center justify-center text-gray-500",children:a.jsxDEV(f0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:39,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:38,columnNumber:13},void 0),s==="video"&&a.jsxDEV("div",{className:"mb-2 h-24 bg-[#333] rounded flex items-center justify-center text-gray-500",children:a.jsxDEV(h0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:44,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:43,columnNumber:13},void 0),a.jsxDEV("p",{className:"line-clamp-3 leading-relaxed",children:String(o)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:47,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:36,columnNumber:9},void 0),e.quickReplies&&e.quickReplies.length>0?a.jsxDEV("div",{className:"flex gap-2 mt-3 overflow-hidden",children:e.quickReplies.map((r,i)=>a.jsxDEV("span",{className:"px-3 py-1 bg-[#333] border border-[#444] rounded-full text-xs text-emerald-400 whitespace-nowrap",children:String(r)},i,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:54,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:52,columnNumber:13},void 0):null]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:35,columnNumber:7},void 0),a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555] !w-3 !h-3 !border-2 !border-[#1c1c1c] hover:!bg-emerald-500 transition-colors"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:63,columnNumber:7},void 0),a.jsxDEV(re,{type:"source",position:W.Right,className:"!bg-emerald-500 !w-3 !h-3 !border-2 !border-[#1c1c1c]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:64,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/MessageNode.tsx",lineNumber:17,columnNumber:5},void 0)}),p0=({size:e=16,className:t=""})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("line",{x1:"8",x2:"21",y1:"6",y2:"6"}),y.createElement("line",{x1:"8",x2:"21",y1:"12",y2:"12"}),y.createElement("line",{x1:"8",x2:"21",y1:"18",y2:"18"}),y.createElement("line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}),y.createElement("line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}),y.createElement("line",{x1:"3",x2:"3.01",y1:"18",y2:"18"})),x0=({size:e=16,className:t=""})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z"})),b0=({size:e=16,className:t=""})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("path",{d:"M2 3v18h20V3"}),y.createElement("path",{d:"M8 21V7a4 4 0 0 1 8 0v14"}),y.createElement("path",{d:"M19 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-1"}),y.createElement("path",{d:"M3 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H3"})),g0=({size:e=16,className:t=""})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("circle",{cx:"12",cy:"12",r:"10"}),y.createElement("polyline",{points:"12,6 12,12 16,14"})),N0=({size:e=16,className:t=""})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}),y.createElement("circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"})),v0=({size:e=16,className:t=""})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("circle",{cx:"12",cy:"12",r:"10"}),y.createElement("path",{d:"m21.54 15.88-10.54-10.54"}),y.createElement("path",{d:"m21.54 8.12-10.54 10.54"})),C0=({size:e=16,className:t=""})=>y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:t},y.createElement("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}),y.createElement("path",{d:"M5 3v4"}),y.createElement("path",{d:"M19 17v4"}),y.createElement("path",{d:"M3 5h4"}),y.createElement("path",{d:"M17 19h4"})),pn=({selected:e,title:t,icon:n,colorClass:o,children:s,handles:r=!0})=>a.jsxDEV("div",{className:ce("w-[280px] rounded-xl border-2 bg-[#1c1c1c] transition-all duration-200 shadow-xl",e?`border-${o}-500 shadow-[0_0_20px_rgba(var(--${o}-rgb),0.2)]`:"border-[#333] hover:border-[#444]"),children:[a.jsxDEV("div",{className:"px-4 py-2 border-b border-[#333] flex items-center gap-2 bg-[#252525] rounded-t-lg",children:[a.jsxDEV("div",{className:ce("p-1.5 rounded bg-opacity-10",`bg-${o}-500 text-${o}-500`),children:a.jsxDEV(n,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:80,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:79,columnNumber:7},void 0),a.jsxDEV("span",{className:"font-semibold text-gray-200 text-sm",children:t},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:82,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:78,columnNumber:5},void 0),a.jsxDEV("div",{className:"p-4",children:s},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:84,columnNumber:5},void 0),r&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555] !w-3 !h-3 !border-2 !border-[#1c1c1c]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:87,columnNumber:9},void 0),a.jsxDEV(re,{type:"source",position:W.Right,className:ce(`!bg-${o}-500`,"!w-3 !h-3 !border-2 !border-[#1c1c1c]")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:86,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:74,columnNumber:3},void 0),w0=y.memo(({data:e,selected:t})=>{const n=e.buttons||[];return a.jsxDEV("div",{className:ce("w-[280px] rounded-xl border-2 bg-[#1c1c1c] transition-all duration-200 shadow-xl",t?"border-blue-500":"border-[#333]"),children:[a.jsxDEV("div",{className:"px-4 py-2 border-b border-[#333] flex items-center gap-2 bg-[#252525] rounded-t-lg",children:[a.jsxDEV(x0,{size:14,className:"text-blue-500"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:103,columnNumber:13},void 0),a.jsxDEV("span",{className:"font-semibold text-gray-200 text-sm",children:e.label},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:104,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:102,columnNumber:9},void 0),a.jsxDEV("div",{className:"p-4 space-y-3",children:[a.jsxDEV("p",{className:"text-sm text-gray-300 bg-[#2a2a2a] p-2 rounded",children:e.content||"Texto da pergunta..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:107,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:n.map((o,s)=>a.jsxDEV("div",{className:"relative",children:[a.jsxDEV("div",{className:"bg-[#333] text-blue-400 text-center text-xs py-2 rounded border border-[#444] font-medium",children:o.text},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:111,columnNumber:25},void 0),a.jsxDEV(re,{type:"source",position:W.Right,id:`button-${o.id||s}`,style:{top:"50%",right:-14},className:"!bg-blue-500 !w-2.5 !h-2.5"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:115,columnNumber:25},void 0)]},s,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:110,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:108,columnNumber:13},void 0),n.length===0&&a.jsxDEV("div",{className:"text-xs text-gray-500 text-center py-2",children:"Configure os botes no painel lateral"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:126,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:106,columnNumber:9},void 0),a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:131,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:98,columnNumber:5},void 0)}),y0=y.memo(({data:e,selected:t})=>{const n=e.sections||[],o=n.reduce((s,r)=>{var i;return s+(((i=r.rows)==null?void 0:i.length)||0)},0);return a.jsxDEV(pn,{selected:t,title:e.label,icon:p0,colorClass:"purple",children:[a.jsxDEV("p",{className:"text-sm text-gray-300 mb-2",children:e.title||"Ttulo da Lista"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:143,columnNumber:13},void 0),a.jsxDEV("div",{className:"bg-[#2a2a2a] rounded border border-[#333] divide-y divide-[#333]",children:[a.jsxDEV("div",{className:"p-2 text-center text-xs text-purple-400 font-bold",children:e.buttonText||"Abrir Menu"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:145,columnNumber:17},void 0),n.slice(0,2).map((s,r)=>{var i,l;return a.jsxDEV("div",{className:"p-2",children:[a.jsxDEV("div",{className:"text-xs text-purple-300 font-bold mb-1",children:s.title},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:150,columnNumber:25},void 0),(s.rows||[]).slice(0,2).map((d,c)=>a.jsxDEV("div",{className:"text-xs text-gray-400 ml-2",children:[" ",d.title]},c,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:152,columnNumber:29},void 0)),(((i=s.rows)==null?void 0:i.length)||0)>2&&a.jsxDEV("div",{className:"text-[10px] text-gray-600 ml-2",children:["...mais ",(((l=s.rows)==null?void 0:l.length)||0)-2]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:155,columnNumber:29},void 0)]},r,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:149,columnNumber:21},void 0)}),n.length>2&&a.jsxDEV("div",{className:"p-1 text-[10px] text-center text-gray-600",children:["...mais ",n.length-2," sees"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:160,columnNumber:21},void 0),o===0&&a.jsxDEV("div",{className:"p-2 text-xs text-gray-500 text-center",children:"Configure as opes no painel lateral"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:165,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:144,columnNumber:13},void 0),n.map((s,r)=>a.jsxDEV(re,{type:"source",position:W.Right,id:`section-${s.id||r}`,style:{top:`${30+r*20}%`,right:-14},className:"!bg-purple-500 !w-2.5 !h-2.5"},`section-${r}`,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:172,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:142,columnNumber:9},void 0)}),E0=y.memo(({data:e,selected:t})=>{const n=e.cards||[];return a.jsxDEV(pn,{selected:t,title:e.label,icon:b0,colorClass:"orange",children:[a.jsxDEV("div",{className:"flex gap-2 overflow-hidden opacity-80",children:[(n.length>0?n:[{}]).slice(0,2).map((o,s)=>a.jsxDEV("div",{className:"w-20 h-24 bg-[#333] rounded border border-[#444] flex flex-col items-center justify-center",children:[a.jsxDEV("div",{className:"w-8 h-8 bg-[#222] rounded mb-1"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:193,columnNumber:25},void 0),a.jsxDEV("div",{className:"w-12 h-2 bg-[#222] rounded"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:194,columnNumber:25},void 0)]},s,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:192,columnNumber:21},void 0)),a.jsxDEV("div",{className:"w-4 flex items-center justify-center text-gray-600",children:""},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:197,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:190,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-2 text-center",children:[n.length," cards configurados"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:199,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:189,columnNumber:9},void 0)}),_0=y.memo(({data:e,selected:t})=>{const n=Wt.getConfig(),o=Wt.isConfigured(),r=(e.provider||(n==null?void 0:n.provider)||"openai")==="openai"?"OpenAI":"Gemini";return a.jsxDEV(pn,{selected:t,title:e.label,icon:C0,colorClass:"emerald",children:a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[a.jsxDEV("span",{children:"Provedor:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:215,columnNumber:21},void 0),a.jsxDEV("div",{className:"flex items-center gap-1",children:[a.jsxDEV("div",{className:ce("w-2 h-2 rounded-full",o?"bg-emerald-500":"bg-red-500")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:217,columnNumber:25},void 0),a.jsxDEV("span",{className:ce("font-bold uppercase text-[10px]",o?"text-emerald-400":"text-red-400"),children:r},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:221,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:216,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:214,columnNumber:17},void 0),o&&n&&a.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[a.jsxDEV("span",{children:"Modelo:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:231,columnNumber:25},void 0),a.jsxDEV("span",{className:"text-emerald-400 font-bold text-[10px] uppercase",children:n.model},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:232,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:230,columnNumber:21},void 0),a.jsxDEV("div",{className:"bg-[#2a2a2a] p-2 rounded border border-[#333] text-[10px] text-gray-300 h-16 overflow-hidden",children:[a.jsxDEV("span",{className:"text-emerald-600 font-bold",children:"Prompt:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:238,columnNumber:21},void 0)," ",e.prompt||"Configure o prompt no painel lateral..."]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:237,columnNumber:17},void 0),!o&&a.jsxDEV("div",{className:"text-[10px] text-red-400 text-center bg-red-900/20 p-1 rounded border border-red-900/50",children:" IA no configurada"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:241,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:213,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:212,columnNumber:9},void 0)}),D0=y.memo(({data:e,selected:t})=>a.jsxDEV("div",{className:ce("w-[150px] rounded-full border-2 bg-[#1c1c1c] flex items-center justify-center py-2 px-4 shadow-lg",t?"border-yellow-500":"border-[#333]"),children:[a.jsxDEV(g0,{size:16,className:"text-yellow-500 mr-2"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:256,columnNumber:9},void 0),a.jsxDEV("span",{className:"text-sm font-bold text-gray-200",children:[String(e.time||2)," seg"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:257,columnNumber:9},void 0),a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:258,columnNumber:9},void 0),a.jsxDEV(re,{type:"source",position:W.Right,className:"!bg-yellow-500"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:259,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:252,columnNumber:5},void 0)),V0=y.memo(({data:e,selected:t})=>a.jsxDEV(pn,{selected:t,title:e.label||"Requisio HTTP",icon:v0,colorClass:"cyan",children:a.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxDEV("span",{className:ce("text-[10px] font-bold px-1.5 py-0.5 rounded",e.method==="GET"?"bg-blue-900 text-blue-300":"bg-green-900 text-green-300"),children:String(e.method||"GET")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:267,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-xs text-gray-400 truncate",children:String(e.url||"https://api...")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:270,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:266,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:265,columnNumber:5},void 0)),j0=y.memo(({data:e,selected:t})=>a.jsxDEV("div",{className:ce("w-[180px] rounded-lg border-2 bg-[#1c1c1c] p-3 shadow-lg",t?"border-pink-500":"border-[#333]"),children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxDEV(N0,{size:14,className:"text-pink-500"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:282,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-xs font-bold text-gray-300",children:e.action==="remove"?"Remover Tag":"Adicionar Tag"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:283,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:281,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-pink-900/20 text-pink-400 text-xs px-2 py-1 rounded text-center border border-pink-900/50",children:String(e.tag||"Nova Tag")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:285,columnNumber:9},void 0),a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:288,columnNumber:9},void 0),a.jsxDEV(re,{type:"source",position:W.Right,className:"!bg-pink-500"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:289,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/AdvancedNodes.tsx",lineNumber:277,columnNumber:5},void 0)),S0=()=>y.createElement("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),y.createElement("path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}),y.createElement("path",{d:"M3 12A9 3 0 0 0 21 12"})),P0=()=>y.createElement("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("polyline",{points:"16,3 21,3 21,8"}),y.createElement("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),y.createElement("polyline",{points:"21,16 21,21 16,21"}),y.createElement("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),y.createElement("line",{x1:"4",y1:"4",x2:"9",y2:"9"})),k0=()=>y.createElement("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z"})),M0=()=>y.createElement("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("circle",{cx:"12",cy:"12",r:"10"}),y.createElement("polyline",{points:"12,6 12,12 16,14"})),A0=()=>y.createElement("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M8 21s-4-3-4-9 4-9 4-9"}),y.createElement("path",{d:"m16 3s4 3 4 9-4 9-4 9"}),y.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),y.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"})),L0=()=>y.createElement("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M16 3h5v5"}),y.createElement("path",{d:"m21 3-7 7"}),y.createElement("path",{d:"m13 13 7 7"}),y.createElement("path",{d:"M8 21H3v-5"})),I0=()=>y.createElement("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("circle",{cx:"18",cy:"15",r:"3"}),y.createElement("circle",{cx:"9",cy:"7",r:"4"}),y.createElement("path",{d:"m13 14 2.9 5.7a1 1 0 0 0 1.8-.4l1.6-2.9a1 1 0 0 1 .8-.4h2.4a1 1 0 0 0 .8-1.6L21.7 12"}),y.createElement("path",{d:"M2 21a8 8 0 0 1 10.434-7.62"})),xn=({selected:e,title:t,icon:n,colorClass:o,children:s,handles:r=!0})=>a.jsxDEV("div",{className:ce("w-[280px] rounded-xl border-2 bg-[#1c1c1c] transition-all duration-200 shadow-xl",e?`border-${o}-500 shadow-[0_0_20px_rgba(var(--${o}-rgb),0.2)]`:"border-[#333] hover:border-[#444]"),children:[a.jsxDEV("div",{className:"px-4 py-2 border-b border-[#333] flex items-center gap-2 bg-[#252525] rounded-t-lg",children:[a.jsxDEV("div",{className:ce("p-1.5 rounded bg-opacity-10",`bg-${o}-500 text-${o}-500`),children:a.jsxDEV(n,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:22,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:21,columnNumber:7},void 0),a.jsxDEV("span",{className:"font-semibold text-gray-200 text-sm",children:t},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:24,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:20,columnNumber:5},void 0),a.jsxDEV("div",{className:"p-4",children:s},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:26,columnNumber:5},void 0),r&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555] !w-3 !h-3 !border-2 !border-[#1c1c1c]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:29,columnNumber:9},void 0),a.jsxDEV(re,{type:"source",position:W.Right,className:ce(`!bg-${o}-500`,"!w-3 !h-3 !border-2 !border-[#1c1c1c]")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:30,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:28,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:16,columnNumber:3},void 0),T0=y.memo(({data:e,selected:t})=>a.jsxDEV(xn,{selected:t,title:"Definir Varivel",icon:S0,colorClass:"orange",children:a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[a.jsxDEV("span",{children:"Varivel:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:41,columnNumber:9},void 0),a.jsxDEV("span",{className:"text-orange-400 font-mono bg-orange-900/20 px-1 rounded",children:`{{${String(e.variable||"nome")}}}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:40,columnNumber:7},void 0),a.jsxDEV("div",{className:"bg-[#2a2a2a] p-2 rounded border border-[#333] text-xs text-gray-300",children:[a.jsxDEV("span",{className:"text-gray-500",children:"Valor:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:47,columnNumber:9},void 0)," ",String(e.value||"Input do Usurio")]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:46,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:39,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:38,columnNumber:3},void 0)),$0=y.memo(({data:e,selected:t})=>{const n=e.options||[{label:"A",percent:50},{label:"B",percent:50}];return a.jsxDEV("div",{className:ce("w-[280px] rounded-xl border-2 bg-[#1c1c1c] transition-all duration-200 shadow-xl",t?"border-purple-500":"border-[#333]"),children:[a.jsxDEV("div",{className:"px-4 py-2 border-b border-[#333] flex items-center gap-2 bg-[#252525] rounded-t-lg",children:[a.jsxDEV(P0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:62,columnNumber:17},void 0),a.jsxDEV("span",{className:"font-semibold text-gray-200 text-sm",children:"Randomizador"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:63,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:61,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-4 space-y-2",children:n.map((o,s)=>a.jsxDEV("div",{className:"relative flex justify-between items-center bg-[#2a2a2a] p-2 rounded border border-[#333]",children:[a.jsxDEV("span",{className:"text-xs text-gray-300",children:["Caminho ",String(o.label)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:68,columnNumber:25},void 0),a.jsxDEV("span",{className:"text-xs font-bold text-purple-400",children:[String(o.percent),"%"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:69,columnNumber:25},void 0),a.jsxDEV(re,{type:"source",position:W.Right,id:`handle-${s}`,style:{top:"50%",right:-14},className:"!bg-purple-500 !w-2.5 !h-2.5"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:71,columnNumber:25},void 0)]},s,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:67,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:65,columnNumber:13},void 0),a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:81,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:57,columnNumber:9},void 0)}),B0=y.memo(({data:e,selected:t})=>a.jsxDEV(xn,{selected:t,title:"Falar com Humano",icon:k0,colorClass:"red",children:a.jsxDEV("div",{className:"text-center py-2",children:[a.jsxDEV("div",{className:"text-xs text-gray-400 mb-1",children:"Departamento"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:90,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-sm font-bold text-white bg-red-900/20 py-1 px-3 rounded border border-red-900/50 inline-block",children:String(e.department||"Geral")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:91,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-2",children:"O bot ir parar de responder aqui."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:89,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:88,columnNumber:3},void 0)),R0=y.memo(({data:e,selected:t})=>a.jsxDEV("div",{className:ce("px-4 py-2 rounded-full border-2 bg-[#1c1c1c] flex items-center gap-3 shadow-lg min-w-[180px]",t?"border-blue-500":"border-[#333]"),children:[a.jsxDEV(M0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:105,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex flex-col",children:[a.jsxDEV("span",{className:"text-xs font-bold text-gray-200",children:"Digitando..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:107,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-[10px] text-gray-500",children:[String(e.duration||3)," segundos"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:108,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:106,columnNumber:9},void 0),a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:110,columnNumber:9},void 0),a.jsxDEV(re,{type:"source",position:W.Right,className:"!bg-blue-500"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:111,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:101,columnNumber:5},void 0));y.memo(({data:e,selected:t})=>{const n=e.conditions||[{field:"nome",operator:"contains",value:"Joo"}];return a.jsxDEV("div",{className:ce("w-[280px] rounded-xl border-2 bg-[#1c1c1c] transition-all duration-200 shadow-xl",t?"border-yellow-500":"border-[#333]"),children:[a.jsxDEV("div",{className:"px-4 py-2 border-b border-[#333] flex items-center gap-2 bg-[#252525] rounded-t-lg",children:[a.jsxDEV(L0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:124,columnNumber:17},void 0),a.jsxDEV("span",{className:"font-semibold text-gray-200 text-sm",children:"Condio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:125,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:123,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-4 space-y-2",children:[n.map((o,s)=>a.jsxDEV("div",{className:"bg-[#2a2a2a] p-2 rounded border border-[#333] text-xs text-gray-300",children:[a.jsxDEV("span",{className:"text-yellow-400 font-mono",children:`{{${String(o.field)}}}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:130,columnNumber:25},void 0),a.jsxDEV("span",{className:"mx-1 text-gray-500",children:String(o.operator)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:131,columnNumber:25},void 0),a.jsxDEV("span",{className:"text-white",children:['"',String(o.value),'"']},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:132,columnNumber:25},void 0)]},s,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:129,columnNumber:21},void 0)),a.jsxDEV("div",{className:"flex justify-between mt-3",children:[a.jsxDEV("div",{className:"relative bg-green-900/20 text-green-400 text-center text-xs py-1 px-2 rounded border border-green-900/50 flex-1 mr-1",children:["Verdadeiro",a.jsxDEV(re,{type:"source",position:W.Right,id:"true",style:{top:"50%",right:-14},className:"!bg-green-500 !w-2.5 !h-2.5"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:139,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:137,columnNumber:21},void 0),a.jsxDEV("div",{className:"relative bg-red-900/20 text-red-400 text-center text-xs py-1 px-2 rounded border border-red-900/50 flex-1 ml-1",children:["Falso",a.jsxDEV(re,{type:"source",position:W.Right,id:"false",style:{top:"50%",right:-14},className:"!bg-red-500 !w-2.5 !h-2.5"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:149,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:147,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:136,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:127,columnNumber:13},void 0),a.jsxDEV(re,{type:"target",position:W.Left,className:"!bg-[#555]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:159,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:119,columnNumber:9},void 0)});y.memo(({data:e,selected:t})=>a.jsxDEV(xn,{selected:t,title:"Capturar Dados",icon:I0,colorClass:"teal",children:a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[a.jsxDEV("span",{children:"Tipo:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:169,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-teal-400 font-bold uppercase",children:String(e.inputType||"text")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:170,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:168,columnNumber:9},void 0),a.jsxDEV("div",{className:"bg-[#2a2a2a] p-2 rounded border border-[#333] text-xs text-gray-300",children:[a.jsxDEV("span",{className:"text-gray-500",children:"Salvar em:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:173,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-teal-400 font-mono ml-1",children:`{{${String(e.saveAs||"user_input")}}}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:174,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:172,columnNumber:9},void 0),e.validation?a.jsxDEV("div",{className:"text-[10px] text-gray-500 bg-[#333] p-1 rounded",children:["Validao: ",String(e.validation)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:177,columnNumber:13},void 0):null]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:167,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:166,columnNumber:3},void 0));y.memo(({data:e,selected:t})=>a.jsxDEV(xn,{selected:t,title:"Mostrar Varivel",icon:A0,colorClass:"indigo",children:a.jsxDEV("div",{className:"text-center py-2",children:[a.jsxDEV("div",{className:"text-xs text-gray-400 mb-2",children:"Varivel a exibir:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:189,columnNumber:9},void 0),a.jsxDEV("div",{className:"text-sm font-mono text-indigo-400 bg-indigo-900/20 py-1 px-3 rounded border border-indigo-900/50 inline-block",children:`{{${String(e.variable||"nome_usuario")}}}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:190,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-[10px] text-gray-500 mt-2",children:"Ser substitudo pelo valor real"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:193,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:188,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/nodes/LogicNodes.tsx",lineNumber:187,columnNumber:3},void 0));const z0=()=>y.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),H0=()=>y.createElement("svg",{width:18,height:18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),y.createElement("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})),O0=()=>y.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),y.createElement("path",{d:"M21 3v5h-5"}),y.createElement("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),y.createElement("path",{d:"M8 16H3v5"})),F0=()=>y.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),y.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}));function W0({isOpen:e,onClose:t,nodes:n,edges:o}){const[s,r]=y.useState([]),[i,l]=y.useState(null),[d,c]=y.useState(""),[h,m]=y.useState(!1),f=y.useRef(null);y.useEffect(()=>{e&&x()},[e]),y.useEffect(()=>{var p;(p=f.current)==null||p.scrollIntoView({behavior:"smooth"})},[s,h]);const x=()=>{r([]);const p=n.find(v=>v.type==="startNode");p?g(p.id):u("Erro: N de Incio no encontrado.")},u=p=>{r(v=>[...v,{id:Date.now().toString(),text:p,sender:"bot",type:"text"}])},g=async p=>{l(p);const v=n.find(_=>_.id===p);if(v)switch(m(!0),await new Promise(_=>setTimeout(_,800)),m(!1),v.type){case"startNode":N(p);break;case"messageNode":r(_=>[..._,{id:Date.now().toString(),text:v.data.content,sender:"bot",type:v.data.mediaType==="image"?"image":"text",image:v.data.mediaUrl}]),N(p);break;case"buttonsNode":r(_=>[..._,{id:Date.now().toString(),text:v.data.content,sender:"bot",type:"buttons",options:v.data.buttons}]);break;case"carouselNode":r(_=>[..._,{id:Date.now().toString(),sender:"bot",type:"carousel",options:v.data.cards}]);break;case"inputNode":r(_=>[..._,{id:Date.now().toString(),text:v.data.content,sender:"bot",type:"text"}]);break;default:u(`[Simulador] N tipo "${v.type}" processado.`),N(p)}},N=(p,v)=>{const _=o.filter(D=>D.source===p);let E;v?E=_.find(D=>D.sourceHandle===v):E=_[0],E&&g(E.target)},b=(p,v)=>{r(_=>[..._,{id:Date.now().toString(),text:p,sender:"user",type:"text"}]),i&&N(i,v)},w=()=>{d.trim()&&(b(d),c(""))};return e?a.jsxDEV("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in",children:a.jsxDEV("div",{className:"bg-white dark:bg-[#111] w-full max-w-sm h-[600px] rounded-[2rem] shadow-2xl overflow-hidden flex flex-col border-4 border-gray-800 relative",children:[a.jsxDEV("div",{className:"bg-[#075e54] text-white px-4 py-3 flex items-center justify-between shrink-0",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:a.jsxDEV(F0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:166,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:165,columnNumber:17},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"font-bold text-sm",children:"Bot Preview"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:169,columnNumber:21},this),a.jsxDEV("p",{className:"text-[10px] opacity-80",children:"Online"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:170,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:168,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:164,columnNumber:13},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV("button",{onClick:x,className:"p-1 hover:bg-white/10 rounded",title:"Reiniciar",children:a.jsxDEV(O0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:175,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:174,columnNumber:17},this),a.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-white/10 rounded",children:a.jsxDEV(z0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:178,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:177,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:173,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:163,columnNumber:9},this),a.jsxDEV("div",{className:"flex-1 bg-[#e5ddd5] dark:bg-[#0a0a0a] overflow-y-auto p-4 space-y-3",style:{backgroundImage:"url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png')",backgroundBlendMode:"overlay"},children:[s.map(p=>{var v,_;return a.jsxDEV("div",{className:ce("flex flex-col max-w-[85%]",p.sender==="user"?"ml-auto items-end":"mr-auto items-start"),children:[p.type==="text"&&p.text&&a.jsxDEV("div",{className:ce("px-3 py-2 rounded-lg text-sm shadow-sm relative",p.sender==="user"?"bg-[#d9fdd3] text-gray-800 rounded-tr-none":"bg-white text-gray-800 rounded-tl-none"),children:[p.text,a.jsxDEV("span",{className:"text-[9px] text-gray-400 block text-right mt-1",children:"10:00"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:193,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:188,columnNumber:25},this),p.type==="image"&&a.jsxDEV("div",{className:"bg-white p-1 rounded-lg shadow-sm rounded-tl-none",children:[p.image&&a.jsxDEV("img",{src:p.image,className:"rounded-lg w-full h-auto mb-1"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:199,columnNumber:43},this),p.text&&a.jsxDEV("p",{className:"text-sm text-gray-800 px-2 pb-1",children:p.text},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:200,columnNumber:42},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:198,columnNumber:25},this),p.type==="buttons"&&a.jsxDEV("div",{className:"space-y-2 w-full",children:[a.jsxDEV("div",{className:"bg-white px-3 py-2 rounded-lg text-sm shadow-sm rounded-tl-none text-gray-800",children:p.text},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:206,columnNumber:29},this),a.jsxDEV("div",{className:"flex flex-col gap-1",children:(v=p.options)==null?void 0:v.map((E,D)=>a.jsxDEV("button",{onClick:()=>b(E.text,`handle-${D}`),className:"bg-white text-emerald-600 font-bold text-sm py-2 rounded-lg shadow-sm hover:bg-gray-50 transition",children:E.text},D,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:211,columnNumber:37},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:209,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:205,columnNumber:25},this),p.type==="carousel"&&a.jsxDEV("div",{className:"flex gap-2 overflow-x-auto pb-2 w-full snap-x",children:(_=p.options)==null?void 0:_.map((E,D)=>{var L;return a.jsxDEV("div",{className:"min-w-[180px] w-[180px] bg-white rounded-lg shadow-sm overflow-hidden snap-start shrink-0",children:[E.imageUrl?a.jsxDEV("img",{src:E.imageUrl,className:"w-full h-24 object-cover"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:228,columnNumber:41},this):a.jsxDEV("div",{className:"w-full h-24 bg-gray-200 flex items-center justify-center text-gray-400 text-xs",children:"Sem Imagem"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:230,columnNumber:41},this),a.jsxDEV("div",{className:"p-2",children:[a.jsxDEV("h4",{className:"font-bold text-gray-800 text-xs truncate",children:E.title},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:233,columnNumber:41},this),a.jsxDEV("p",{className:"text-[10px] text-gray-500 line-clamp-2 mb-2",children:E.description},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:234,columnNumber:41},this),(L=E.buttons)==null?void 0:L.map((I,O)=>a.jsxDEV("button",{className:"w-full text-[10px] bg-gray-100 text-gray-700 py-1 rounded mb-1 font-medium hover:bg-gray-200",children:I.text},O,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:236,columnNumber:45},this))]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:232,columnNumber:37},this)]},D,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:226,columnNumber:33},this)})},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:224,columnNumber:25},this)]},p.id,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:186,columnNumber:17},this)}),h&&a.jsxDEV("div",{className:"bg-white px-3 py-2 rounded-lg rounded-tl-none w-fit shadow-sm",children:a.jsxDEV("div",{className:"flex gap-1",children:[a.jsxDEV("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:251,columnNumber:25},this),a.jsxDEV("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce delay-75"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:252,columnNumber:25},this),a.jsxDEV("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce delay-150"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:253,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:250,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:249,columnNumber:17},this),a.jsxDEV("div",{ref:f},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:257,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:184,columnNumber:9},this),a.jsxDEV("div",{className:"bg-[#f0f2f5] dark:bg-[#1c1c1c] p-2 flex items-center gap-2",children:[a.jsxDEV("input",{type:"text",className:"flex-1 bg-white dark:bg-[#2a2a2a] rounded-full px-4 py-2 text-sm outline-none border-none dark:text-white",placeholder:"Digite uma mensagem...",value:d,onChange:p=>c(p.target.value),onKeyDown:p=>p.key==="Enter"&&w()},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:262,columnNumber:13},this),a.jsxDEV("button",{onClick:w,className:"bg-[#075e54] text-white p-2 rounded-full hover:bg-[#054c44] transition",children:a.jsxDEV(H0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:274,columnNumber:17},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:270,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:261,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:160,columnNumber:7},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/components/BotSimulator.tsx",lineNumber:159,columnNumber:5},this):null}const X0={startNode:u0,messageNode:An,inputNode:An,conditionNode:An,buttonsNode:w0,listNode:y0,carouselNode:E0,aiNode:_0,delayNode:D0,apiNode:V0,tagNode:j0,setVariableNode:T0,randomizerNode:$0,handoffNode:B0,typingNode:R0},js=[{id:"start_1",type:"startNode",position:{x:250,y:100},data:{label:"Start"}}];function tp(){const{id:e}=_a(),t=Da(),n=$.useRef(null),[o,s,r]=uh(js),[i,l,d]=dh([]),[c,h]=$.useState(null),[m,f]=$.useState("Novo Fluxo"),[x,u]=$.useState(!1),[g,N]=$.useState(null),[b,w]=$.useState(!1);$.useEffect(()=>{if(e){const S=Co.getById(e);S&&(f(S.name),s(S.nodes||js),l(S.edges||[]))}},[e,s,l]);const p=$.useCallback(S=>l(B=>_r({...S,animated:!0,style:{stroke:"#10b981",strokeWidth:2}},B)),[l]),v=$.useCallback(S=>{S.preventDefault(),S.dataTransfer.dropEffect="move"},[]),_=$.useCallback(S=>{var A,P;S.preventDefault();const B=S.dataTransfer.getData("application/reactflow"),C=S.dataTransfer.getData("application/label");if(typeof B>"u"||!B)return;const k={x:S.clientX-(((A=n.current)==null?void 0:A.getBoundingClientRect().left)||0),y:S.clientY-(((P=n.current)==null?void 0:P.getBoundingClientRect().top)||0)},j={id:`node_${Date.now()}`,type:B,position:k,data:{label:C,content:"Configurar..."}};s(V=>V.concat(j))},[s]),E=(S,B)=>{h(B.id)},D=()=>{h(null)},L=(S,B)=>{s(C=>C.map(k=>k.id===S?{...k,data:{...k.data,...B}}:k))},I=S=>{s(B=>B.filter(C=>C.id!==S)),h(null)},O=()=>{e&&(u(!0),setTimeout(()=>{Co.update(e,{nodes:o,edges:i,name:m}),N(new Date),u(!1)},800))},M=o.find(S=>S.id===c)||null;return a.jsxDEV("div",{className:"h-screen w-full flex flex-col bg-[#0a0a0a] text-gray-100 font-sans overflow-hidden",children:[a.jsxDEV(W0,{isOpen:b,onClose:()=>w(!1),nodes:o,edges:i},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:172,columnNumber:7},this),a.jsxDEV("header",{className:"h-16 border-b border-[#222] bg-[#111] flex items-center justify-between px-6 shrink-0 z-20",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("button",{onClick:()=>t("/chatbots"),className:"p-2 hover:bg-[#222] rounded-lg text-gray-400 transition-colors",children:a.jsxDEV(Ma,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:183,columnNumber:17},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:182,columnNumber:13},this),a.jsxDEV("div",{children:[a.jsxDEV("input",{type:"text",value:m,onChange:S=>f(S.target.value),className:"font-bold text-lg text-white bg-transparent border-none outline-none focus:ring-0 w-[300px]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:186,columnNumber:17},this),a.jsxDEV("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsxDEV("span",{className:`w-2 h-2 rounded-full inline-block ${x?"bg-yellow-500":"bg-green-500"}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:193,columnNumber:20},this),x?"Salvando...":g?`Salvo s ${g.toLocaleTimeString()}`:"No salvo"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:192,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:185,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:181,columnNumber:9},this),a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-[#222] hover:bg-[#333] text-white rounded-lg font-medium text-sm flex items-center gap-2 transition-colors",children:[a.jsxDEV(Sa,{size:16,className:"fill-white"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:204,columnNumber:17},this)," Testar Bot"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:200,columnNumber:13},this),a.jsxDEV("button",{onClick:O,disabled:x,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold text-sm shadow-[0_0_15px_rgba(16,185,129,0.4)] transition-all flex items-center gap-2",children:[x?a.jsxDEV(La,{size:16,className:"animate-spin"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:211,columnNumber:29},this):a.jsxDEV(Pa,{size:16},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:211,columnNumber:78},this),"Salvar"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:206,columnNumber:13},this),a.jsxDEV("div",{className:"h-6 w-px bg-[#333] mx-2"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:214,columnNumber:13},this),a.jsxDEV("button",{className:"p-2 hover:bg-[#222] rounded-lg text-gray-400",children:a.jsxDEV(Va,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:215,columnNumber:78},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:215,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:180,columnNumber:7},this),a.jsxDEV("div",{className:"flex-1 flex overflow-hidden",children:a.jsxDEV(xi,{children:[a.jsxDEV(n0,{},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:223,columnNumber:13},this),a.jsxDEV("div",{className:"flex-1 h-full relative",ref:n,children:a.jsxDEV(ch,{nodes:o,edges:i,onNodesChange:r,onEdgesChange:d,onConnect:p,onNodeClick:E,onPaneClick:D,onDrop:_,onDragOver:v,nodeTypes:X0,fitView:!0,className:"bg-[#0a0a0a]",colorMode:"dark",children:[a.jsxDEV(xh,{color:"#222",gap:20,size:1,variant:De.Dots},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:242,columnNumber:21},this),a.jsxDEV(yh,{className:"bg-[#1c1c1c] border border-[#333] text-gray-400 [&>button]:border-b-[#333] hover:[&>button]:bg-[#252525]"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:243,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:227,columnNumber:17},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:226,columnNumber:13},this),a.jsxDEV(l0,{selectedNode:M,onUpdateNode:L,onDeleteNode:I},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:248,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:221,columnNumber:9},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:220,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowBuilderPage.tsx",lineNumber:171,columnNumber:5},this)}export{tp as default};
