import{c as _,R as m,j as e,M as Q,S as Y,r as D,F as ee,u as ae,f as ne,g as se,a as z}from"./index-CzIT3y9u.js";import{C as te}from"./ContactService-DQXUB0x0.js";import{C as re,X as $}from"./x-kyJA4pzP.js";import{P as oe}from"./PurchaseHistoryModal-HmJs0LV6.js";import{S as le}from"./ScheduleModal-CJese5U3.js";import{attendanceService as y}from"./AttendanceService-DRbHJWGr.js";import{W as K}from"./WhatsAppService-CPEuSYb2.js";import{S as A}from"./save-DzOm7sR2.js";import{k as j}from"./KanbanService-CgFd_rGu.js";import{T as ie,P}from"./trash-2-CSEduQTA.js";import{R as O}from"./refresh-cw-BRXlEgGe.js";import"./OrderService-B3PyY6dO.js";import"./ProductService-DJdeptBB.js";import"./LogService-D1NsVqvs.js";import"./TemplateService-C5x210Bu.js";import"./MetricsService-D-XrjjcY.js";import"./CampaignService-CffCzaYt.js";import"./api-CgldurF4.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],de=_("ellipsis",me);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ce=_("grip-vertical",ue);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],he=_("phone",be);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xe=_("user",Ne);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],pe=_("wallet",fe),ve=({size:n=16,className:u=""})=>m.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:u},m.createElement("path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z"}),m.createElement("path",{d:"M15 3v4a2 2 0 0 0 2 2h4"})),ge=({size:n=16,className:u=""})=>m.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:u},m.createElement("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),m.createElement("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"}));function Ce({contact:n,onOpenChat:u,onOpenHistory:g,onOpenFollowUp:i,onMenuAction:C}){var b;const[f,d]=m.useState(!1),o=t=>{C&&C(n,t),d(!1)},N=t=>{const E=new Date,r=new Date(t),h=Math.abs(E.getTime()-r.getTime()),v=Math.ceil(h/(1e3*60*60*24));return v===1?"Ontem":v<7?`${v} dias`:v<30?`${Math.ceil(v/7)} sem`:r.toLocaleDateString("pt-BR",{month:"short",day:"numeric"})};return e.jsxDEV("div",{draggable:!0,onDragStart:t=>{t.dataTransfer.setData("contactId",n.id),t.dataTransfer.effectAllowed="move"},className:"bg-white p-2 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-grab active:cursor-grabbing group relative",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV("div",{className:"relative shrink-0",children:[e.jsxDEV("img",{src:n.avatar||"https://via.placeholder.com/32",alt:n.name,className:"w-10 h-10 rounded-full object-cover border border-gray-100 shadow-sm"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:71,columnNumber:11},this),e.jsxDEV("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:70,columnNumber:9},this),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("h4",{className:"font-bold text-gray-800 text-xs truncate leading-tight",children:n.name},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:80,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsxDEV("p",{className:"text-[10px] text-gray-500 truncate leading-tight flex-1",children:n.phoneNumber},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:82,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-1.5 shrink-0 px-1.5 py-0.5 bg-gray-50 rounded border border-gray-100 shadow-sm",children:[n.tags&&n.tags.length>0&&e.jsxDEV(ge,{size:14,className:"text-purple-600"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:85,columnNumber:17},this),n.notes&&n.notes.length>0&&e.jsxDEV(ve,{size:14,className:"text-amber-500"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:79,columnNumber:9},this),e.jsxDEV("div",{className:"relative",onMouseDown:t=>t.stopPropagation(),children:[e.jsxDEV("button",{onClick:t=>{t.stopPropagation(),d(!f)},className:"text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100 transition-colors",children:e.jsxDEV(de,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:94,columnNumber:11},this),f&&e.jsxDEV("div",{className:"absolute right-0 top-6 bg-white border border-gray-200 rounded-lg shadow-lg z-20 py-1 min-w-[120px]",onMouseDown:t=>t.stopPropagation(),children:[e.jsxDEV("button",{onClick:t=>{t.stopPropagation(),o("edit")},className:"w-full px-3 py-1.5 text-left text-xs text-gray-700 hover:bg-gray-50 transition-colors",children:"Editar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:110,columnNumber:15},this),e.jsxDEV("button",{onClick:t=>{t.stopPropagation(),o("archive")},className:"w-full px-3 py-1.5 text-left text-xs text-gray-700 hover:bg-gray-50 transition-colors",children:"Arquivar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:116,columnNumber:15},this),e.jsxDEV("button",{onClick:t=>{t.stopPropagation(),o("delete")},className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50 transition-colors",children:"Excluir"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:122,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:93,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:69,columnNumber:7},this),n.tags&&n.tags.length>0&&e.jsxDEV("div",{className:"flex flex-wrap gap-1 mb-2",children:n.tags.slice(0,4).map((t,E)=>{const r=typeof t=="string"?t:t.name||"",h=typeof t=="object"&&t.color?t.color:"#6B7280";return e.jsxDEV("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-bold border flex items-center gap-1",style:{backgroundColor:`${h}30`,color:h,borderColor:`${h}40`},children:[e.jsxDEV("div",{className:"w-1 h-1 rounded-full",style:{backgroundColor:h}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:150,columnNumber:17},this),r]},`${r}-${E}`,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:141,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:135,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center justify-between bg-gray-50 p-1.5 rounded mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",title:`LTV: R$ ${((b=n.ltv)==null?void 0:b.toFixed(2))||"0.00"}`,children:[e.jsxDEV(pe,{size:10,className:"text-emerald-600"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:161,columnNumber:11},this),e.jsxDEV("span",{className:"text-[10px] font-bold text-gray-700",children:["R$ ",n.ltv?n.ltv>=1e3?`${(n.ltv/1e3).toFixed(1)}k`:n.ltv.toFixed(0):"0"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:160,columnNumber:9},this),n.lastPurchaseDate&&e.jsxDEV("div",{className:"text-[9px] text-gray-400",title:`Última compra: ${new Date(n.lastPurchaseDate).toLocaleDateString("pt-BR")}`,children:N(n.lastPurchaseDate)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:159,columnNumber:7},this),e.jsxDEV("div",{className:"flex border-t border-gray-100 pt-1.5 gap-1",children:[e.jsxDEV("button",{onClick:()=>u(n),className:"flex-1 py-1 flex items-center justify-center gap-1 text-[10px] font-medium text-gray-600 hover:bg-emerald-50 hover:text-emerald-600 rounded transition-colors",title:"Abrir Chat",children:[e.jsxDEV(Q,{size:10},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:180,columnNumber:11},this)," Chat"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:175,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>g(n),className:"flex-1 py-1 flex items-center justify-center gap-1 text-[10px] font-medium text-gray-600 hover:bg-blue-50 hover:text-blue-600 rounded transition-colors",title:"Ver Histórico de Compras",children:[e.jsxDEV(Y,{size:10},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:187,columnNumber:11},this)," Histórico"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:182,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>i(n),className:"flex-1 py-1 flex items-center justify-center gap-1 text-[10px] font-medium text-gray-600 hover:bg-orange-50 hover:text-orange-600 rounded transition-colors",title:"Agendar Follow-up",children:[e.jsxDEV(re,{size:10},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:194,columnNumber:11},this)," Follow"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:189,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:174,columnNumber:7},this),f&&e.jsxDEV("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:200,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/KanbanCard.tsx",lineNumber:60,columnNumber:5},this)}function we({isOpen:n,onClose:u,onSuccess:g,contact:i}){const[C,f]=D.useState(!1),[d,o]=D.useState({name:"",phone:"",source:"organic",notes:"",stage:"lead"});if(m.useEffect(()=>{o(i?{name:i.name,phone:i.phoneNumber,source:i.source||"organic",notes:i.notes||"",stage:i.kanbanStage||"lead"}:{name:"",phone:"",source:"organic",notes:"",stage:"lead"})},[i,n]),!n)return null;const N=async b=>{b.preventDefault(),f(!0);try{i?await y.updateContact(i.id,d):await y.createContact(d),g(),u(),o({name:"",phone:"",source:"organic",notes:"",stage:"lead"})}catch(t){console.error("Erro ao salvar lead:",t),alert("Erro ao salvar lead. Verifique se os dados estão corretos.")}finally{f(!1)}};return e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxDEV("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md animate-in fade-in zoom-in duration-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-800",children:i?"Editar Lead":"Novo Lead"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:70,columnNumber:21},this),e.jsxDEV("button",{onClick:u,className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV($,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:74,columnNumber:25},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:73,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:69,columnNumber:17},this),e.jsxDEV("form",{onSubmit:N,className:"p-4 space-y-4",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsxDEV(xe,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:81,columnNumber:29},this)," Nome Completo"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:80,columnNumber:25},this),e.jsxDEV("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all",value:d.name,onChange:b=>o({...d,name:b.target.value}),placeholder:"Ex: João Silva"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:83,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:79,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsxDEV(he,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:95,columnNumber:29},this)," WhatsApp"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:94,columnNumber:25},this),e.jsxDEV("input",{type:"tel",required:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all",value:d.phone,onChange:b=>o({...d,phone:b.target.value}),placeholder:"Ex: 551199999999"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:97,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:93,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsxDEV(ee,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:109,columnNumber:29},this)," Notas Iniciais"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:108,columnNumber:25},this),e.jsxDEV("textarea",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all h-24 resize-none",value:d.notes,onChange:b=>o({...d,notes:b.target.value}),placeholder:"Ex: Cliente interessado em..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:111,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:107,columnNumber:21},this),e.jsxDEV("div",{className:"pt-4 flex gap-3",children:[e.jsxDEV("button",{type:"button",onClick:u,className:"flex-1 px-4 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancelar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:120,columnNumber:25},this),e.jsxDEV("button",{type:"submit",disabled:C,className:"flex-1 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-sm transition-all flex items-center justify-center gap-2 disabled:opacity-70",children:C?e.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:133,columnNumber:33},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(A,{size:18},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:136,columnNumber:37},this),i?"Salvar Alterações":"Salvar Lead"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:135,columnNumber:33},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:127,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:119,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:78,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/CreateLeadModal.tsx",lineNumber:67,columnNumber:9},this)}function ye({isOpen:n,onClose:u,onSuccess:g}){const[i,C]=D.useState([]),[f,d]=D.useState(!1),[o,N]=D.useState(null);D.useEffect(()=>{n&&b()},[n]);const b=async()=>{try{const r=await j.getStages();C(r)}catch(r){console.error("Erro ao carregar estágios:",r)}},t=async r=>{if(r.preventDefault(),!!(o!=null&&o.label)){d(!0);try{o.id?await j.updateStage(o.id,o):await j.createStage({...o,sort_order:i.length}),N(null),b(),g()}catch(h){console.error("Erro ao salvar estágio:",h),alert("Erro ao salvar estágio")}finally{d(!1)}}},E=async r=>{var h,v;if(confirm("Tem certeza? Isso só é possível se não houver contatos neste estágio."))try{await j.deleteStage(r),b(),g()}catch(M){alert(((v=(h=M.response)==null?void 0:h.data)==null?void 0:v.error)||"Erro ao remover estágio")}};return n?e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxDEV("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl animate-in fade-in zoom-in duration-200 overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-800",children:"Gerenciar Funil de Vendas"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:73,columnNumber:21},this),e.jsxDEV("button",{onClick:u,className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV($,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:75,columnNumber:25},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:74,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:72,columnNumber:17},this),e.jsxDEV("div",{className:"p-4 flex-1 overflow-y-auto",children:[e.jsxDEV("div",{className:"space-y-3",children:i.map(r=>e.jsxDEV("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200 group",children:[e.jsxDEV(ce,{size:16,className:"text-gray-400 cursor-move"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:83,columnNumber:33},this),e.jsxDEV("div",{className:`w-1 h-8 rounded-full ${r.color.replace("border-","bg-")}`},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:84,columnNumber:33},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-bold text-sm text-gray-800",children:r.label},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:86,columnNumber:37},this),e.jsxDEV("p",{className:"text-[10px] text-gray-400 uppercase tracking-tighter",children:r.id},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:87,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:85,columnNumber:33},this),e.jsxDEV("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:()=>N(r),className:"p-1.5 text-gray-500 hover:text-emerald-600 hover:bg-emerald-50 rounded",children:e.jsxDEV(A,{size:14,className:"rotate-0"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:94,columnNumber:41},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:90,columnNumber:37},this),!r.is_system&&e.jsxDEV("button",{onClick:()=>E(r.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",children:e.jsxDEV(ie,{size:14},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:101,columnNumber:45},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:97,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:89,columnNumber:33},this)]},r.id,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:82,columnNumber:29},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:80,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>N({label:"",color:"border-blue-500"}),className:"mt-4 w-full py-3 border-2 border-dashed border-gray-200 rounded-lg text-gray-500 hover:border-emerald-500 hover:text-emerald-600 font-medium transition-all flex items-center justify-center gap-2",children:[e.jsxDEV(P,{size:18},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:113,columnNumber:25},this)," Adicionar Nova Etapa"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:109,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:79,columnNumber:17},this),o&&e.jsxDEV("div",{className:"p-4 border-t bg-gray-50 border-gray-100",children:e.jsxDEV("form",{onSubmit:t,className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-xs font-bold text-gray-500",children:"NOME DA ETAPA"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:122,columnNumber:37},this),e.jsxDEV("input",{autoFocus:!0,className:"w-full px-3 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-emerald-500",value:o.label,onChange:r=>N({...o,label:r.target.value}),placeholder:"Ex: Em Negociação"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:123,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:121,columnNumber:33},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-xs font-bold text-gray-500",children:"COR (BORDER CLASS)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:132,columnNumber:37},this),e.jsxDEV("select",{className:"w-full px-3 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-emerald-500",value:o.color,onChange:r=>N({...o,color:r.target.value}),children:[e.jsxDEV("option",{value:"border-blue-500",children:"Azul"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:138,columnNumber:41},this),e.jsxDEV("option",{value:"border-emerald-500",children:"Verde"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:139,columnNumber:41},this),e.jsxDEV("option",{value:"border-yellow-500",children:"Amarelo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:140,columnNumber:41},this),e.jsxDEV("option",{value:"border-orange-500",children:"Laranja"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:141,columnNumber:41},this),e.jsxDEV("option",{value:"border-red-500",children:"Vermelho"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:142,columnNumber:41},this),e.jsxDEV("option",{value:"border-purple-500",children:"Roxo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:143,columnNumber:41},this),e.jsxDEV("option",{value:"border-pink-500",children:"Rosa"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:144,columnNumber:41},this),e.jsxDEV("option",{value:"border-gray-500",children:"Cinza"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:145,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:133,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:131,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:120,columnNumber:29},this),e.jsxDEV("div",{className:"flex gap-2 justify-end",children:[e.jsxDEV("button",{type:"button",onClick:()=>N(null),className:"px-4 py-2 text-gray-500 hover:bg-gray-200 rounded-lg",children:"Cancelar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:150,columnNumber:33},this),e.jsxDEV("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg font-bold hover:bg-emerald-700 transition-all flex items-center gap-2",children:f?"Salvando...":"Salvar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:151,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:149,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:119,columnNumber:25},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:118,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:71,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/components/ManageStagesModal.tsx",lineNumber:70,columnNumber:9},this):null}function Re(){const n=ae(),[u,g]=m.useState([]),[i,C]=m.useState([]),[f,d]=m.useState(!1),[o,N]=m.useState(!1),[b,t]=m.useState(!1),[E,r]=m.useState(null),[h,v]=m.useState(null),[M,I]=m.useState([]),[T,k]=m.useState(!1),[F,L]=m.useState(!1),p=async()=>{d(!0);try{const[a,l]=await Promise.all([y.getAllContacts(),j.getStages()]);C(l);const c=a.map(s=>({id:s.id,name:s.name||s.phone||"Sem nome",phoneNumber:s.phone||"",normalizedPhone:s.phone,whatsappId:s.whatsapp_id||(s.phone?`${s.phone}@s.whatsapp.net`:void 0),avatar:s.profile_picture||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name||"U")}&background=random`,email:s.email||"",tags:typeof s.tags=="string"?JSON.parse(s.tags||"[]"):s.tags||[],ltv:s.total_spent||0,walletBalance:s.total_spent||0,notes:s.notes||"",lastPurchaseDate:s.last_purchase_date,status:s.status||"active",kanbanStage:s.stage||""}));g(c)}catch(a){console.error("Erro ao recarregar kanban:",a)}finally{d(!1)}};m.useEffect(()=>(p(),K.on("contactCreated",p),K.on("contactUpdated",p),K.on("contactStageChanged",p),()=>{K.off("contactCreated",p),K.off("contactUpdated",p),K.off("contactStageChanged",p)}),[]);const R=async a=>{var l;try{const c=await y.getTickets({search:a.phoneNumber}),s=c.data.find(w=>(w.contact_id===a.id||a.phoneNumber&&w.contact_phone===a.phoneNumber)&&w.status!=="closed");if(s){n("/atendimentos",{state:{ticketId:s.id}});return}const x=c.data.find(w=>w.contact_id===a.id||a.phoneNumber&&w.contact_phone===a.phoneNumber);let V=x==null?void 0:x.instance_id;if(!V){const w=await y.getInstances(),S=w.find(Z=>Z.status==="connected");V=(S==null?void 0:S.id)||((l=w[0])==null?void 0:l.id)}if(!V){alert("Nenhuma instância conectada para criar o ticket.");return}const X=await y.createTicket({contact_id:a.id,instance_id:V,status:"pending"});n("/atendimentos",{state:{ticketId:X.id}})}catch(c){console.error("Erro ao abrir chat do Kanban:",c),alert("Erro ao abrir chat.")}},q=a=>{I(te.getPurchaseHistory(a.id)),v(a),k(!0)},H=a=>{v(a),L(!0)},B=a=>{console.log("Follow-up agendado para",h==null?void 0:h.name,a),alert("Follow-up agendado com sucesso!")},U=async(a,l)=>{var c,s;switch(l){case"edit":r(a),N(!0);break;case"delete":if(confirm(`Tem certeza que deseja excluir ${a.name}?`))try{await y.deleteContact(a.id),p()}catch(x){console.error("Erro ao excluir contato:",x),alert(((s=(c=x.response)==null?void 0:c.data)==null?void 0:s.error)||"Erro ao excluir contato.")}break;case"archive":if(confirm(`Deseja arquivar ${a.name}? O contato sairá do funil ativo.`))try{await y.updateContactStage(a.id,"archived"),p()}catch(x){console.error("Erro ao arquivar contato:",x),alert("Erro ao arquivar contato.")}break}},W=()=>{N(!0)},G=async(a,l)=>{a.preventDefault();const c=a.dataTransfer.getData("contactId");if(c){g(s=>s.map(x=>x.id===c?{...x,kanbanStage:l}:x));try{await y.updateContactStage(c,l)}catch(s){console.error("Erro ao atualizar estágio kanban:",s),p()}}},J=a=>{a.preventDefault(),a.dataTransfer.dropEffect="move"};return e.jsxDEV("div",{className:"h-full flex flex-col bg-gray-50 overflow-hidden",children:[e.jsxDEV(we,{isOpen:o,onClose:()=>{N(!1),r(null)},onSuccess:p,contact:E},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:212,columnNumber:7},this),e.jsxDEV(ye,{isOpen:b,onClose:()=>t(!1),onSuccess:p},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:221,columnNumber:7},this),T&&e.jsxDEV(oe,{contact:h,history:M,onClose:()=>k(!1)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:227,columnNumber:9},this),e.jsxDEV(le,{isOpen:F,onClose:()=>L(!1),onConfirm:B},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:233,columnNumber:7},this),e.jsxDEV("div",{className:"p-8 pb-4 shrink-0",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsxDEV(ne,{className:"text-emerald-600"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:244,columnNumber:15},this),"Kanban de Vendas"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:243,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-500 mt-1",children:"Gerencie seu funil de vendas visualmente."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:247,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:242,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>t(!0),className:"p-2 text-gray-500 hover:text-emerald-600 bg-white rounded-lg border border-gray-200 shadow-sm transition",title:"Configurar Funil",children:e.jsxDEV(se,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:255,columnNumber:15},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:250,columnNumber:13},this),e.jsxDEV("button",{onClick:p,disabled:f,className:"p-2 text-gray-500 hover:text-emerald-600 bg-white rounded-lg border border-gray-200 shadow-sm transition disabled:opacity-50",title:"Atualizar dados",children:e.jsxDEV(O,{size:20,className:f?"animate-spin":""},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:263,columnNumber:15},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:257,columnNumber:13},this),e.jsxDEV("button",{onClick:W,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-emerald-700 transition shadow-sm font-medium",children:[e.jsxDEV(P,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:269,columnNumber:15},this)," Novo Lead"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:265,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:249,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:241,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:i.map(a=>{const l=u.filter(s=>s.kanbanStage===a.id).length,c=u.filter(s=>s.kanbanStage===a.id).reduce((s,x)=>s+x.ltv,0);return e.jsxDEV("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxDEV("div",{className:z("w-full h-1 rounded-full mb-2",a.color.replace("border-","bg-"))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:284,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-gray-500 uppercase font-bold",children:a.label},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:285,columnNumber:17},this),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:l},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:286,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-gray-400",children:["R$ ",c>=1e3?`${(c/1e3).toFixed(1)}k`:c.toFixed(0)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:287,columnNumber:17},this)]},a.id,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:283,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:275,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:240,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 overflow-x-auto overflow-y-hidden px-8 pb-8",children:f?e.jsxDEV("div",{className:"flex items-center justify-center h-64",children:e.jsxDEV("div",{className:"flex flex-col items-center gap-3",children:[e.jsxDEV(O,{size:32,className:"animate-spin text-gray-400"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:301,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-500",children:"Carregando kanban..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:302,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:300,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:299,columnNumber:11},this):e.jsxDEV("div",{className:"flex gap-4 h-full min-w-[1700px]",children:i.map(a=>e.jsxDEV("div",{className:"flex-1 flex flex-col h-full min-w-[320px] bg-gray-100/50 rounded-xl border border-gray-200",onDrop:l=>G(l,a.id),onDragOver:J,children:[e.jsxDEV("div",{className:z("p-4 border-b-2 bg-white rounded-t-xl flex justify-between items-center",a.color),children:[e.jsxDEV("span",{className:"font-bold text-gray-700",children:a.label},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:316,columnNumber:19},this),e.jsxDEV("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs font-bold border border-gray-200",children:u.filter(l=>l.kanbanStage===a.id).length},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:317,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:315,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:u.filter(l=>l.kanbanStage===a.id).length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-32 text-gray-400 border-2 border-dashed border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-sm",children:"Nenhum contato"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:326,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs",children:"Arraste cards aqui"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:327,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:325,columnNumber:21},this):u.filter(l=>l.kanbanStage===a.id).map(l=>e.jsxDEV(Ce,{contact:l,onOpenChat:R,onOpenHistory:q,onOpenFollowUp:H,onMenuAction:U},l.id,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:331,columnNumber:23},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:323,columnNumber:17},this)]},a.id,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:308,columnNumber:15},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:306,columnNumber:11},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:297,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Kanban/page.tsx",lineNumber:209,columnNumber:5},this)}export{Re as default};
