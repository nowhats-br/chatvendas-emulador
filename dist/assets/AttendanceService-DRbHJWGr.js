import{a as o}from"./api-CgldurF4.js";class n{async getTickets(r={}){try{const e=new URLSearchParams;return Object.entries(r).forEach(([a,s])=>{s!==void 0&&s!==""&&e.append(a,s.toString())}),(await o.get(`/tickets?${e.toString()}`)).data}catch(e){throw console.error("Erro ao buscar tickets:",e),e}}async getTicket(r){try{return(await o.get(`/tickets/${r}`)).data}catch(e){throw console.error("Erro ao buscar ticket:",e),e}}async updateTicketStatus(r,e){try{return(await o.put(`/tickets/${r}/status`,{status:e})).data}catch(t){throw console.error("Erro ao atualizar status do ticket:",t),t}}async updateTicket(r,e){try{return(await o.put(`/tickets/${r}`,e)).data}catch(t){throw console.error("Erro ao atualizar ticket:",t),t}}async updateContact(r,e){try{await o.put(`/contacts/${r}`,e)}catch(t){throw console.error("Erro ao atualizar contato:",t),t}}async updateContactStage(r,e,t){try{await o.put(`/contacts/${r}`,{stage:e,notes:t})}catch(a){throw console.error("Erro ao atualizar estÃ¡gio do contato:",a),a}}async createContact(r){try{return(await o.post("/contacts",r)).data}catch(e){throw console.error("Erro ao criar contato:",e),e}}async createTicket(r){try{return(await o.post("/tickets",r)).data}catch(e){throw console.error("Erro ao criar ticket:",e),e}}async getInstances(){try{return(await o.get("/instances")).data}catch(r){throw console.error("Erro ao listar instÃ¢ncias:",r),r}}async getAllContacts(){try{return(await o.get("/contacts?limit=1000")).data.data}catch(r){return console.error("Erro ao buscar contatos:",r),[]}}async getMessages(r,e={}){try{const t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),(await o.get(`/messages/tickets/${r}?${t.toString()}`)).data}catch(t){throw console.error("Erro ao buscar mensagens:",t),t}}async sendMessage(r){try{const e=new FormData;e.append("instanceId",r.instanceId),e.append("contactId",r.contactId),e.append("type",r.type),e.append("content",r.content),r.ticketId&&e.append("ticketId",r.ticketId),r.quotedMessageId&&e.append("quotedMessageId",r.quotedMessageId),r.media&&(console.log("ðŸ“Ž AttendanceService: Anexando arquivo ao FormData"),console.log("   - Nome:",r.media.name),console.log("   - Tipo:",r.media.type),console.log("   - Tamanho:",r.media.size),e.append("media",r.media)),console.log("ðŸ“¤ AttendanceService: Enviando mensagem"),console.log("   - Tipo:",r.type),console.log("   - Tem mÃ­dia:",!!r.media);const t=await o.post("/messages/send",e,{headers:{"Content-Type":"multipart/form-data"}});return console.log("âœ… AttendanceService: Mensagem enviada com sucesso"),t.data}catch(e){throw console.error("âŒ AttendanceService: Erro ao enviar mensagem:",e),e}}async editMessage(r,e){await o.put(`/messages/${r}`,{content:e})}async sendQuickMessage(r){try{return(await o.post("/messages/send-quick",r)).data}catch(e){throw console.error("Erro ao enviar mensagem rÃ¡pida:",e),e}}async searchMessages(r){try{const e=new URLSearchParams;return Object.entries(r).forEach(([a,s])=>{s!==void 0&&s!==""&&e.append(a,s.toString())}),(await o.get(`/messages/search?${e.toString()}`)).data}catch(e){throw console.error("Erro ao buscar mensagens:",e),e}}async updateMessageStatus(r,e){try{return(await o.put(`/messages/${r}/status`,{status:e})).data}catch(t){throw console.error("Erro ao atualizar status da mensagem:",t),t}}async deleteMessage(r){try{await o.delete(`/messages/${r}`)}catch(e){throw console.error("Erro ao remover mensagem:",e),e}}async deleteContact(r){try{await o.delete(`/contacts/${r}`)}catch(e){throw console.error("Erro ao remover contato:",e),e}}}const p=new n;export{p as attendanceService};
