import{u as w,r as a,j as e,a as b,g as j,h as F}from"./index-CzIT3y9u.js";import{C as t}from"./ChatbotService-BhYm9qNA.js";import{A as D}from"./AIConfigService-2_9wLCgs.js";import{S as d}from"./sparkles-jCsqdd4H.js";import{P as E,T as P}from"./trash-2-CSEduQTA.js";function z(){const o=w(),[g,r]=a.useState([]),[c,n]=a.useState(!1),[i,h]=a.useState(""),[N,m]=a.useState(!1),[l,x]=a.useState(!1);a.useEffect(()=>{r(t.getAll()),x(D.isConfigured())},[]);const C=()=>{const s=t.create({name:"Novo Fluxo",description:"Sem descrição"});o(`/chatbot-builder/${s.id}`)},f=async()=>{if(i.trim()){if(!l){alert("Configure a IA primeiro nas configurações do sistema."),o("/configuracoes?tab=ai");return}n(!0);try{const s=await t.generateFlowFromPrompt(i);n(!1),m(!1),h(""),r(t.getAll()),o(`/chatbot-builder/${s.id}`)}catch(s){n(!1),alert(s instanceof Error?s.message:"Erro ao gerar fluxo com IA")}}},p=()=>{if(!l){confirm("A IA não está configurada. Deseja ir para as configurações agora?")&&o("/configuracoes?tab=ai");return}m(!0)},v=(s,u)=>{u.stopPropagation(),confirm("Tem certeza que deseja excluir este fluxo?")&&(t.delete(s),r(t.getAll()))};return e.jsxDEV("div",{className:"h-full bg-gray-50 overflow-y-auto p-8",children:[N&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in",children:e.jsxDEV("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl p-6 animate-in zoom-in-95",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxDEV("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl text-white",children:e.jsxDEV(d,{size:24},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:77,columnNumber:25},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:76,columnNumber:21},this),e.jsxDEV("h2",{className:"text-xl font-bold text-gray-800",children:"Gerar Fluxo com IA"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:79,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:75,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-500 mb-4",children:"Descreva como você quer que o bot funcione e nós criaremos a estrutura para você."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV("textarea",{className:"w-full border border-gray-300 rounded-xl p-4 h-32 focus:ring-2 focus:ring-purple-500 outline-none resize-none mb-4",placeholder:"Ex: Crie um bot para uma pizzaria que mostre o cardápio, pegue o pedido e pergunte o endereço de entrega.",value:i,onChange:s=>h(s.target.value)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:83,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-end gap-3",children:[e.jsxDEV("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:"Cancelar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:91,columnNumber:21},this),e.jsxDEV("button",{onClick:f,disabled:c||!i,className:"px-6 py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:c?"Gerando...":e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{size:18},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:97,columnNumber:58},this)," Criar Mágica"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:97,columnNumber:56},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:92,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:90,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:73,columnNumber:9},this),e.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-8",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-800",children:"Meus Chatbots"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:107,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-500 mt-1",children:"Gerencie seus fluxos de conversa automatizados."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:108,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:106,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{onClick:p,className:b("px-5 py-3 rounded-xl flex items-center gap-2 transition shadow-sm font-bold",l?"bg-white border border-purple-200 text-purple-700 hover:bg-purple-50":"bg-orange-50 border border-orange-200 text-orange-700 hover:bg-orange-100"),children:[l?e.jsxDEV(d,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:120,columnNumber:39},this):e.jsxDEV(j,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:120,columnNumber:64},this),l?"Gerar com IA":"Configurar IA"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:111,columnNumber:17},this),e.jsxDEV("button",{onClick:C,className:"bg-emerald-600 text-white px-5 py-3 rounded-xl flex items-center gap-2 hover:bg-emerald-700 transition shadow-lg shadow-emerald-200 font-bold",children:[e.jsxDEV(E,{size:20},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:127,columnNumber:21},this),"Criar do Zero"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:123,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:110,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:105,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(s=>e.jsxDEV("div",{onClick:()=>o(`/chatbot-builder/${s.id}`),className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-all cursor-pointer group relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV("button",{onClick:u=>v(s.id,u),className:"p-2 text-gray-400 hover:text-red-500 bg-white rounded-full shadow-sm border border-gray-100",children:e.jsxDEV(P,{size:18},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:142,columnNumber:29},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:141,columnNumber:26},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:140,columnNumber:21},this),e.jsxDEV("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center text-emerald-600 mb-4",children:e.jsxDEV(F,{size:24},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:147,columnNumber:25},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:146,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:s.name},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:150,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-500 line-clamp-2 h-10 mb-4",children:s.description},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:151,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:b("w-2 h-2 rounded-full",s.isActive?"bg-green-500":"bg-gray-300")},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:155,columnNumber:29},this),e.jsxDEV("span",{className:"text-xs font-medium text-gray-600",children:s.isActive?"Ativo":"Inativo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:156,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:154,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs text-gray-400",children:new Date(s.updatedAt).toLocaleDateString()},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:158,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:153,columnNumber:21},this)]},s.id,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:135,columnNumber:17},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:133,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:104,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Chatbot/pages/FlowListPage.tsx",lineNumber:69,columnNumber:5},this)}export{z as default};
