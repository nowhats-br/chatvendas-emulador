import{R as x,j as e}from"./index-CzIT3y9u.js";import{a as y}from"./api-CgldurF4.js";class F{async getCampaignReports(t={}){try{const o=new URLSearchParams;return t.dateFrom&&o.append("dateFrom",t.dateFrom),t.dateTo&&o.append("dateTo",t.dateTo),t.campaignId&&o.append("campaignId",t.campaignId),t.status&&o.append("status",t.status),t.messageType&&o.append("messageType",t.messageType),t.interactionType&&o.append("interactionType",t.interactionType),t.keyword&&o.append("keyword",t.keyword),t.page&&o.append("page",t.page.toString()),t.limit&&o.append("limit",t.limit.toString()),(await y.get(`/reports/campaigns?${o.toString()}`)).data}catch(o){throw console.error("Erro ao buscar relatÃ³rios de campanhas:",o),o}}async getInteractionDetails(t,o={}){try{const a=new URLSearchParams;return o.dateFrom&&a.append("dateFrom",o.dateFrom),o.dateTo&&a.append("dateTo",o.dateTo),o.interactionType&&a.append("interactionType",o.interactionType),o.keyword&&a.append("keyword",o.keyword),o.page&&a.append("page",o.page.toString()),o.limit&&a.append("limit",o.limit.toString()),(await y.get(`/reports/campaigns/${t}/interactions?${a.toString()}`)).data}catch(a){throw console.error("Erro ao buscar detalhes de interaÃ§Ãµes:",a),a}}async getCampaignStats(t={}){try{const o=new URLSearchParams;return t.dateFrom&&o.append("dateFrom",t.dateFrom),t.dateTo&&o.append("dateTo",t.dateTo),t.campaignId&&o.append("campaignId",t.campaignId),(await y.get(`/reports/campaigns/stats?${o.toString()}`)).data}catch(o){throw console.error("Erro ao buscar estatÃ­sticas de campanhas:",o),o}}async exportReport(t,o){try{const a=new URLSearchParams;return t.dateFrom&&a.append("dateFrom",t.dateFrom),t.dateTo&&a.append("dateTo",t.dateTo),t.campaignId&&a.append("campaignId",t.campaignId),t.status&&a.append("status",t.status),t.messageType&&a.append("messageType",t.messageType),t.interactionType&&a.append("interactionType",t.interactionType),t.keyword&&a.append("keyword",t.keyword),a.append("format",o.format),a.append("includeDetails",o.includeDetails.toString()),a.append("includeCharts",o.includeCharts.toString()),(await y.get(`/reports/campaigns/export?${a.toString()}`,{responseType:"blob"})).data}catch(a){throw console.error("Erro ao exportar relatÃ³rio:",a),a}}async getCampaignsForFilter(){try{return(await y.get("/campaigns?limit=1000&fields=id,name")).data.data.map(o=>({id:o.id,name:o.name}))}catch(t){return console.error("Erro ao buscar campanhas para filtro:",t),[]}}async getTopKeywords(t={}){try{const o=new URLSearchParams;return t.dateFrom&&o.append("dateFrom",t.dateFrom),t.dateTo&&o.append("dateTo",t.dateTo),t.campaignId&&o.append("campaignId",t.campaignId),(await y.get(`/reports/keywords?${o.toString()}`)).data}catch(o){throw console.error("Erro ao buscar palavras-chave:",o),o}}async deleteCampaignReport(t){try{await y.delete(`/reports/campaigns/${t}`)}catch(o){throw console.error("Erro ao excluir relatÃ³rio:",o),o}}async deleteAllCampaignReports(t={}){try{const o=new URLSearchParams;t.dateFrom&&o.append("dateFrom",t.dateFrom),t.dateTo&&o.append("dateTo",t.dateTo),t.status&&o.append("status",t.status),await y.delete(`/reports/campaigns?${o.toString()}`)}catch(o){throw console.error("Erro ao excluir todos os relatÃ³rios:",o),o}}}const E=new F;function P({filters:r,onFiltersChange:t,onReset:o}){const[a,m]=x.useState([]),[d,p]=x.useState(!1);x.useEffect(()=>{b()},[]);const b=async()=>{try{const l=await E.getCampaignsForFilter();m(l)}catch(l){console.error("Erro ao carregar campanhas:",l)}},i=(l,f)=>{t({...r,[l]:f||void 0})};return e.jsxDEV("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[e.jsxDEV("div",{style:{padding:"20px 24px",backgroundColor:"#f8fafc",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>p(!d),children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxDEV("span",{style:{fontSize:"20px"},children:"ðŸ”"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("h3",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#374151"},children:"Filtros de RelatÃ³rio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:57,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxDEV("button",{onClick:l=>{l.stopPropagation(),o()},style:{padding:"6px 12px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Limpar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:63,columnNumber:11},this),e.jsxDEV("span",{style:{fontSize:"20px",transform:d?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:"â–¼"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:43,columnNumber:7},this),d&&e.jsxDEV("div",{style:{padding:"24px"},children:[e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"ðŸ“… Data Inicial"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:101,columnNumber:15},this),e.jsxDEV("input",{type:"date",value:r.dateFrom||"",onChange:l=>i("dateFrom",l.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:110,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:100,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"ðŸ“… Data Final"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:126,columnNumber:15},this),e.jsxDEV("input",{type:"date",value:r.dateTo||"",onChange:l=>i("dateTo",l.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:135,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:125,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"ðŸš€ Campanha"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:152,columnNumber:15},this),e.jsxDEV("select",{value:r.campaignId||"",onChange:l=>i("campaignId",l.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[e.jsxDEV("option",{value:"",children:"Todas as campanhas"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:174,columnNumber:17},this),a.map(l=>e.jsxDEV("option",{value:l.id,children:l.name},l.id,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:176,columnNumber:19},this))]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:151,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"ðŸ“Š Status"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:185,columnNumber:15},this),e.jsxDEV("select",{value:r.status||"",onChange:l=>i("status",l.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[e.jsxDEV("option",{value:"",children:"Todos os status"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:207,columnNumber:17},this),e.jsxDEV("option",{value:"completed",children:"ConcluÃ­da"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:208,columnNumber:17},this),e.jsxDEV("option",{value:"running",children:"Em execuÃ§Ã£o"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:209,columnNumber:17},this),e.jsxDEV("option",{value:"paused",children:"Pausada"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:210,columnNumber:17},this),e.jsxDEV("option",{value:"failed",children:"Falhou"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:211,columnNumber:17},this),e.jsxDEV("option",{value:"draft",children:"Rascunho"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:194,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:184,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"ðŸ’¬ Tipo de Mensagem"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:218,columnNumber:15},this),e.jsxDEV("select",{value:r.messageType||"",onChange:l=>i("messageType",l.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[e.jsxDEV("option",{value:"",children:"Todos os tipos"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:240,columnNumber:17},this),e.jsxDEV("option",{value:"text",children:"Texto"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:241,columnNumber:17},this),e.jsxDEV("option",{value:"media",children:"MÃ­dia"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:242,columnNumber:17},this),e.jsxDEV("option",{value:"audio",children:"Ãudio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:243,columnNumber:17},this),e.jsxDEV("option",{value:"buttons",children:"BotÃµes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:244,columnNumber:17},this),e.jsxDEV("option",{value:"list",children:"Lista"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:245,columnNumber:17},this),e.jsxDEV("option",{value:"carousel",children:"Carrossel"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:246,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:227,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:217,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"ðŸŽ¯ Tipo de InteraÃ§Ã£o"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:252,columnNumber:15},this),e.jsxDEV("select",{value:r.interactionType||"",onChange:l=>i("interactionType",l.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[e.jsxDEV("option",{value:"",children:"Todas as interaÃ§Ãµes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:274,columnNumber:17},this),e.jsxDEV("option",{value:"button_click",children:"Clique em BotÃ£o"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:275,columnNumber:17},this),e.jsxDEV("option",{value:"list_selection",children:"SeleÃ§Ã£o de Lista"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:276,columnNumber:17},this),e.jsxDEV("option",{value:"carousel_click",children:"Clique em Carrossel"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:277,columnNumber:17},this),e.jsxDEV("option",{value:"keyword_response",children:"Resposta por Palavra-chave"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:278,columnNumber:17},this),e.jsxDEV("option",{value:"poll_vote",children:"Voto em Enquete"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:279,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:251,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"ðŸ”‘ Palavra-chave"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:285,columnNumber:15},this),e.jsxDEV("input",{type:"text",placeholder:"Digite uma palavra-chave...",value:r.keyword||"",onChange:l=>i("keyword",l.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:284,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:93,columnNumber:11},this),e.jsxDEV("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #e5e7eb"},children:e.jsxDEV("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(r).map(([l,f])=>{var n;if(!f)return null;let h="",g=f;switch(l){case"dateFrom":h="De";break;case"dateTo":h="AtÃ©";break;case"campaignId":h="Campanha",g=((n=a.find(w=>w.id===f))==null?void 0:n.name)||f;break;case"status":h="Status";break;case"messageType":h="Tipo";break;case"interactionType":h="InteraÃ§Ã£o";break;case"keyword":h="Palavra-chave";break}return e.jsxDEV("div",{style:{padding:"4px 8px",backgroundColor:"#eff6ff",color:"#1d4ed8",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px"},children:[h,": ",g,e.jsxDEV("button",{onClick:()=>i(l,""),style:{background:"none",border:"none",color:"#1d4ed8",cursor:"pointer",fontSize:"12px",padding:"0 2px"},children:"âœ•"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:349,columnNumber:21},this)]},l,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:334,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:313,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:312,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:92,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportFiltersPanel.tsx",lineNumber:36,columnNumber:5},this)}function W({reports:r,loading:t,pagination:o,onPageChange:a,onViewInteractions:m,onExport:d,onDelete:p,onDeleteAll:b}){const i=n=>n?new Date(n).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",l=n=>`${(n*100).toFixed(1)}%`,f=n=>{switch(n){case"completed":return{bg:"#dcfce7",text:"#166534"};case"running":return{bg:"#dbeafe",text:"#1d4ed8"};case"paused":return{bg:"#fef3c7",text:"#92400e"};case"failed":return{bg:"#fee2e2",text:"#dc2626"};case"draft":return{bg:"#f3f4f6",text:"#374151"};default:return{bg:"#f3f4f6",text:"#374151"}}},h=n=>{switch(n){case"completed":return"ConcluÃ­da";case"running":return"Em execuÃ§Ã£o";case"paused":return"Pausada";case"failed":return"Falhou";case"draft":return"Rascunho";default:return n}},g=n=>{switch(n){case"text":return"ðŸ“";case"media":return"ðŸ–¼ï¸";case"audio":return"ðŸŽ¤";case"buttons":return"ðŸ”˜";case"list":return"ðŸ“‹";case"carousel":return"ðŸŽ ";default:return"ðŸ’¬"}};return t?e.jsxDEV("div",{style:{padding:"60px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[e.jsxDEV("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:88,columnNumber:9},this),e.jsxDEV("p",{style:{margin:0,color:"#6b7280",fontSize:"16px"},children:"Carregando relatÃ³rios..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:80,columnNumber:7},this):r.length===0?e.jsxDEV("div",{style:{padding:"60px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[e.jsxDEV("div",{style:{fontSize:"64px"},children:"ðŸ“Š"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:113,columnNumber:9},this),e.jsxDEV("h3",{style:{margin:0,fontSize:"20px",color:"#374151"},children:"Nenhum relatÃ³rio encontrado"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:114,columnNumber:9},this),e.jsxDEV("p",{style:{margin:0,color:"#6b7280",fontSize:"16px"},children:"Ajuste os filtros ou verifique se hÃ¡ campanhas no perÃ­odo selecionado"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:117,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:105,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{style:{padding:"24px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV("h3",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#334155",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxDEV("span",{style:{fontSize:"20px"},children:"ðŸ“‹"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:144,columnNumber:11},this)," Detalhamento das Campanhas",e.jsxDEV("span",{style:{fontSize:"12px",fontWeight:"normal",color:"#64748b",backgroundColor:"#e2e8f0",padding:"2px 8px",borderRadius:"12px",marginLeft:"8px"},children:[o.total," registros"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:145,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:135,columnNumber:9},this),e.jsxDEV("button",{onClick:b,style:{padding:"8px 16px",backgroundColor:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:"10px",fontSize:"12px",fontWeight:800,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseOver:n=>{n.currentTarget.style.backgroundColor="#fecaca"},onMouseOut:n=>{n.currentTarget.style.backgroundColor="#fee2e2"},children:"ðŸ—‘ï¸ Excluir Todos"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:157,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:127,columnNumber:7},this),e.jsxDEV("div",{style:{overflowX:"auto"},children:e.jsxDEV("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{style:{backgroundColor:"#f8fafc"},children:[e.jsxDEV("th",{style:{padding:"12px 10px",textAlign:"left",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Campanha"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV("th",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Status"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:192,columnNumber:15},this),e.jsxDEV("th",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Enviadas"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:195,columnNumber:15},this),e.jsxDEV("th",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Entregues"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:198,columnNumber:15},this),e.jsxDEV("th",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Lidas"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:201,columnNumber:15},this),e.jsxDEV("th",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Engaj."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:204,columnNumber:15},this),e.jsxDEV("th",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"AÃ§Ãµes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:207,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:188,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:187,columnNumber:11},this),e.jsxDEV("tbody",{children:r.map(n=>{const w=f(n.status),D=n.button_clicks+n.list_selections+n.carousel_clicks+n.keyword_responses+n.poll_votes;return e.jsxDEV("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[e.jsxDEV("td",{style:{padding:"12px 10px"},children:e.jsxDEV("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxDEV("div",{style:{fontSize:"13px",fontWeight:"bold",color:"#374151"},children:n.name},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:222,columnNumber:23},this),e.jsxDEV("div",{style:{fontSize:"11px",color:"#94a3b8"},children:[g(n.message_type)," ",i(n.created_at)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:225,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:221,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:220,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"12px 10px",textAlign:"center"},children:e.jsxDEV("span",{style:{padding:"2px 6px",borderRadius:"8px",fontSize:"10px",fontWeight:800,backgroundColor:w.bg,color:w.text,textTransform:"uppercase"},children:h(n.status)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:232,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:231,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:700},children:[n.messages_sent,e.jsxDEV("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:400},children:["/",n.total_contacts]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:247,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:245,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:700,color:"#059669"},children:[n.messages_delivered,e.jsxDEV("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:400},children:l(n.delivery_rate)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:254,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:252,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:700,color:"#3b82f6"},children:[n.messages_read,e.jsxDEV("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:400},children:l(n.read_rate)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:261,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:259,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"12px 10px",textAlign:"center",fontSize:"12px",fontWeight:700,color:"#ef4444"},children:[l(n.interaction_rate),e.jsxDEV("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:400},children:[D," int."]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:268,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:266,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"12px 10px",textAlign:"center"},children:e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsxDEV("button",{onClick:()=>m(n.id),title:"Ver Detalhes",style:{width:"28px",height:"28px",backgroundColor:"#eff6ff",color:"#2563eb",border:"1px solid #dbeafe",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:u=>{u.currentTarget.style.backgroundColor="#dbeafe"},onMouseOut:u=>{u.currentTarget.style.backgroundColor="#eff6ff"},children:"ðŸ‘ï¸"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:275,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>d(n.id,"excel"),title:"Excel",style:{width:"28px",height:"28px",backgroundColor:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:u=>{u.currentTarget.style.backgroundColor="#d1fae5"},onMouseOut:u=>{u.currentTarget.style.backgroundColor="#ecfdf5"},children:"ðŸ“„"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:298,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>d(n.id,"pdf"),title:"PDF",style:{width:"28px",height:"28px",backgroundColor:"#fff1f2",color:"#e11d48",border:"1px solid #ffe4e6",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:u=>{u.currentTarget.style.backgroundColor="#ffe4e6"},onMouseOut:u=>{u.currentTarget.style.backgroundColor="#fff1f2"},children:"ðŸ“•"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:321,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>p(n.id),title:"Excluir RelatÃ³rio",style:{width:"28px",height:"28px",backgroundColor:"#f9fafb",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:u=>{u.currentTarget.style.backgroundColor="#fee2e2",u.currentTarget.style.color="#dc2626",u.currentTarget.style.borderColor="#fecaca"},onMouseOut:u=>{u.currentTarget.style.backgroundColor="#f9fafb",u.currentTarget.style.color="#6b7280",u.currentTarget.style.borderColor="#e5e7eb"},children:"ðŸ—‘ï¸"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:344,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:274,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:273,columnNumber:19},this)]},n.id,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:219,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:212,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:186,columnNumber:9},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:185,columnNumber:7},this),o.pages>1&&e.jsxDEV("div",{style:{padding:"20px 24px",backgroundColor:"#f8fafc",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV("div",{style:{fontSize:"14px",color:"#6b7280"},children:["Mostrando ",(o.page-1)*o.limit+1," a ",Math.min(o.page*o.limit,o.total)," de ",o.total," resultados"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:393,columnNumber:11},this),e.jsxDEV("div",{style:{display:"flex",gap:"8px"},children:[e.jsxDEV("button",{onClick:()=>a(o.page-1),disabled:o.page===1,style:{padding:"8px 12px",backgroundColor:o.page===1?"#f3f4f6":"#3b82f6",color:o.page===1?"#9ca3af":"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:o.page===1?"not-allowed":"pointer"},children:"â† Anterior"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:398,columnNumber:13},this),e.jsxDEV("span",{style:{padding:"8px 12px",fontSize:"14px",color:"#374151",display:"flex",alignItems:"center"},children:["PÃ¡gina ",o.page," de ",o.pages]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:414,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>a(o.page+1),disabled:o.page===o.pages,style:{padding:"8px 12px",backgroundColor:o.page===o.pages?"#f3f4f6":"#3b82f6",color:o.page===o.pages?"#9ca3af":"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:o.page===o.pages?"not-allowed":"pointer"},children:"PrÃ³xima â†’"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:424,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:397,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:385,columnNumber:9},this),e.jsxDEV("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:443,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/CampaignReportsTable.tsx",lineNumber:125,columnNumber:5},this)}function B({stats:r,isVertical:t}){const o=d=>`${(d*100).toFixed(1)}%`,a=d=>{switch(d){case"button_click":return"ðŸ”˜";case"list_selection":return"ðŸ“‹";case"carousel_click":return"ðŸŽ ";case"keyword_response":return"ðŸ”‘";case"poll_vote":return"ðŸ“Š";default:return"ðŸ’¬"}},m=d=>{switch(d){case"button_click":return"Cliques em BotÃµes";case"list_selection":return"SeleÃ§Ãµes de Lista";case"carousel_click":return"Cliques em Carrossel";case"keyword_response":return"Respostas por Palavra-chave";case"poll_vote":return"Votos em Enquetes";default:return d}};return e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px"},children:[e.jsxDEV("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"20px",padding:"24px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.05)",border:"1px solid rgba(255, 255, 255, 0.8)",position:"relative",overflow:"hidden"},children:[e.jsxDEV("div",{style:{position:"absolute",top:"-20px",right:"-20px",width:"100px",height:"100px",background:"rgba(59, 130, 246, 0.03)",borderRadius:"50%"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:700,color:"#334155",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxDEV("span",{style:{backgroundColor:"#eff6ff",padding:"8px",borderRadius:"12px",fontSize:"20px"},children:"ðŸ“ˆ"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:74,columnNumber:11},this),"Panorama Geral"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:65,columnNumber:9},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxDEV("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.02)",border:"1px solid #f1f5f9"},children:[e.jsxDEV("div",{style:{fontSize:"12px",fontWeight:600,color:"#64748b",textTransform:"uppercase",letterSpacing:"0.025em",marginBottom:"4px"},children:"Campanhas"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:91,columnNumber:13},this),e.jsxDEV("div",{style:{fontSize:"28px",fontWeight:800,color:"#10b981"},children:r.totalCampaigns},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:92,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:84,columnNumber:11},this),e.jsxDEV("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.02)",border:"1px solid #f1f5f9"},children:[e.jsxDEV("div",{style:{fontSize:"12px",fontWeight:600,color:"#64748b",textTransform:"uppercase",letterSpacing:"0.025em",marginBottom:"4px"},children:"Mensagens"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:102,columnNumber:13},this),e.jsxDEV("div",{style:{fontSize:"28px",fontWeight:800,color:"#3b82f6"},children:r.totalMessages.toLocaleString()},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.02)",border:"1px solid #f1f5f9"},children:[e.jsxDEV("div",{style:{fontSize:"12px",fontWeight:600,color:"#64748b",textTransform:"uppercase",letterSpacing:"0.025em",marginBottom:"4px"},children:"InteraÃ§Ãµes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:113,columnNumber:13},this),e.jsxDEV("div",{style:{fontSize:"28px",fontWeight:800,color:"#f59e0b"},children:r.totalInteractions.toLocaleString()},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:114,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:106,columnNumber:11},this),e.jsxDEV("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.02)",border:"1px solid #f1f5f9"},children:[e.jsxDEV("div",{style:{fontSize:"12px",fontWeight:600,color:"#64748b",textTransform:"uppercase",letterSpacing:"0.025em",marginBottom:"4px"},children:"Engajamento"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:124,columnNumber:13},this),e.jsxDEV("div",{style:{fontSize:"28px",fontWeight:800,color:"#ef4444"},children:o(r.averageInteractionRate)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:117,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:83,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:46,columnNumber:7},this),e.jsxDEV("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"24px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.05)",border:"1px solid #f1f5f9"},children:[e.jsxDEV("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:700,color:"#334155",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxDEV("span",{style:{backgroundColor:"#fff7ed",padding:"8px",borderRadius:"12px",fontSize:"20px"},children:"ðŸŽ¯"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:147,columnNumber:11},this),"Funil de ConversÃ£o"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:138,columnNumber:9},this),e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"16px"},children:[e.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",alignItems:"center"},children:[e.jsxDEV("span",{style:{fontSize:"14px",fontWeight:600,color:"#475569",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsxDEV("span",{style:{color:"#10b981"},children:"ðŸ“¤"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:161,columnNumber:17},this)," Taxa de Entrega"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:160,columnNumber:15},this),e.jsxDEV("span",{style:{fontSize:"16px",fontWeight:800,color:"#10b981"},children:o(r.averageDeliveryRate)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:159,columnNumber:13},this),e.jsxDEV("div",{style:{width:"100%",height:"10px",backgroundColor:"#e2e8f0",borderRadius:"5px",overflow:"hidden"},children:e.jsxDEV("div",{style:{width:`${r.averageDeliveryRate*100}%`,height:"100%",background:"linear-gradient(90deg, #10b981 0%, #34d399 100%)",borderRadius:"5px"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:168,columnNumber:15},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:158,columnNumber:11},this),e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"16px"},children:[e.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",alignItems:"center"},children:[e.jsxDEV("span",{style:{fontSize:"14px",fontWeight:600,color:"#475569",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsxDEV("span",{style:{color:"#3b82f6"},children:"ðŸ‘ï¸"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:176,columnNumber:17},this)," Taxa de Leitura"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:175,columnNumber:15},this),e.jsxDEV("span",{style:{fontSize:"16px",fontWeight:800,color:"#3b82f6"},children:o(r.averageReadRate)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:174,columnNumber:13},this),e.jsxDEV("div",{style:{width:"100%",height:"10px",backgroundColor:"#e2e8f0",borderRadius:"5px",overflow:"hidden"},children:e.jsxDEV("div",{style:{width:`${r.averageReadRate*100}%`,height:"100%",background:"linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%)",borderRadius:"5px"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:183,columnNumber:15},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:173,columnNumber:11},this),e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"16px"},children:[e.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",alignItems:"center"},children:[e.jsxDEV("span",{style:{fontSize:"14px",fontWeight:600,color:"#475569",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsxDEV("span",{style:{color:"#f59e0b"},children:"âœ¨"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:191,columnNumber:17},this)," Taxa de Cliques"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:190,columnNumber:15},this),e.jsxDEV("span",{style:{fontSize:"16px",fontWeight:800,color:"#f59e0b"},children:o(r.averageInteractionRate)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:189,columnNumber:13},this),e.jsxDEV("div",{style:{width:"100%",height:"10px",backgroundColor:"#e2e8f0",borderRadius:"5px",overflow:"hidden"},children:e.jsxDEV("div",{style:{width:`${r.averageInteractionRate*100}%`,height:"100%",background:"linear-gradient(90deg, #f59e0b 0%, #fbbf24 100%)",borderRadius:"5px"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:198,columnNumber:15},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:156,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:131,columnNumber:7},this),e.jsxDEV("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"24px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.05)",border:"1px solid #f1f5f9"},children:[e.jsxDEV("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:700,color:"#334155",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxDEV("span",{style:{backgroundColor:"#fef2f2",padding:"8px",borderRadius:"12px",fontSize:"20px"},children:"ðŸ”‘"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:221,columnNumber:11},this),"Keywords Mais Relevantes"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:212,columnNumber:9},this),r.topKeywords.length>0?e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:r.topKeywords.slice(0,5).map((d,p)=>e.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:p===0?"#f0fdf4":"#f8fafc",borderRadius:"12px",border:`1px solid ${p===0?"#dcfce7":"#f1f5f9"}`,transition:"transform 0.2s ease"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxDEV("span",{style:{fontSize:"14px",fontWeight:800,color:p===0?"#10b981":"#94a3b8",minWidth:"24px"},children:[p+1,"Âº"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:244,columnNumber:19},this),e.jsxDEV("span",{style:{fontSize:"15px",fontWeight:600,color:"#334155"},children:d.keyword},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:252,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:243,columnNumber:17},this),e.jsxDEV("div",{style:{fontSize:"13px",fontWeight:700,color:p===0?"#10b981":"#64748b",backgroundColor:p===0?"#ffffff":"#f1f5f9",padding:"4px 10px",borderRadius:"10px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[d.count," envios"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:256,columnNumber:17},this)]},d.keyword,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:233,columnNumber:15},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:231,columnNumber:11},this):e.jsxDEV("div",{style:{padding:"40px 20px",textAlign:"center",color:"#94a3b8",fontSize:"14px",backgroundColor:"#f8fafc",borderRadius:"16px",border:"1px dashed #e2e8f0"},children:"Sem dados de palavras-chave no perÃ­odo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:271,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:205,columnNumber:7},this),e.jsxDEV("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"24px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.05)",border:"1px solid #f1f5f9"},children:[e.jsxDEV("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:700,color:"#334155",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxDEV("span",{style:{backgroundColor:"#f5f3ff",padding:"8px",borderRadius:"12px",fontSize:"20px"},children:"âš¡"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:302,columnNumber:11},this),"AÃ§Ãµes dos UsuÃ¡rios"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:293,columnNumber:9},this),r.interactionsByType.length>0?e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"10px"},children:r.interactionsByType.map(d=>e.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #f1f5f9",boxShadow:"0 2px 4px rgba(0,0,0,0.02)"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxDEV("div",{style:{fontSize:"18px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8fafc",borderRadius:"10px"},children:a(d.type)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:325,columnNumber:19},this),e.jsxDEV("span",{style:{fontSize:"14px",fontWeight:600,color:"#475569"},children:m(d.type)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:337,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:324,columnNumber:17},this),e.jsxDEV("span",{style:{fontSize:"15px",fontWeight:800,color:"#6366f1",backgroundColor:"#f5f3ff",padding:"4px 12px",borderRadius:"12px"},children:d.count},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:341,columnNumber:17},this)]},d.type,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:314,columnNumber:15},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:312,columnNumber:11},this):e.jsxDEV("div",{style:{padding:"40px 20px",textAlign:"center",color:"#94a3b8",fontSize:"14px",backgroundColor:"#f8fafc",borderRadius:"16px",border:"1px dashed #e2e8f0"},children:"Nenhuma interaÃ§Ã£o registrada ainda"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:355,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:286,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ReportStats.tsx",lineNumber:43,columnNumber:5},this)}function A({isOpen:r,campaignId:t,filters:o,onClose:a}){const[m,d]=x.useState([]),[p,b]=x.useState(!1),[i,l]=x.useState({page:1,limit:50,total:0,pages:0}),[f,h]=x.useState({});x.useEffect(()=>{r&&t&&g()},[r,t,i.page,f]);const g=async()=>{if(t)try{b(!0);const s=await E.getInteractionDetails(t,{...o,...f,page:i.page,limit:i.limit});d(s.data),l(C=>({...C,total:s.pagination.total,pages:s.pagination.pages}))}catch(s){console.error("Erro ao carregar detalhes de interaÃ§Ãµes:",s)}finally{b(!1)}},n=s=>new Date(s).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),w=s=>{switch(s){case"button_click":return"ðŸ”˜";case"list_selection":return"ðŸ“‹";case"carousel_click":return"ðŸŽ ";case"keyword_response":return"ðŸ”‘";case"poll_vote":return"ðŸ“Š";default:return"ðŸ’¬"}},D=s=>{switch(s){case"button_click":return"Clique em BotÃ£o";case"list_selection":return"SeleÃ§Ã£o de Lista";case"carousel_click":return"Clique em Carrossel";case"keyword_response":return"Resposta por Palavra-chave";case"poll_vote":return"Voto em Enquete";default:return s}},u=()=>{const C=[["Data","Contato","Telefone","Tipo de InteraÃ§Ã£o","Detalhes"].join(","),...m.map(v=>[n(v.created_at),`"${v.contact_name}"`,v.contact_phone,`"${D(v.interaction_type)}"`,`"${v.button_text||v.list_option_text||v.keyword||v.response_text||"-"}"`].join(","))].join(`
`),_=new Blob([C],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),V=URL.createObjectURL(_);R.setAttribute("href",V),R.setAttribute("download",`interacoes-campanha-${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)};return r?e.jsxDEV("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,padding:"20px"},children:[e.jsxDEV("div",{style:{backgroundColor:"white",borderRadius:"20px",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)",width:"100%",maxWidth:"900px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxDEV("div",{style:{backgroundColor:"#1e293b",color:"white",padding:"24px 32px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{style:{margin:0,fontSize:"20px",fontWeight:800,letterSpacing:"-0.025em"},children:"ðŸŽ¯ Detalhes de InteraÃ§Ã£o"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:149,columnNumber:13},this),e.jsxDEV("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#94a3b8",fontWeight:500},children:m.length>0?m[0].campaign_name:"Monitoramento de Engajamento"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:148,columnNumber:11},this),e.jsxDEV("div",{style:{display:"flex",gap:"12px"},children:[m.length>0&&e.jsxDEV("button",{onClick:u,style:{background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",color:"white",padding:"8px 16px",borderRadius:"6px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:"ðŸ“¥ Exportar CSV"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV("button",{onClick:a,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",width:"40px",height:"40px",borderRadius:"50%",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"âœ•"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:176,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:156,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:139,columnNumber:9},this),e.jsxDEV("div",{style:{padding:"20px 30px",backgroundColor:"#f8fafc",borderBottom:"1px solid #e5e7eb"},children:e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"bold",color:"#374151"},children:"Tipo de InteraÃ§Ã£o"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:201,columnNumber:15},this),e.jsxDEV("select",{value:f.interactionType||"",onChange:s=>h(C=>({...C,interactionType:s.target.value||void 0})),style:{width:"100%",padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:[e.jsxDEV("option",{value:"",children:"Todas"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:215,columnNumber:17},this),e.jsxDEV("option",{value:"button_click",children:"Clique em BotÃ£o"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:216,columnNumber:17},this),e.jsxDEV("option",{value:"list_selection",children:"SeleÃ§Ã£o de Lista"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:217,columnNumber:17},this),e.jsxDEV("option",{value:"carousel_click",children:"Clique em Carrossel"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:218,columnNumber:17},this),e.jsxDEV("option",{value:"keyword_response",children:"Palavra-chave"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:219,columnNumber:17},this),e.jsxDEV("option",{value:"poll_vote",children:"Voto em Enquete"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:220,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:204,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:200,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"bold",color:"#374151"},children:"Palavra-chave"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:225,columnNumber:15},this),e.jsxDEV("input",{type:"text",placeholder:"Filtrar por palavra-chave...",value:f.keyword||"",onChange:s=>h(C=>({...C,keyword:s.target.value||void 0})),style:{width:"100%",padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:228,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:224,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:199,columnNumber:11},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:198,columnNumber:9},this),e.jsxDEV("div",{style:{flex:1,overflowY:"auto"},children:p?e.jsxDEV("div",{style:{padding:"60px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[e.jsxDEV("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:256,columnNumber:15},this),e.jsxDEV("p",{style:{margin:0,color:"#6b7280"},children:"Carregando interaÃ§Ãµes..."},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:248,columnNumber:13},this):m.length===0?e.jsxDEV("div",{style:{padding:"60px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[e.jsxDEV("div",{style:{fontSize:"64px"},children:"ðŸŽ¯"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:275,columnNumber:15},this),e.jsxDEV("h3",{style:{margin:0,fontSize:"20px",color:"#374151"},children:"Nenhuma interaÃ§Ã£o encontrada"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:276,columnNumber:15},this),e.jsxDEV("p",{style:{margin:0,color:"#6b7280"},children:"Esta campanha ainda nÃ£o possui interaÃ§Ãµes registradas"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:279,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:267,columnNumber:13},this):e.jsxDEV("div",{style:{overflowX:"auto"},children:e.jsxDEV("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{style:{backgroundColor:"#f8fafc"},children:[e.jsxDEV("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Data/Hora"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:288,columnNumber:21},this),e.jsxDEV("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Contato"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:291,columnNumber:21},this),e.jsxDEV("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Tipo"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:294,columnNumber:21},this),e.jsxDEV("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"bold",color:"#374151",borderBottom:"1px solid #e5e7eb"},children:"Detalhes da InteraÃ§Ã£o"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:297,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:287,columnNumber:19},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:286,columnNumber:17},this),e.jsxDEV("tbody",{children:m.map(s=>e.jsxDEV("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[e.jsxDEV("td",{style:{padding:"12px 16px",fontSize:"12px",color:"#6b7280"},children:n(s.created_at)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:305,columnNumber:23},this),e.jsxDEV("td",{style:{padding:"12px 16px"},children:e.jsxDEV("div",{children:[e.jsxDEV("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#374151"},children:s.contact_name},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:311,columnNumber:27},this),e.jsxDEV("div",{style:{fontSize:"12px",color:"#6b7280"},children:s.contact_phone},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:314,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:310,columnNumber:25},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:309,columnNumber:23},this),e.jsxDEV("td",{style:{padding:"16px",textAlign:"center"},children:e.jsxDEV("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",backgroundColor:s.interaction_type==="button_click"?"#eff6ff":s.interaction_type==="poll_vote"?"#f5f3ff":s.interaction_type==="keyword_response"?"#fdf2f8":"#f8fafc",borderRadius:"10px",fontSize:"11px",fontWeight:700,color:s.interaction_type==="button_click"?"#2563eb":s.interaction_type==="poll_vote"?"#6366f1":s.interaction_type==="keyword_response"?"#db2777":"#475569",textTransform:"uppercase",letterSpacing:"0.025em",border:`1px solid ${s.interaction_type==="button_click"?"#dbeafe":s.interaction_type==="poll_vote"?"#ddd6fe":"#e2e8f0"}`},children:[e.jsxDEV("span",{style:{fontSize:"14px"},children:w(s.interaction_type)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:346,columnNumber:27},this),D(s.interaction_type)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:321,columnNumber:25},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:320,columnNumber:23},this),e.jsxDEV("td",{style:{padding:"12px 16px"},children:e.jsxDEV("div",{style:{fontSize:"14px",color:"#374151"},children:[s.button_text&&e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"BotÃ£o:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:355,columnNumber:31},this)," ",s.button_text]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:354,columnNumber:29},this),s.list_option_text&&e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"OpÃ§Ã£o:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:360,columnNumber:31},this)," ",s.list_option_text]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:359,columnNumber:29},this),s.keyword&&e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Palavra-chave:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:365,columnNumber:31},this)," ",s.keyword]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:364,columnNumber:29},this),s.response_text&&e.jsxDEV("div",{style:{marginTop:"4px",padding:"8px",backgroundColor:"#f8fafc",borderRadius:"6px",fontSize:"13px",color:"#6b7280"},children:[e.jsxDEV("strong",{children:"Resposta:"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:377,columnNumber:31},this),' "',s.response_text,'"']},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:369,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:352,columnNumber:25},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:351,columnNumber:23},this)]},s.id,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:304,columnNumber:21},this))},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:302,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:285,columnNumber:15},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:284,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:246,columnNumber:9},this),i.pages>1&&e.jsxDEV("div",{style:{padding:"16px 30px",backgroundColor:"#f8fafc",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV("div",{style:{fontSize:"14px",color:"#6b7280"},children:[i.total," interaÃ§Ãµes encontradas"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:400,columnNumber:13},this),e.jsxDEV("div",{style:{display:"flex",gap:"8px"},children:[e.jsxDEV("button",{onClick:()=>l(s=>({...s,page:s.page-1})),disabled:i.page===1,style:{padding:"6px 12px",backgroundColor:i.page===1?"#f3f4f6":"#3b82f6",color:i.page===1?"#9ca3af":"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:i.page===1?"not-allowed":"pointer"},children:"â† Anterior"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:405,columnNumber:15},this),e.jsxDEV("span",{style:{padding:"6px 12px",fontSize:"12px",color:"#374151",display:"flex",alignItems:"center"},children:[i.page," de ",i.pages]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:421,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>l(s=>({...s,page:s.page+1})),disabled:i.page===i.pages,style:{padding:"6px 12px",backgroundColor:i.page===i.pages?"#f3f4f6":"#3b82f6",color:i.page===i.pages?"#9ca3af":"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:i.page===i.pages?"not-allowed":"pointer"},children:"PrÃ³xima â†’"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:431,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:404,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:392,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:126,columnNumber:7},this),e.jsxDEV("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:451,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/InteractionDetailsModal.tsx",lineNumber:113,columnNumber:5},this):null}function L({isOpen:r,onClose:t,onExport:o,initialFormat:a}){const[m,d]=x.useState({format:a||"excel",includeDetails:!0,includeCharts:!0});if(x.useEffect(()=>{r&&a&&d(b=>({...b,format:a}))},[r,a]),!r)return null;const p=()=>{o(m)};return e.jsxDEV("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,backdropFilter:"blur(4px)"},children:e.jsxDEV("div",{style:{backgroundColor:"white",borderRadius:"16px",width:"100%",maxWidth:"500px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",overflow:"hidden"},children:[e.jsxDEV("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8fafc"},children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#1f2937"},children:"ðŸ“¥ Exportar RelatÃ³rio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:62,columnNumber:25},this),e.jsxDEV("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#6b7280"},children:"Configure o formato e detalhes do seu relatÃ³rio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:65,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:61,columnNumber:21},this),e.jsxDEV("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",color:"#9ca3af",cursor:"pointer",padding:"4px"},children:"âœ•"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:69,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:53,columnNumber:17},this),e.jsxDEV("div",{style:{padding:"24px"},children:[e.jsxDEV("div",{style:{marginBottom:"24px"},children:[e.jsxDEV("label",{style:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"Escolha o Formato"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:88,columnNumber:25},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxDEV("button",{onClick:()=>d({...m,format:"excel"}),style:{padding:"16px",backgroundColor:m.format==="excel"?"#ecfdf5":"white",border:`2px solid ${m.format==="excel"?"#059669":"#e5e7eb"}`,borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},children:[e.jsxDEV("span",{style:{fontSize:"24px"},children:"ðŸ“„"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:113,columnNumber:33},this),e.jsxDEV("span",{style:{fontWeight:"bold",color:m.format==="excel"?"#059669":"#374151"},children:"Excel (.xlsx)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:114,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:98,columnNumber:29},this),e.jsxDEV("button",{onClick:()=>d({...m,format:"pdf"}),style:{padding:"16px",backgroundColor:m.format==="pdf"?"#fef2f2":"white",border:`2px solid ${m.format==="pdf"?"#dc2626":"#e5e7eb"}`,borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},children:[e.jsxDEV("span",{style:{fontSize:"24px"},children:"ðŸ“•"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:134,columnNumber:33},this),e.jsxDEV("span",{style:{fontWeight:"bold",color:m.format==="pdf"?"#dc2626":"#374151"},children:"PDF (.pdf)"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:135,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:119,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:97,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:87,columnNumber:21},this),e.jsxDEV("div",{style:{backgroundColor:"#f9fafb",borderRadius:"12px",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxDEV("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",fontSize:"14px",color:"#374151"},children:[e.jsxDEV("input",{type:"checkbox",checked:m.includeDetails,onChange:b=>d({...m,includeDetails:b.target.checked}),style:{width:"18px",height:"18px",accentColor:"#059669"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:159,columnNumber:29},this),e.jsxDEV("span",{children:"Incluir detalhes individuais das interaÃ§Ãµes"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:165,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:151,columnNumber:25},this),e.jsxDEV("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",fontSize:"14px",color:"#374151"},children:[e.jsxDEV("input",{type:"checkbox",checked:m.includeCharts,onChange:b=>d({...m,includeCharts:b.target.checked}),style:{width:"18px",height:"18px",accentColor:"#059669"}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:176,columnNumber:29},this),e.jsxDEV("span",{children:"Incluir grÃ¡ficos de performance"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:182,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:168,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:143,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:85,columnNumber:17},this),e.jsxDEV("div",{style:{padding:"24px",backgroundColor:"#f8fafc",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[e.jsxDEV("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:"Cancelar"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:196,columnNumber:21},this),e.jsxDEV("button",{onClick:p,style:{padding:"10px 24px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:"Gerar RelatÃ³rio"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:211,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:188,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:44,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/components/ExportModal.tsx",lineNumber:31,columnNumber:9},this)}function U(){const[r,t]=x.useState([]),[o,a]=x.useState(null),[m,d]=x.useState(!1),[p,b]=x.useState({dateFrom:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0]}),[i,l]=x.useState({page:1,limit:20,total:0,pages:0}),[f,h]=x.useState(!1),[g,n]=x.useState(null),[w,D]=x.useState(void 0),[u,s]=x.useState(!1);x.useEffect(()=>{C(),_()},[p,i.page]);const C=async()=>{try{d(!0);const c=await E.getCampaignReports({...p,page:i.page,limit:i.limit});t(c.data),l(N=>({...N,total:c.pagination.total,pages:c.pagination.pages}))}catch(c){console.error("Erro ao carregar relatÃ³rios:",c)}finally{d(!1)}},_=async()=>{try{const c=await E.getCampaignStats(p);a(c)}catch(c){console.error("Erro ao carregar estatÃ­sticas:",c)}},R=c=>{b(c),l(N=>({...N,page:1}))},V=c=>{n(c),h(!0)},v=(c,N)=>{n(c),D(N),s(!0)},k=async c=>{try{const N=g?{campaignId:g}:p,z=await E.exportReport(N,c),S=window.URL.createObjectURL(z),j=document.createElement("a");j.href=S;const M=`relatorio-campanhas-${new Date().toISOString().split("T")[0]}.${c.format==="excel"?"xlsx":"pdf"}`;j.download=M,document.body.appendChild(j),j.click(),document.body.removeChild(j),window.URL.revokeObjectURL(S),s(!1),n(null)}catch(N){console.error("Erro ao exportar relatÃ³rio:",N),alert("Erro ao exportar relatÃ³rio. Tente novamente.")}},T=async c=>{if(window.confirm("Tem certeza que deseja excluir este relatÃ³rio? Esta aÃ§Ã£o Ã© irreversÃ­vel."))try{await E.deleteCampaignReport(c),C(),_()}catch(N){console.error("Erro ao excluir relatÃ³rio:",N),alert("Erro ao excluir relatÃ³rio.")}},I=async()=>{if(window.confirm("Tem certeza que deseja excluir TODOS os relatÃ³rios filtrados? Esta aÃ§Ã£o Ã© irreversÃ­vel."))try{await E.deleteAllCampaignReports(p),l(c=>({...c,page:1})),C(),_()}catch(c){console.error("Erro ao excluir todos os relatÃ³rios:",c),alert("Erro ao excluir relatÃ³rios.")}};return e.jsxDEV("div",{style:{height:"100vh",overflowY:"auto",backgroundColor:"#f1f5f9",padding:"24px",boxSizing:"border-box"},children:[e.jsxDEV("div",{style:{marginBottom:"32px"},children:e.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsxDEV("div",{children:[e.jsxDEV("h1",{style:{margin:0,fontSize:"32px",fontWeight:800,color:"#1e293b",display:"flex",alignItems:"center",gap:"16px",letterSpacing:"-0.025em"},children:[e.jsxDEV("span",{style:{padding:"12px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",display:"flex",alignItems:"center",justifyContent:"center"},children:"ðŸ“Š"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:162,columnNumber:15},this),"RelatÃ³rios de Performance"]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:152,columnNumber:13},this),e.jsxDEV("p",{style:{margin:"8px 0 0 0",fontSize:"16px",color:"#64748b",fontWeight:500},children:"MÃ©tricas detalhadas e insights das suas campanhas de WhatsApp"},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:173,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:151,columnNumber:11},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:150,columnNumber:9},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:149,columnNumber:7},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"minmax(320px, 1fr) 3fr",gap:"32px",alignItems:"start"},children:[e.jsxDEV("aside",{style:{display:"flex",flexDirection:"column",gap:"24px",position:"sticky",top:"0"},children:o&&e.jsxDEV(B,{stats:o,isVertical:!0},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:194,columnNumber:21},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:187,columnNumber:9},this),e.jsxDEV("main",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsxDEV(P,{filters:p,onFiltersChange:R,onReset:()=>R({dateFrom:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0]})},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:200,columnNumber:11},this),e.jsxDEV("div",{style:{backgroundColor:"white",borderRadius:"20px",boxShadow:"0 4px 20px -2px rgba(0, 0, 0, 0.05)",overflow:"hidden",marginBottom:"40px",border:"1px solid #e2e8f0"},children:e.jsxDEV(W,{reports:r,loading:m,pagination:i,onPageChange:c=>l(N=>({...N,page:c})),onViewInteractions:V,onExport:v,onDelete:T,onDeleteAll:I},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:218,columnNumber:13},this)},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:198,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:180,columnNumber:7},this),e.jsxDEV(A,{isOpen:f,campaignId:g,filters:p,onClose:()=>{h(!1),n(null)}},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:233,columnNumber:7},this),e.jsxDEV(L,{isOpen:u,initialFormat:w,onClose:()=>{s(!1),D(void 0)},onExport:k},void 0,!1,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:244,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Chatvendas_new/src/modules/Relatorios/page.tsx",lineNumber:141,columnNumber:5},this)}export{U as RelatoriosPage,U as default};
